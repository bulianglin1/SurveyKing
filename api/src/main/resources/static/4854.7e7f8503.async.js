(self.webpackChunksurvey_king=self.webpackChunksurvey_king||[]).push([[4854],{99008:function(Tn,rr,x){"use strict";x.d(rr,{Z:function(){return w}});var A=x(28991),u=x(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},c=v,b=x(27029),M=function(j,L){return u.createElement(b.Z,(0,A.Z)((0,A.Z)({},j),{},{ref:L,icon:c}))};M.displayName="FileTextOutlined";var w=u.forwardRef(M)},65602:function(Tn,rr,x){"use strict";x.d(rr,{Z:function(){return w}});var A=x(28991),u=x(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM304.8 524h50.7c3.7 0 6.8-3 6.8-6.8v-78.9c0-19.7 15.9-35.6 35.5-35.6h205.7v53.4c0 5.7 6.5 8.8 10.9 5.3l109.1-85.7c3.5-2.7 3.5-8 0-10.7l-109.1-85.7c-4.4-3.5-10.9-.3-10.9 5.3V338H397.7c-55.1 0-99.7 44.8-99.7 100.1V517c0 4 3 7 6.8 7zm-4.2 134.9l109.1 85.7c4.4 3.5 10.9.3 10.9-5.3v-53.4h205.7c55.1 0 99.7-44.8 99.7-100.1v-78.9c0-3.7-3-6.8-6.8-6.8h-50.7c-3.7 0-6.8 3-6.8 6.8v78.9c0 19.7-15.9 35.6-35.5 35.6H420.6V568c0-5.7-6.5-8.8-10.9-5.3l-109.1 85.7c-3.5 2.5-3.5 7.8 0 10.5z"}}]},name:"interaction",theme:"outlined"},c=v,b=x(27029),M=function(j,L){return u.createElement(b.Z,(0,A.Z)((0,A.Z)({},j),{},{ref:L,icon:c}))};M.displayName="InteractionOutlined";var w=u.forwardRef(M)},2603:function(Tn,rr,x){"use strict";x.d(rr,{Z:function(){return w}});var A=x(28991),u=x(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},c=v,b=x(27029),M=function(j,L){return u.createElement(b.Z,(0,A.Z)((0,A.Z)({},j),{},{ref:L,icon:c}))};M.displayName="LockOutlined";var w=u.forwardRef(M)},89792:function(Tn,rr,x){"use strict";x.d(rr,{Z:function(){return w}});var A=x(28991),u=x(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M952 612c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H298a95.92 95.92 0 00-89-60c-53 0-96 43-96 96s43 96 96 96c40.3 0 74.8-24.8 89-60h150.3v152c0 55.2 44.8 100 100 100H952c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H548.3c-15.5 0-28-12.5-28-28V612H952zM451.7 313.7l172.5 136.2c6.3 5.1 15.8.5 15.8-7.7V344h264c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H640v-98.2c0-8.1-9.4-12.8-15.8-7.7L451.7 298.3a9.9 9.9 0 000 15.4z"}}]},name:"node-collapse",theme:"outlined"},c=v,b=x(27029),M=function(j,L){return u.createElement(b.Z,(0,A.Z)((0,A.Z)({},j),{},{ref:L,icon:c}))};M.displayName="NodeCollapseOutlined";var w=u.forwardRef(M)},1870:function(Tn,rr,x){"use strict";x.d(rr,{Z:function(){return w}});var A=x(28991),u=x(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},c=v,b=x(27029),M=function(j,L){return u.createElement(b.Z,(0,A.Z)((0,A.Z)({},j),{},{ref:L,icon:c}))};M.displayName="QuestionCircleOutlined";var w=u.forwardRef(M)},11075:function(Tn,rr,x){"use strict";x.d(rr,{Z:function(){return w}});var A=x(28991),u=x(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},c=v,b=x(27029),M=function(j,L){return u.createElement(b.Z,(0,A.Z)((0,A.Z)({},j),{},{ref:L,icon:c}))};M.displayName="RollbackOutlined";var w=u.forwardRef(M)},13105:function(Tn,rr,x){"use strict";x.d(rr,{Z:function(){return w}});var A=x(28991),u=x(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 112H724V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H500V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H320c-17.7 0-32 14.3-32 32v120h-96c-17.7 0-32 14.3-32 32v632c0 17.7 14.3 32 32 32h512c17.7 0 32-14.3 32-32v-96h96c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM664 888H232V336h218v174c0 22.1 17.9 40 40 40h174v338zm0-402H514V336h.2L664 485.8v.2zm128 274h-56V456L544 264H360v-80h68v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h152v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h68v576z"}}]},name:"snippets",theme:"outlined"},c=v,b=x(27029),M=function(j,L){return u.createElement(b.Z,(0,A.Z)((0,A.Z)({},j),{},{ref:L,icon:c}))};M.displayName="SnippetsOutlined";var w=u.forwardRef(M)},15360:function(Tn,rr,x){"use strict";x.d(rr,{Z:function(){return w}});var A=x(28991),u=x(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},c=v,b=x(27029),M=function(j,L){return u.createElement(b.Z,(0,A.Z)((0,A.Z)({},j),{},{ref:L,icon:c}))};M.displayName="StopOutlined";var w=u.forwardRef(M)},89366:function(Tn,rr,x){"use strict";x.d(rr,{Z:function(){return w}});var A=x(28991),u=x(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},c=v,b=x(27029),M=function(j,L){return u.createElement(b.Z,(0,A.Z)((0,A.Z)({},j),{},{ref:L,icon:c}))};M.displayName="UserOutlined";var w=u.forwardRef(M)},3157:function(Tn,rr,x){"use strict";x.d(rr,{Z:function(){return w}});var A=x(28991),u=x(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M759 335c0-137-111-248-248-248S263 198 263 335c0 82.8 40.6 156.2 103 201.2-.4.2-.7.3-.9.4-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00136 874.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C356 614.2 431 583 511 583c137 0 248-111 248-248zM511 507c-95 0-172-77-172-172s77-172 172-172 172 77 172 172-77 172-172 172zm105 221h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H703.5l47.2-60.1a8.1 8.1 0 001.7-4.9c0-4.4-3.6-8-8-8h-72.6c-4.9 0-9.5 2.3-12.6 6.1l-68.5 87.1c-4.4 5.6-6.8 12.6-6.8 19.8.1 17.7 14.4 32 32.1 32zm240 64H592c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h176.5l-47.2 60.1a8.1 8.1 0 00-1.7 4.9c0 4.4 3.6 8 8 8h72.6c4.9 0 9.5-2.3 12.6-6.1l68.5-87.1c4.4-5.6 6.8-12.6 6.8-19.8-.1-17.7-14.4-32-32.1-32z"}}]},name:"user-switch",theme:"outlined"},c=v,b=x(27029),M=function(j,L){return u.createElement(b.Z,(0,A.Z)((0,A.Z)({},j),{},{ref:L,icon:c}))};M.displayName="UserSwitchOutlined";var w=u.forwardRef(M)},59782:function(Tn,rr){(function(A,u){if(!0)Tn.exports=u();else var v,c})(window,function(){return function(x){var A={};function u(v){if(A[v])return A[v].exports;var c=A[v]={i:v,l:!1,exports:{}};return x[v].call(c.exports,c,c.exports,u),c.l=!0,c.exports}return u.m=x,u.c=A,u.d=function(v,c,b){u.o(v,c)||Object.defineProperty(v,c,{enumerable:!0,get:b})},u.r=function(v){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},u.t=function(v,c){if(c&1&&(v=u(v)),c&8||c&4&&typeof v=="object"&&v&&v.__esModule)return v;var b=Object.create(null);if(u.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:v}),c&2&&typeof v!="string")for(var M in v)u.d(b,M,function(w){return v[w]}.bind(null,M));return b},u.n=function(v){var c=v&&v.__esModule?function(){return v.default}:function(){return v};return u.d(c,"a",c),c},u.o=function(v,c){return Object.prototype.hasOwnProperty.call(v,c)},u.p="",u(u.s=215)}([function(x,A,u){"use strict";(function(v,c){u.d(A,"a",function(){return re}),u.d(A,"b",function(){return _o}),u.d(A,"c",function(){return Ln}),u.d(A,"d",function(){return Se}),u.d(A,"e",function(){return bt}),u.d(A,"f",function(){return Nt}),u.d(A,"g",function(){return wl}),u.d(A,"h",function(){return Ye}),u.d(A,"i",function(){return G}),u.d(A,"j",function(){return ba}),u.d(A,"k",function(){return en}),u.d(A,"l",function(){return zr}),u.d(A,"m",function(){return ot}),u.d(A,"n",function(){return Va}),u.d(A,"o",function(){return Re}),u.d(A,"p",function(){return dn}),u.d(A,"q",function(){return xi}),u.d(A,"r",function(){return Za}),u.d(A,"s",function(){return Te}),u.d(A,"t",function(){return Ko}),u.d(A,"u",function(){return Pa}),u.d(A,"v",function(){return Zo}),u.d(A,"w",function(){return Io}),u.d(A,"x",function(){return Kn}),u.d(A,"y",function(){return ar}),u.d(A,"z",function(){return fr}),u.d(A,"A",function(){return Ee}),u.d(A,"B",function(){return Dn}),u.d(A,"C",function(){return Ft}),u.d(A,"D",function(){return Yi}),u.d(A,"E",function(){return fn}),u.d(A,"F",function(){return Si}),u.d(A,"G",function(){return Wa}),u.d(A,"H",function(){return Nn}),u.d(A,"I",function(){return eu}),u.d(A,"J",function(){return Xr}),u.d(A,"K",function(){return Ke}),u.d(A,"L",function(){return Jo}),u.d(A,"M",function(){return Vn});var b="An invariant failed, however the error is obfuscated because this is a production build.",M=[];Object.freeze(M);var w={};Object.freeze(w);function C(){return++Je.mobxGuid}function j(s){throw L(!1,s),"X"}function L(s,f){if(!s)throw new Error("[mobx] "+(f||b))}var F=[];function Y(s,f){return!1}function U(s){var f=!1;return function(){if(!f)return f=!0,s.apply(this,arguments)}}var W=function(){};function ee(s){var f=[];return s.forEach(function(h){f.indexOf(h)===-1&&f.push(h)}),f}function ae(s){return s!==null&&typeof s=="object"}function q(s){if(s===null||typeof s!="object")return!1;var f=Object.getPrototypeOf(s);return f===Object.prototype||f===null}function Me(s){if(te(s)||fr(s))return s;if(Array.isArray(s))return new Map(s);if(q(s)){var f=new Map;for(var h in s)f.set(h,s[h]);return f}else return j("Cannot convert to map from '"+s+"'")}function ye(s,f,h){Object.defineProperty(s,f,{enumerable:!1,writable:!0,configurable:!0,value:h})}function me(s,f,h){Object.defineProperty(s,f,{enumerable:!1,writable:!1,configurable:!0,value:h})}function le(s,f){var h=Object.getOwnPropertyDescriptor(s,f);return!h||h.configurable!==!1&&h.writable!==!1}function Oe(s,f){}function ue(s,f){var h="isMobX"+s;return f.prototype[h]=!0,function(D){return ae(D)&&D[h]===!0}}function ve(s){return Array.isArray(s)||ar(s)}function te(s){return s instanceof Map}function z(s){return s instanceof Set}function Q(s){var f=new Set;for(var h in s)f.add(h);return Object.getOwnPropertySymbols(s).forEach(function(D){Object.getOwnPropertyDescriptor(s,D).enumerable&&f.add(D)}),Array.from(f)}function oe(s){return s&&s.toString?s.toString():new String(s).toString()}function se(s){return s===null?null:typeof s=="object"?""+s:s}var ce=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(s){return Object.getOwnPropertyNames(s).concat(Object.getOwnPropertySymbols(s))}:Object.getOwnPropertyNames,re=Symbol("mobx administration"),de=function(){function s(f){f===void 0&&(f="Atom@"+C()),this.name=f,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=$e.NOT_TRACKING}return s.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(f){return f()})},s.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(f){return f()})},s.prototype.reportObserved=function(){return po(this)},s.prototype.reportChanged=function(){kr(),Dr(this),Zr()},s.prototype.toString=function(){return this.name},s}(),Ce=ue("Atom",de);function Re(s,f,h){f===void 0&&(f=W),h===void 0&&(h=W);var D=new de(s);return f!==W&&Ta(D,f),h!==W&&fn(D,h),D}function He(s,f){return s===f}function Ve(s,f){return dt(s,f)}function it(s,f){return dt(s,f,1)}function yt(s,f){return Object.is(s,f)}var ht={identity:He,structural:Ve,default:yt,shallow:it};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Be=function(s,f){return Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,D){h.__proto__=D}||function(h,D){for(var H in D)D.hasOwnProperty(H)&&(h[H]=D[H])},Be(s,f)};function et(s,f){Be(s,f);function h(){this.constructor=s}s.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}var tt=function(){return tt=Object.assign||function(f){for(var h,D=1,H=arguments.length;D<H;D++){h=arguments[D];for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(f[_]=h[_])}return f},tt.apply(this,arguments)};function Ue(s){var f=typeof Symbol=="function"&&s[Symbol.iterator],h=0;return f?f.call(s):{next:function(){return s&&h>=s.length&&(s=void 0),{value:s&&s[h++],done:!s}}}}function V(s,f){var h=typeof Symbol=="function"&&s[Symbol.iterator];if(!h)return s;var D=h.call(s),H,_=[],ge;try{for(;(f===void 0||f-- >0)&&!(H=D.next()).done;)_.push(H.value)}catch(ze){ge={error:ze}}finally{try{H&&!H.done&&(h=D.return)&&h.call(D)}finally{if(ge)throw ge.error}}return _}function Z(){for(var s=[],f=0;f<arguments.length;f++)s=s.concat(V(arguments[f]));return s}var ne=Symbol("mobx did run lazy initializers"),we=Symbol("mobx pending decorators"),Ge={},Pe={};function pt(s,f){var h=f?Ge:Pe;return h[s]||(h[s]={configurable:!0,enumerable:f,get:function(){return st(this),this[s]},set:function(D){st(this),this[s]=D}})}function st(s){var f,h;if(s[ne]!==!0){var D=s[we];if(D){ye(s,ne,!0);var H=Z(Object.getOwnPropertySymbols(D),Object.keys(D));try{for(var _=Ue(H),ge=_.next();!ge.done;ge=_.next()){var ze=ge.value,_e=D[ze];_e.propertyCreator(s,_e.prop,_e.descriptor,_e.decoratorTarget,_e.decoratorArguments)}}catch(Rt){f={error:Rt}}finally{try{ge&&!ge.done&&(h=_.return)&&h.call(_)}finally{if(f)throw f.error}}}}}function ft(s,f){return function(){var D,H=function(ge,ze,_e,Rt){if(Rt===!0)return f(ge,ze,_e,ge,D),null;if(!Object.prototype.hasOwnProperty.call(ge,we)){var wt=ge[we];ye(ge,we,tt({},wt))}return ge[we][ze]={prop:ze,propertyCreator:f,descriptor:_e,decoratorTarget:ge,decoratorArguments:D},pt(ze,s)};return mt(arguments)?(D=M,H.apply(null,arguments)):(D=Array.prototype.slice.call(arguments),H)}}function mt(s){return(s.length===2||s.length===3)&&(typeof s[1]=="string"||typeof s[1]=="symbol")||s.length===4&&s[3]===!0}function De(s,f,h){return Kn(s)?s:Array.isArray(s)?Ft.array(s,{name:h}):q(s)?Ft.object(s,void 0,{name:h}):te(s)?Ft.map(s,{name:h}):z(s)?Ft.set(s,{name:h}):s}function jt(s,f,h){return s==null||Ee(s)||ar(s)||fr(s)||E(s)?s:Array.isArray(s)?Ft.array(s,{name:h,deep:!1}):q(s)?Ft.object(s,void 0,{name:h,deep:!1}):te(s)?Ft.map(s,{name:h,deep:!1}):z(s)?Ft.set(s,{name:h,deep:!1}):j(!1)}function at(s){return s}function ut(s,f,h){return dt(s,f)?f:s}function vt(s){L(s);var f=ft(!0,function(D,H,_,ge,ze){var _e=_?_.initializer?_.initializer.call(D):_.value:void 0;y(D).addObservableProp(H,_e,s)}),h=(typeof v!="undefined"&&v.env,f);return h.enhancer=s,h}var Ut={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Ut);function Bt(s){/^(deep|name|equals|defaultDecorator|proxy)$/.test(s)||j("invalid option for (extend)observable: "+s)}function At(s){return s==null?Ut:typeof s=="string"?{name:s,deep:!0,proxy:!0}:s}var It=vt(De),Qt=vt(jt),Gt=vt(at),or=vt(ut);function gr(s){return s.defaultDecorator?s.defaultDecorator.enhancer:s.deep===!1?at:De}function pr(s,f,h){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return It.apply(null,arguments);if(Kn(s))return s;var D=q(s)?Ft.object(s,f,h):Array.isArray(s)?Ft.array(s,f):te(s)?Ft.map(s,f):z(s)?Ft.set(s,f):s;if(D!==s)return D;j(!1)}var sr={box:function(s,f){arguments.length>2&&kt("box");var h=At(f);return new rn(s,gr(h),h.name,!0,h.equals)},array:function(s,f){arguments.length>2&&kt("array");var h=At(f);return ru(s,gr(h),h.name)},map:function(s,f){arguments.length>2&&kt("map");var h=At(f);return new _o(s,gr(h),h.name)},set:function(s,f){arguments.length>2&&kt("set");var h=At(f);return new uo(s,gr(h),h.name)},object:function(s,f,h){typeof arguments[1]=="string"&&kt("object");var D=At(h);if(D.proxy===!1)return xi({},s,f,D);var H=wa(D),_=xi({},void 0,void 0,D),ge=wi(_);return ho(ge,s,f,H),ge},ref:Gt,shallow:Qt,deep:It,struct:or},Ft=pr;Object.keys(sr).forEach(function(s){return Ft[s]=sr[s]});function kt(s){j("Expected one or two arguments to observable."+s+". Did you accidentally try to use observable."+s+" as decorator?")}var nr=ft(!1,function(s,f,h,D,H){var _=h.get,ge=h.set,ze=H[0]||{};y(s).addComputedProp(s,f,tt({get:_,set:ge,context:s},ze))}),We=nr({equals:ht.structural}),ot=function(f,h,D){if(typeof h=="string"||f!==null&&typeof f=="object"&&arguments.length===1)return nr.apply(null,arguments);var H=typeof h=="object"?h:{};return H.get=f,H.set=typeof h=="function"?h:H.set,H.name=H.name||f.name||"",new Xn(H)};ot.struct=We;var $e;(function(s){s[s.NOT_TRACKING=-1]="NOT_TRACKING",s[s.UP_TO_DATE=0]="UP_TO_DATE",s[s.POSSIBLY_STALE=1]="POSSIBLY_STALE",s[s.STALE=2]="STALE"})($e||($e={}));var ct;(function(s){s[s.NONE=0]="NONE",s[s.LOG=1]="LOG",s[s.BREAK=2]="BREAK"})(ct||(ct={}));var xt=function(){function s(f){this.cause=f}return s}();function Dt(s){return s instanceof xt}function k(s){switch(s.dependenciesState){case $e.UP_TO_DATE:return!1;case $e.NOT_TRACKING:case $e.STALE:return!0;case $e.POSSIBLY_STALE:{for(var f=Nt(!0),h=Xe(),D=s.observing,H=D.length,_=0;_<H;_++){var ge=D[_];if(no(ge)){if(Je.disableErrorBoundaries)ge.get();else try{ge.get()}catch(ze){return nt(h),bt(f),!0}if(s.dependenciesState===$e.STALE)return nt(h),bt(f),!0}}return cr(s),nt(h),bt(f),!1}}}function G(){return Je.trackingDerivation!==null}function g(s){var f=s.observers.size>0;Je.computationDepth>0&&f&&j(!1),!Je.allowStateChanges&&(f||Je.enforceActions==="strict")&&j(!1)}function P(s){}function R(s,f,h){var D=Nt(!0);cr(s),s.newObserving=new Array(s.observing.length+100),s.unboundDepsCount=0,s.runId=++Je.runId;var H=Je.trackingDerivation;Je.trackingDerivation=s;var _;if(Je.disableErrorBoundaries===!0)_=f.call(h);else try{_=f.call(h)}catch(ge){_=new xt(ge)}return Je.trackingDerivation=H,je(s),X(s),bt(D),_}function X(s){}function je(s){for(var f=s.observing,h=s.observing=s.newObserving,D=$e.UP_TO_DATE,H=0,_=s.unboundDepsCount,ge=0;ge<_;ge++){var ze=h[ge];ze.diffValue===0&&(ze.diffValue=1,H!==ge&&(h[H]=ze),H++),ze.dependenciesState>D&&(D=ze.dependenciesState)}for(h.length=H,s.newObserving=null,_=f.length;_--;){var ze=f[_];ze.diffValue===0&&$a(ze,s),ze.diffValue=0}for(;H--;){var ze=h[H];ze.diffValue===1&&(ze.diffValue=0,$i(ze,s))}D!==$e.UP_TO_DATE&&(s.dependenciesState=D,s.onBecomeStale())}function Ae(s){var f=s.observing;s.observing=[];for(var h=f.length;h--;)$a(f[h],s);s.dependenciesState=$e.NOT_TRACKING}function Ke(s){var f=Xe();try{return s()}finally{nt(f)}}function Xe(){var s=Je.trackingDerivation;return Je.trackingDerivation=null,s}function nt(s){Je.trackingDerivation=s}function Nt(s){var f=Je.allowStateReads;return Je.allowStateReads=s,f}function bt(s){Je.allowStateReads=s}function cr(s){if(s.dependenciesState!==$e.UP_TO_DATE){s.dependenciesState=$e.UP_TO_DATE;for(var f=s.observing,h=f.length;h--;)f[h].lowestObserverState=$e.UP_TO_DATE}}var ir=0,Rr=1,Ur=Object.getOwnPropertyDescriptor(function(){},"name"),sn=Ur&&Ur.configurable;function $r(s,f,h){var D=function(){return Ui(s,f,h||this,arguments)};return D.isMobxAction=!0,D}function Ui(s,f,h,D){var H=ba(s,h,D);try{return f.apply(h,D)}catch(_){throw H.error=_,_}finally{wl(H)}}function ba(s,f,h){var D=yr()&&!!s,H=0;if(D,!1){var _,ge;if(_>0)for(var ze;ze<_;ze++);}var _e=Xe();kr();var Rt=co(!0),wt=Nt(!0),Xt={prevDerivation:_e,prevAllowStateChanges:Rt,prevAllowStateReads:wt,notifySpy:D,startTime:H,actionId:Rr++,parentActionId:ir};return ir=Xt.actionId,Xt}function wl(s){ir!==s.actionId&&j("invalid action stack. did you forget to finish an action?"),ir=s.parentActionId,s.error!==void 0&&(Je.suppressReactionErrors=!0),wn(s.prevAllowStateChanges),bt(s.prevAllowStateReads),Zr(),nt(s.prevDerivation),s.notifySpy,Je.suppressReactionErrors=!1}function Se(s,f){var h=co(s),D;try{D=f()}finally{wn(h)}return D}function co(s){var f=Je.allowStateChanges;return Je.allowStateChanges=s,f}function wn(s){Je.allowStateChanges=s}function Ua(s){var f=Je.computationDepth;Je.computationDepth=0;var h;try{h=s()}finally{Je.computationDepth=f}return h}var rn=function(s){et(f,s);function f(h,D,H,_,ge){H===void 0&&(H="ObservableValue@"+C()),_===void 0&&(_=!0),ge===void 0&&(ge=ht.default);var ze=s.call(this,H)||this;return ze.enhancer=D,ze.name=H,ze.equals=ge,ze.hasUnreportedChange=!1,ze.value=D(h,void 0,H),_&&yr(),ze}return f.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},f.prototype.set=function(h){var D=this.value;if(h=this.prepareNewValue(h),h!==Je.UNCHANGED){var H=yr();this.setNewValue(h)}},f.prototype.prepareNewValue=function(h){if(g(this),Yr(this)){var D=Gr(this,{object:this,type:"update",newValue:h});if(!D)return Je.UNCHANGED;h=D.newValue}return h=this.enhancer(h,this.value,this.name),this.equals(this.value,h)?Je.UNCHANGED:h},f.prototype.setNewValue=function(h){var D=this.value;this.value=h,this.reportChanged(),Fr(this)&&Hr(this,{type:"update",object:this,newValue:h,oldValue:D})},f.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},f.prototype.intercept=function(h){return Hn(this,h)},f.prototype.observe=function(h,D){return D&&h({object:this,type:"update",newValue:this.value,oldValue:void 0}),Zn(this,h)},f.prototype.toJSON=function(){return this.get()},f.prototype.toString=function(){return this.name+"["+this.value+"]"},f.prototype.valueOf=function(){return se(this.get())},f.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},f}(de),Oa=ue("ObservableValue",rn),Xn=function(){function s(f){this.dependenciesState=$e.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=$e.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+C(),this.value=new xt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ct.NONE,L(f.get,"missing option for computed: get"),this.derivation=f.get,this.name=f.name||"ComputedValue@"+C(),f.set&&(this.setter=$r(this.name+"-setter",f.set)),this.equals=f.equals||(f.compareStructural||f.struct?ht.structural:ht.default),this.scope=f.context,this.requiresReaction=!!f.requiresReaction,this.keepAlive=!!f.keepAlive}return s.prototype.onBecomeStale=function(){Xa(this)},s.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(f){return f()})},s.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(f){return f()})},s.prototype.get=function(){this.isComputing&&j("Cycle detected in computation "+this.name+": "+this.derivation),Je.inBatch===0&&this.observers.size===0&&!this.keepAlive?k(this)&&(this.warnAboutUntrackedRead(),kr(),this.value=this.computeValue(!1),Zr()):(po(this),k(this)&&this.trackAndCompute()&&Ea(this));var f=this.value;if(Dt(f))throw f.cause;return f},s.prototype.peek=function(){var f=this.computeValue(!1);if(Dt(f))throw f.cause;return f},s.prototype.set=function(f){if(this.setter){L(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,f)}finally{this.isRunningSetter=!1}}else L(!1,!1)},s.prototype.trackAndCompute=function(){yr();var f=this.value,h=this.dependenciesState===$e.NOT_TRACKING,D=this.computeValue(!0),H=h||Dt(f)||Dt(D)||!this.equals(f,D);return H&&(this.value=D),H},s.prototype.computeValue=function(f){this.isComputing=!0,Je.computationDepth++;var h;if(f)h=R(this,this.derivation,this.scope);else if(Je.disableErrorBoundaries===!0)h=this.derivation.call(this.scope);else try{h=this.derivation.call(this.scope)}catch(D){h=new xt(D)}return Je.computationDepth--,this.isComputing=!1,h},s.prototype.suspend=function(){this.keepAlive||(Ae(this),this.value=void 0)},s.prototype.observe=function(f,h){var D=this,H=!0,_=void 0;return zr(function(){var ge=D.get();if(!H||h){var ze=Xe();f({type:"update",object:D,newValue:ge,oldValue:_}),nt(ze)}H=!1,_=ge})},s.prototype.warnAboutUntrackedRead=function(){},s.prototype.toJSON=function(){return this.get()},s.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},s.prototype.valueOf=function(){return se(this.get())},s.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},s}(),no=ue("ComputedValue",Xn),ws=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED"],Yn=function(){function s(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return s}(),Al={};function ko(){return typeof window!="undefined"?window:typeof c!="undefined"?c:typeof self!="undefined"?self:Al}var Xo=!0,Nl=!1,Je=function(){var s=ko();return s.__mobxInstanceCount>0&&!s.__mobxGlobals&&(Xo=!1),s.__mobxGlobals&&s.__mobxGlobals.version!==new Yn().version&&(Xo=!1),Xo?s.__mobxGlobals?(s.__mobxInstanceCount+=1,s.__mobxGlobals.UNCHANGED||(s.__mobxGlobals.UNCHANGED={}),s.__mobxGlobals):(s.__mobxInstanceCount=1,s.__mobxGlobals=new Yn):(setTimeout(function(){Nl||j("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Yn)}();function As(){(Je.pendingReactions.length||Je.inBatch||Je.isRunningReactions)&&j("isolateGlobalState should be called before MobX is running any reactions"),Nl=!0,Xo&&(--ko().__mobxInstanceCount==0&&(ko().__mobxGlobals=void 0),Je=new Yn)}function Rd(){return Je}function Id(){var s=new Yn;for(var f in s)ws.indexOf(f)===-1&&(Je[f]=s[f]);Je.allowStateChanges=!Je.enforceActions}function fc(s){return s.observers&&s.observers.size>0}function Dl(s){return s.observers}function $i(s,f){s.observers.add(f),s.lowestObserverState>f.dependenciesState&&(s.lowestObserverState=f.dependenciesState)}function $a(s,f){s.observers.delete(f),s.observers.size===0&&ka(s)}function ka(s){s.isPendingUnobservation===!1&&(s.isPendingUnobservation=!0,Je.pendingUnobservations.push(s))}function kr(){Je.inBatch++}function Zr(){if(--Je.inBatch==0){An();for(var s=Je.pendingUnobservations,f=0;f<s.length;f++){var h=s[f];h.isPendingUnobservation=!1,h.observers.size===0&&(h.isBeingObserved&&(h.isBeingObserved=!1,h.onBecomeUnobserved()),h instanceof Xn&&h.suspend())}Je.pendingUnobservations=[]}}function po(s){P(s);var f=Je.trackingDerivation;return f!==null?(f.runId!==s.lastAccessedBy&&(s.lastAccessedBy=f.runId,f.newObserving[f.unboundDepsCount++]=s,s.isBeingObserved||(s.isBeingObserved=!0,s.onBecomeObserved())),!0):(s.observers.size===0&&Je.inBatch>0&&ka(s),!1)}function Dr(s){s.lowestObserverState!==$e.STALE&&(s.lowestObserverState=$e.STALE,s.observers.forEach(function(f){f.dependenciesState===$e.UP_TO_DATE&&(f.isTracing!==ct.NONE&&vo(f,s),f.onBecomeStale()),f.dependenciesState=$e.STALE}))}function Ea(s){s.lowestObserverState!==$e.STALE&&(s.lowestObserverState=$e.STALE,s.observers.forEach(function(f){f.dependenciesState===$e.POSSIBLY_STALE?f.dependenciesState=$e.STALE:f.dependenciesState===$e.UP_TO_DATE&&(s.lowestObserverState=$e.UP_TO_DATE)}))}function Xa(s){s.lowestObserverState===$e.UP_TO_DATE&&(s.lowestObserverState=$e.POSSIBLY_STALE,s.observers.forEach(function(f){f.dependenciesState===$e.UP_TO_DATE&&(f.dependenciesState=$e.POSSIBLY_STALE,f.isTracing!==ct.NONE&&vo(f,s),f.onBecomeStale())}))}function vo(s,f){if(console.log("[mobx.trace] '"+s.name+"' is invalidated due to a change in: '"+f.name+"'"),s.isTracing===ct.BREAK){var h=[];xn(Ko(s),h,1),new Function(`debugger;
/*
Tracing '`+s.name+`'

You are entering this break point because derivation '`+s.name+"' is being traced and '"+f.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(s instanceof Xn?s.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+h.join(`
`)+`
*/
    `)()}}function xn(s,f,h){if(f.length>=1e3){f.push("(and many more)");return}f.push(""+new Array(h).join("	")+s.name),s.dependencies&&s.dependencies.forEach(function(D){return xn(D,f,h+1)})}var Ln=function(){function s(f,h,D,H){f===void 0&&(f="Reaction@"+C()),H===void 0&&(H=!1),this.name=f,this.onInvalidate=h,this.errorHandler=D,this.requiresObservable=H,this.observing=[],this.newObserving=[],this.dependenciesState=$e.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+C(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ct.NONE}return s.prototype.onBecomeStale=function(){this.schedule()},s.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Je.pendingReactions.push(this),An())},s.prototype.isScheduled=function(){return this._isScheduled},s.prototype.runReaction=function(){if(!this.isDisposed){if(kr(),this._isScheduled=!1,k(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&yr()}catch(f){this.reportExceptionInDerivation(f)}}Zr()}},s.prototype.track=function(f){if(!this.isDisposed){kr();var h=yr(),D;this._isRunning=!0;var H=R(this,f,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Ae(this),Dt(H)&&this.reportExceptionInDerivation(H.cause),Zr()}},s.prototype.reportExceptionInDerivation=function(f){var h=this;if(this.errorHandler){this.errorHandler(f,this);return}if(Je.disableErrorBoundaries)throw f;var D="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Je.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(D,f),yr()&&zn({type:"error",name:this.name,message:D,error:""+f}),Je.globalReactionErrorHandlers.forEach(function(H){return H(f,h)})},s.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(kr(),Ae(this),Zr()))},s.prototype.getDisposer=function(){var f=this.dispose.bind(this);return f[re]=this,f},s.prototype.toString=function(){return"Reaction["+this.name+"]"},s.prototype.trace=function(f){f===void 0&&(f=!1),Ki(this,f)},s}();function oo(s){return Je.globalReactionErrorHandlers.push(s),function(){var f=Je.globalReactionErrorHandlers.indexOf(s);f>=0&&Je.globalReactionErrorHandlers.splice(f,1)}}var mi=100,Yo=function(s){return s()};function An(){Je.inBatch>0||Je.isRunningReactions||Yo(Sa)}function Sa(){Je.isRunningReactions=!0;for(var s=Je.pendingReactions,f=0;s.length>0;){++f===mi&&(console.error("Reaction doesn't converge to a stable state after "+mi+" iterations."+(" Probably there is a cycle in the reactive function: "+s[0])),s.splice(0));for(var h=s.splice(0),D=0,H=h.length;D<H;D++)h[D].runReaction()}Je.isRunningReactions=!1}var Pn=ue("Reaction",Ln);function Wo(s){var f=Yo;Yo=function(h){return s(function(){return f(h)})}}function yr(){return!1}function zn(s){return;for(var f,h,D;h<D;h++)f[h](s)}function bi(s){return;var f}var jo={spyReportEnd:!0};function Fn(s){}function Nn(s){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Oi(){j(!1)}function Ei(s){return function(f,h,D){if(D){if(D.value)return{value:$r(s,D.value),enumerable:!1,configurable:!0,writable:!0};var H=D.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return $r(s,H.call(this))}}}return xa(s).apply(this,arguments)}}function xa(s){return function(f,h,D){Object.defineProperty(f,h,{configurable:!0,enumerable:!1,get:function(){},set:function(H){ye(this,h,en(s,H))}})}}function Ya(s,f,h,D){return D===!0?(io(s,f,h.value),null):h?{configurable:!0,enumerable:!1,get:function(){return io(this,f,h.value||h.initializer.call(this)),this[f]},set:Oi}:{enumerable:!1,configurable:!0,set:function(H){io(this,f,H)},get:function(){}}}var en=function(f,h,D,H){if(arguments.length===1&&typeof f=="function")return $r(f.name||"<unnamed action>",f);if(arguments.length===2&&typeof h=="function")return $r(f,h);if(arguments.length===1&&typeof f=="string")return Ei(f);if(H===!0)ye(f,h,$r(f.name||h,D.value,this));else return Ei(h).apply(null,arguments)};en.bound=Ya;function Wa(s,f){var h=typeof s=="string"?s:s.name||"<unnamed action>",D=typeof s=="function"?s:f;return Ui(h,D,this,void 0)}function Pa(s){return typeof s=="function"&&s.isMobxAction===!0}function io(s,f,h){ye(s,f,$r(f,h.bind(s)))}function zr(s,f){f===void 0&&(f=w);var h=f&&f.name||s.name||"Autorun@"+C(),D=!f.scheduler&&!f.delay,H;if(D)H=new Ln(h,function(){this.track(ze)},f.onError,f.requiresObservable);else{var _=xr(f),ge=!1;H=new Ln(h,function(){ge||(ge=!0,_(function(){ge=!1,H.isDisposed||H.track(ze)}))},f.onError,f.requiresObservable)}function ze(){s(H)}return H.schedule(),H.getDisposer()}var Ma=function(s){return s()};function xr(s){return s.scheduler?s.scheduler:s.delay?function(f){return setTimeout(f,s.delay)}:Ma}function Si(s,f,h){h===void 0&&(h=w);var D=h.name||"Reaction@"+C(),H=en(D,h.onError?Ka(h.onError,f):f),_=!h.scheduler&&!h.delay,ge=xr(h),ze=!0,_e=!1,Rt,wt=h.compareStructural?ht.structural:h.equals||ht.default,Xt=new Ln(D,function(){ze||_?Wt():_e||(_e=!0,ge(Wt))},h.onError,h.requiresObservable);function Wt(){if(_e=!1,!Xt.isDisposed){var Zt=!1;Xt.track(function(){var mr=s(Xt);Zt=ze||!wt(Rt,mr),Rt=mr}),ze&&h.fireImmediately&&H(Rt,Xt),!ze&&Zt===!0&&H(Rt,Xt),ze&&(ze=!1)}}return Xt.schedule(),Xt.getDisposer()}function Ka(s,f){return function(){try{return f.apply(this,arguments)}catch(h){s.call(this,h)}}}function Ta(s,f,h){return ki("onBecomeObserved",s,f,h)}function fn(s,f,h){return ki("onBecomeUnobserved",s,f,h)}function ki(s,f,h,D){var H=typeof D=="function"?Te(f,h):Te(f),_=typeof D=="function"?D:h,ge=s+"Listeners";H[ge]?H[ge].add(_):H[ge]=new Set([_]);var ze=H[s];return typeof ze!="function"?j(!1):function(){var _e=H[ge];_e&&(_e.delete(_),_e.size===0&&delete H[ge])}}function Va(s){var f=s.enforceActions,h=s.computedRequiresReaction,D=s.computedConfigurable,H=s.disableErrorBoundaries,_=s.reactionScheduler,ge=s.reactionRequiresObservable,ze=s.observableRequiresReaction;if(s.isolateGlobalState===!0&&As(),f!==void 0){(typeof f=="boolean"||f==="strict")&&Y(`Deprecated value for 'enforceActions', use 'false' => '"never"', 'true' => '"observed"', '"strict"' => "'always'" instead`);var _e=void 0;switch(f){case!0:case"observed":_e=!0;break;case!1:case"never":_e=!1;break;case"strict":case"always":_e="strict";break;default:j("Invalid value for 'enforceActions': '"+f+"', expected 'never', 'always' or 'observed'")}Je.enforceActions=_e,Je.allowStateChanges=!(_e===!0||_e==="strict")}h!==void 0&&(Je.computedRequiresReaction=!!h),ge!==void 0&&(Je.reactionRequiresObservable=!!ge),ze!==void 0&&(Je.observableRequiresReaction=!!ze,Je.allowStateReads=!Je.observableRequiresReaction),D!==void 0&&(Je.computedConfigurable=!!D),H!==void 0&&(H===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Je.disableErrorBoundaries=!!H),_&&Wo(_)}function Ns(s,f){var h=typeof s=="function"?s.prototype:s,D=function(_){var ge=f[_];Array.isArray(ge)||(ge=[ge]);var ze=Object.getOwnPropertyDescriptor(h,_),_e=ge.reduce(function(Rt,wt){return wt(h,_,Rt)},ze);_e&&Object.defineProperty(h,_,_e)};for(var H in f)D(H);return s}function xi(s,f,h,D){D=At(D);var H=wa(D);return st(s),y(s,D.name,H.enhancer),f&&ho(s,f,h,H),s}function wa(s){return s.defaultDecorator||(s.deep===!1?Gt:It)}function ho(s,f,h,D){var H,_,ge,ze;if(!1)var _e,Rt,wt,Xt;kr();try{var Xt=ce(f);try{for(var Wt=Ue(Xt),Zt=Wt.next();!Zt.done;Zt=Wt.next()){var _e=Zt.value,mr=Object.getOwnPropertyDescriptor(f,_e),br=h&&_e in h?h[_e]:mr.get?nr:D,Ar=br(s,_e,mr,!0);Ar&&Object.defineProperty(s,_e,Ar)}}catch(Ji){ge={error:Ji}}finally{try{Zt&&!Zt.done&&(ze=Wt.return)&&ze.call(Wt)}finally{if(ge)throw ge.error}}}finally{Zr()}}function Ko(s,f){return ao(Te(s,f))}function ao(s){var f={name:s.name};return s.observing&&s.observing.length>0&&(f.dependencies=ee(s.observing).map(ao)),f}function Pi(s,f){return Mi(Te(s,f))}function Mi(s){var f={name:s.name};return fc(s)&&(f.observers=Array.from(Dl(s)).map(Mi)),f}var cn=0;function Co(){this.message="FLOW_CANCELLED"}Co.prototype=Object.create(Error.prototype);function Tr(s){return s instanceof Co}function Za(s){arguments.length!==1&&j("Flow expects 1 argument and cannot be used as decorator");var f=s.name||"<unnamed flow>";return function(){var h=this,D=arguments,H=++cn,_=en(f+" - runid: "+H+" - init",s).apply(h,D),ge,ze=void 0,_e=new Promise(function(Rt,wt){var Xt=0;ge=wt;function Wt(br){ze=void 0;var Ar;try{Ar=en(f+" - runid: "+H+" - yield "+Xt++,_.next).call(_,br)}catch(Jn){return wt(Jn)}mr(Ar)}function Zt(br){ze=void 0;var Ar;try{Ar=en(f+" - runid: "+H+" - yield "+Xt++,_.throw).call(_,br)}catch(Jn){return wt(Jn)}mr(Ar)}function mr(br){if(br&&typeof br.then=="function"){br.then(mr,wt);return}return br.done?Rt(br.value):(ze=Promise.resolve(br.value),ze.then(Wt,Zt))}Wt(void 0)});return _e.cancel=en(f+" - runid: "+H+" - cancel",function(){try{ze&&Wn(ze);var Rt=_.return(void 0),wt=Promise.resolve(Rt.value);wt.then(W,W),Wn(wt),ge(new Co)}catch(Xt){ge(Xt)}}),_e}}function Wn(s){typeof s.cancel=="function"&&s.cancel()}function Ds(s,f,h){var D;if(fr(s)||ar(s)||Oa(s))D=Ye(s);else if(Ee(s)){if(typeof f!="string")return j(!1);D=Ye(s,f)}else return j(!1);return D.dehancer!==void 0?j(!1):(D.dehancer=typeof f=="function"?f:h,function(){D.dehancer=void 0})}function js(s,f,h){return typeof h=="function"?Vo(s,f,h):Ja(s,f)}function Ja(s,f){return Ye(s).intercept(f)}function Vo(s,f,h){return Ye(s,f).intercept(h)}function Ro(s,f){if(s==null)return!1;if(f!==void 0){if(Ee(s)===!1||!s[re].values.has(f))return!1;var h=Te(s,f);return no(h)}return no(s)}function Zo(s){return arguments.length>1?j(!1):Ro(s)}function Io(s,f){return typeof f!="string"?j(!1):Ro(s,f)}function Ti(s,f){return s==null?!1:f!==void 0?Ee(s)?s[re].values.has(f):!1:Ee(s)||!!s[re]||Ce(s)||Pn(s)||no(s)}function Kn(s){return arguments.length!==1&&j(!1),Ti(s)}function Cs(s,f){return typeof f!="string"?j(!1):Ti(s,f)}function Dn(s){return Ee(s)?s[re].getKeys():fr(s)||E(s)?Array.from(s.keys()):ar(s)?s.map(function(f,h){return h}):j(!1)}function Jo(s){return Ee(s)?Dn(s).map(function(f){return s[f]}):fr(s)?Dn(s).map(function(f){return s.get(f)}):E(s)?Array.from(s.values()):ar(s)?s.slice():j(!1)}function dn(s){return Ee(s)?Dn(s).map(function(f){return[f,s[f]]}):fr(s)?Dn(s).map(function(f){return[f,s.get(f)]}):E(s)?Array.from(s.entries()):ar(s)?s.map(function(f,h){return[h,f]}):j(!1)}function Xi(s,f,h){if(arguments.length===2&&!E(s)){kr();var D=f;try{for(var H in D)Xi(s,H,D[H])}finally{Zr()}return}if(Ee(s)){var _=s[re],ge=_.values.get(f);ge?_.write(f,h):_.addObservableProp(f,h,_.defaultEnhancer)}else if(fr(s))s.set(f,h);else if(E(s))s.add(f);else if(ar(s))typeof f!="number"&&(f=parseInt(f,10)),L(f>=0,"Not a valid index: '"+f+"'"),kr(),f>=s.length&&(s.length=f+1),s[f]=h,Zr();else return j(!1)}function Rs(s,f){if(Ee(s))s[re].remove(f);else if(fr(s))s.delete(f);else if(E(s))s.delete(f);else if(ar(s))typeof f!="number"&&(f=parseInt(f,10)),L(f>=0,"Not a valid index: '"+f+"'"),s.splice(f,1);else return j(!1)}function Qa(s,f){if(Ee(s)){var h=Ye(s);return h.has(f)}else return fr(s)||E(s)?s.has(f):ar(s)?f>=0&&f<s.length:j(!1)}function qa(s,f){if(!!Qa(s,f))return Ee(s)?s[f]:fr(s)?s.get(f):ar(s)?s[f]:j(!1)}function Yi(s,f,h,D){return typeof h=="function"?Aa(s,f,h,D):_a(s,f,h)}function _a(s,f,h){return Ye(s).observe(f,h)}function Aa(s,f,h,D){return Ye(s,f).observe(h,D)}var Wi={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function jn(s,f,h,D){return D.detectCycles&&s.set(f,h),h}function nn(s,f,h){if(!f.recurseEverything&&!Kn(s)||typeof s!="object")return s;if(s===null)return null;if(s instanceof Date)return s;if(Oa(s))return nn(s.get(),f,h);Kn(s)&&Dn(s);var D=f.detectCycles===!0;if(D&&s!==null&&h.has(s))return h.get(s);if(ar(s)||Array.isArray(s)){var H=jn(h,s,[],f),_=s.map(function(Zt){return nn(Zt,f,h)});H.length=_.length;for(var ge=0,ze=_.length;ge<ze;ge++)H[ge]=_[ge];return H}if(E(s)||Object.getPrototypeOf(s)===Set.prototype)if(f.exportMapsAsObjects===!1){var _e=jn(h,s,new Set,f);return s.forEach(function(Zt){_e.add(nn(Zt,f,h))}),_e}else{var Rt=jn(h,s,[],f);return s.forEach(function(Zt){Rt.push(nn(Zt,f,h))}),Rt}if(fr(s)||Object.getPrototypeOf(s)===Map.prototype)if(f.exportMapsAsObjects===!1){var wt=jn(h,s,new Map,f);return s.forEach(function(Zt,mr){wt.set(mr,nn(Zt,f,h))}),wt}else{var Xt=jn(h,s,{},f);return s.forEach(function(Zt,mr){Xt[mr]=nn(Zt,f,h)}),Xt}var Wt=jn(h,s,{},f);return Q(s).forEach(function(Zt){Wt[Zt]=nn(s[Zt],f,h)}),Wt}function eu(s,f){typeof f=="boolean"&&(f={detectCycles:f}),f||(f=Wi),f.detectCycles=f.detectCycles===void 0?f.recurseEverything===!0:f.detectCycles===!0;var h;return f.detectCycles&&(h=new Map),nn(s,f,h)}function Ki(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];var h=!1;typeof s[s.length-1]=="boolean"&&(h=s.pop());var D=pn(s);if(!D)return j(!1);D.isTracing===ct.NONE&&console.log("[mobx.trace] '"+D.name+"' tracing enabled"),D.isTracing=h?ct.BREAK:ct.LOG}function pn(s){switch(s.length){case 0:return Je.trackingDerivation;case 1:return Te(s[0]);case 2:return Te(s[0],s[1])}}function Xr(s,f){f===void 0&&(f=void 0),kr();try{return s.apply(f)}finally{Zr()}}function Vn(s,f,h){return arguments.length===1||f&&typeof f=="object"?Cn(s,f):Vi(s,f,h||{})}function Vi(s,f,h){var D;typeof h.timeout=="number"&&(D=setTimeout(function(){if(!_[re].isDisposed){_();var ge=new Error("WHEN_TIMEOUT");if(h.onError)h.onError(ge);else throw ge}},h.timeout)),h.name=h.name||"When@"+C();var H=$r(h.name+"-effect",f),_=zr(function(ge){s()&&(ge.dispose(),D&&clearTimeout(D),H())},h);return _}function Cn(s,f){var h,D=new Promise(function(H,_){var ge=Vi(s,H,tt(tt({},f),{onError:_}));h=function(){ge(),_("WHEN_CANCELLED")}});return D.cancel=h,D}function Bo(s){return s[re]}function Lo(s){return typeof s=="string"||typeof s=="number"||typeof s=="symbol"}var Na={has:function(s,f){if(f===re||f==="constructor"||f===ne)return!0;var h=Bo(s);return Lo(f)?h.has(f):f in s},get:function(s,f){if(f===re||f==="constructor"||f===ne)return s[f];var h=Bo(s),D=h.values.get(f);if(D instanceof de){var H=D.get();return H===void 0&&h.has(f),H}return Lo(f)&&h.has(f),s[f]},set:function(s,f,h){return Lo(f)?(Xi(s,f,h),!0):!1},deleteProperty:function(s,f){if(!Lo(f))return!1;var h=Bo(s);return h.remove(f),!0},ownKeys:function(s){var f=Bo(s);return f.keysAtom.reportObserved(),Reflect.ownKeys(s)},preventExtensions:function(s){return j("Dynamic observable objects cannot be frozen"),!1}};function wi(s){var f=new Proxy(s,Na);return s[re].proxy=f,f}function Yr(s){return s.interceptors!==void 0&&s.interceptors.length>0}function Hn(s,f){var h=s.interceptors||(s.interceptors=[]);return h.push(f),U(function(){var D=h.indexOf(f);D!==-1&&h.splice(D,1)})}function Gr(s,f){var h=Xe();try{for(var D=Z(s.interceptors||[]),H=0,_=D.length;H<_&&(f=D[H](f),L(!f||f.type,"Intercept handlers should return nothing or a change object"),!!f);H++);return f}finally{nt(h)}}function Fr(s){return s.changeListeners!==void 0&&s.changeListeners.length>0}function Zn(s,f){var h=s.changeListeners||(s.changeListeners=[]);return h.push(f),U(function(){var D=h.indexOf(f);D!==-1&&h.splice(D,1)})}function Hr(s,f){var h=Xe(),D=s.changeListeners;if(!!D){D=D.slice();for(var H=0,_=D.length;H<_;H++)D[H](f);nt(h)}}var tu=1e4,jl={get:function(s,f){return f===re?s[re]:f==="length"?s[re].getArrayLength():typeof f=="number"?Jr.get.call(s,f):typeof f=="string"&&!isNaN(f)?Jr.get.call(s,parseInt(f)):Jr.hasOwnProperty(f)?Jr[f]:s[f]},set:function(s,f,h){return f==="length"&&s[re].setArrayLength(h),typeof f=="number"&&Jr.set.call(s,f,h),typeof f=="symbol"||isNaN(f)?s[f]=h:Jr.set.call(s,parseInt(f),h),!0},preventExtensions:function(s){return j("Observable arrays cannot be frozen"),!1}};function ru(s,f,h,D){h===void 0&&(h="ObservableArray@"+C()),D===void 0&&(D=!1);var H=new yo(h,f,D);me(H.values,re,H);var _=new Proxy(H.values,jl);if(H.proxy=_,s&&s.length){var ge=co(!0);H.spliceWithArray(0,0,s),wn(ge)}return _}var yo=function(){function s(f,h,D){this.owned=D,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new de(f||"ObservableArray@"+C()),this.enhancer=function(H,_){return h(H,_,f+"[..]")}}return s.prototype.dehanceValue=function(f){return this.dehancer!==void 0?this.dehancer(f):f},s.prototype.dehanceValues=function(f){return this.dehancer!==void 0&&f.length>0?f.map(this.dehancer):f},s.prototype.intercept=function(f){return Hn(this,f)},s.prototype.observe=function(f,h){return h===void 0&&(h=!1),h&&f({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Zn(this,f)},s.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},s.prototype.setArrayLength=function(f){if(typeof f!="number"||f<0)throw new Error("[mobx.array] Out of range: "+f);var h=this.values.length;if(f!==h)if(f>h){for(var D=new Array(f-h),H=0;H<f-h;H++)D[H]=void 0;this.spliceWithArray(h,0,D)}else this.spliceWithArray(f,h-f)},s.prototype.updateArrayLength=function(f,h){if(f!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=h},s.prototype.spliceWithArray=function(f,h,D){var H=this;g(this.atom);var _=this.values.length;if(f===void 0?f=0:f>_?f=_:f<0&&(f=Math.max(0,_+f)),arguments.length===1?h=_-f:h==null?h=0:h=Math.max(0,Math.min(h,_-f)),D===void 0&&(D=M),Yr(this)){var ge=Gr(this,{object:this.proxy,type:"splice",index:f,removedCount:h,added:D});if(!ge)return M;h=ge.removedCount,D=ge.added}if(D=D.length===0?D:D.map(function(Rt){return H.enhancer(Rt,void 0)}),!1)var ze;var _e=this.spliceItemsIntoValues(f,h,D);return(h!==0||D.length!==0)&&this.notifyArraySplice(f,D,_e),this.dehanceValues(_e)},s.prototype.spliceItemsIntoValues=function(f,h,D){var H;if(D.length<tu)return(H=this.values).splice.apply(H,Z([f,h],D));var _=this.values.slice(f,f+h);return this.values=this.values.slice(0,f).concat(D,this.values.slice(f+h)),_},s.prototype.notifyArrayChildUpdate=function(f,h,D){var H=!this.owned&&yr(),_=Fr(this),ge=_||H?{object:this.proxy,type:"update",index:f,newValue:h,oldValue:D}:null;this.atom.reportChanged(),_&&Hr(this,ge)},s.prototype.notifyArraySplice=function(f,h,D){var H=!this.owned&&yr(),_=Fr(this),ge=_||H?{object:this.proxy,type:"splice",index:f,removed:D,added:h,removedCount:D.length,addedCount:h.length}:null;this.atom.reportChanged(),_&&Hr(this,ge)},s}(),Jr={intercept:function(s){return this[re].intercept(s)},observe:function(s,f){f===void 0&&(f=!1);var h=this[re];return h.observe(s,f)},clear:function(){return this.splice(0)},replace:function(s){var f=this[re];return f.spliceWithArray(0,f.values.length,s)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(s,f){for(var h=[],D=2;D<arguments.length;D++)h[D-2]=arguments[D];var H=this[re];switch(arguments.length){case 0:return[];case 1:return H.spliceWithArray(s);case 2:return H.spliceWithArray(s,f)}return H.spliceWithArray(s,f,h)},spliceWithArray:function(s,f,h){var D=this[re];return D.spliceWithArray(s,f,h)},push:function(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];var h=this[re];return h.spliceWithArray(h.values.length,0,s),h.values.length},pop:function(){return this.splice(Math.max(this[re].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];var h=this[re];return h.spliceWithArray(0,0,s),h.values.length},reverse:function(){var s=this.slice();return s.reverse.apply(s,arguments)},sort:function(s){var f=this.slice();return f.sort.apply(f,arguments)},remove:function(s){var f=this[re],h=f.dehanceValues(f.values).indexOf(s);return h>-1?(this.splice(h,1),!0):!1},get:function(s){var f=this[re];if(f){if(s<f.values.length)return f.atom.reportObserved(),f.dehanceValue(f.values[s]);console.warn("[mobx.array] Attempt to read an array index ("+s+") that is out of bounds ("+f.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(s,f){var h=this[re],D=h.values;if(s<D.length){g(h.atom);var H=D[s];if(Yr(h)){var _=Gr(h,{type:"update",object:h.proxy,index:s,newValue:f});if(!_)return;f=_.newValue}f=h.enhancer(f,H);var ge=f!==H;ge&&(D[s]=f,h.notifyArrayChildUpdate(s,f,H))}else if(s===D.length)h.spliceWithArray(s,0,[f]);else throw new Error("[mobx.array] Index out of bounds, "+s+" is larger than "+D.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(s){typeof Array.prototype[s]=="function"&&(Jr[s]=function(){var f=this[re];f.atom.reportObserved();var h=f.dehanceValues(f.values);return h[s].apply(h,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(s){typeof Array.prototype[s]=="function"&&(Jr[s]=function(f,h){var D=this,H=this[re];H.atom.reportObserved();var _=H.dehanceValues(H.values);return _[s](function(ge,ze){return f.call(h,ge,ze,D)},h)})}),["reduce","reduceRight"].forEach(function(s){Jr[s]=function(){var f=this,h=this[re];h.atom.reportObserved();var D=arguments[0];return arguments[0]=function(H,_,ge){return _=h.dehanceValue(_),D(H,_,ge,f)},h.values[s].apply(h.values,arguments)}});var Qo=ue("ObservableArrayAdministration",yo);function ar(s){return ae(s)&&Qo(s[re])}var qo,Ai={},_o=function(){function s(f,h,D){if(h===void 0&&(h=De),D===void 0&&(D="ObservableMap@"+C()),this.enhancer=h,this.name=D,this[qo]=Ai,this._keysAtom=Re(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(f)}return s.prototype._has=function(f){return this._data.has(f)},s.prototype.has=function(f){var h=this;if(!Je.trackingDerivation)return this._has(f);var D=this._hasMap.get(f);if(!D){var H=D=new rn(this._has(f),at,this.name+"."+oe(f)+"?",!1);this._hasMap.set(f,H),fn(H,function(){return h._hasMap.delete(f)})}return D.get()},s.prototype.set=function(f,h){var D=this._has(f);if(Yr(this)){var H=Gr(this,{type:D?"update":"add",object:this,newValue:h,name:f});if(!H)return this;h=H.newValue}return D?this._updateValue(f,h):this._addValue(f,h),this},s.prototype.delete=function(f){var h=this;if(g(this._keysAtom),Yr(this)){var D=Gr(this,{type:"delete",object:this,name:f});if(!D)return!1}if(this._has(f)){var H=yr(),_=Fr(this),D=_||H?{type:"delete",object:this,oldValue:this._data.get(f).value,name:f}:null;return Xr(function(){h._keysAtom.reportChanged(),h._updateHasMapEntry(f,!1);var ze=h._data.get(f);ze.setNewValue(void 0),h._data.delete(f)}),_&&Hr(this,D),!0}return!1},s.prototype._updateHasMapEntry=function(f,h){var D=this._hasMap.get(f);D&&D.setNewValue(h)},s.prototype._updateValue=function(f,h){var D=this._data.get(f);if(h=D.prepareNewValue(h),h!==Je.UNCHANGED){var H=yr(),_=Fr(this),ge=_||H?{type:"update",object:this,oldValue:D.value,name:f,newValue:h}:null;D.setNewValue(h),_&&Hr(this,ge)}},s.prototype._addValue=function(f,h){var D=this;g(this._keysAtom),Xr(function(){var ze=new rn(h,D.enhancer,D.name+"."+oe(f),!1);D._data.set(f,ze),h=ze.value,D._updateHasMapEntry(f,!0),D._keysAtom.reportChanged()});var H=yr(),_=Fr(this),ge=_||H?{type:"add",object:this,name:f,newValue:h}:null;_&&Hr(this,ge)},s.prototype.get=function(f){return this.has(f)?this.dehanceValue(this._data.get(f).get()):this.dehanceValue(void 0)},s.prototype.dehanceValue=function(f){return this.dehancer!==void 0?this.dehancer(f):f},s.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},s.prototype.values=function(){var f=this,h=this.keys();return Ct({next:function(){var D=h.next(),H=D.done,_=D.value;return{done:H,value:H?void 0:f.get(_)}}})},s.prototype.entries=function(){var f=this,h=this.keys();return Ct({next:function(){var D=h.next(),H=D.done,_=D.value;return{done:H,value:H?void 0:[_,f.get(_)]}}})},s.prototype[qo=re,Symbol.iterator]=function(){return this.entries()},s.prototype.forEach=function(f,h){var D,H;try{for(var _=Ue(this),ge=_.next();!ge.done;ge=_.next()){var ze=V(ge.value,2),_e=ze[0],Rt=ze[1];f.call(h,Rt,_e,this)}}catch(wt){D={error:wt}}finally{try{ge&&!ge.done&&(H=_.return)&&H.call(_)}finally{if(D)throw D.error}}},s.prototype.merge=function(f){var h=this;return fr(f)&&(f=f.toJS()),Xr(function(){var D=co(!0);try{q(f)?Q(f).forEach(function(H){return h.set(H,f[H])}):Array.isArray(f)?f.forEach(function(H){var _=V(H,2),ge=_[0],ze=_[1];return h.set(ge,ze)}):te(f)?(f.constructor!==Map&&j("Cannot initialize from classes that inherit from Map: "+f.constructor.name),f.forEach(function(H,_){return h.set(_,H)})):f!=null&&j("Cannot initialize map from "+f)}finally{wn(D)}}),this},s.prototype.clear=function(){var f=this;Xr(function(){Ke(function(){var h,D;try{for(var H=Ue(f.keys()),_=H.next();!_.done;_=H.next()){var ge=_.value;f.delete(ge)}}catch(ze){h={error:ze}}finally{try{_&&!_.done&&(D=H.return)&&D.call(H)}finally{if(h)throw h.error}}})})},s.prototype.replace=function(f){var h=this;return Xr(function(){var D,H,_,ge,ze=Me(f),_e=new Map,Rt=!1;try{for(var wt=Ue(h._data.keys()),Xt=wt.next();!Xt.done;Xt=wt.next()){var Wt=Xt.value;if(!ze.has(Wt)){var Zt=h.delete(Wt);if(Zt)Rt=!0;else{var mr=h._data.get(Wt);_e.set(Wt,mr)}}}}catch(qi){D={error:qi}}finally{try{Xt&&!Xt.done&&(H=wt.return)&&H.call(wt)}finally{if(D)throw D.error}}try{for(var br=Ue(ze.entries()),Ar=br.next();!Ar.done;Ar=br.next()){var Jn=V(Ar.value,2),Wt=Jn[0],mr=Jn[1],Ji=h._data.has(Wt);if(h.set(Wt,mr),h._data.has(Wt)){var Is=h._data.get(Wt);_e.set(Wt,Is),Ji||(Rt=!0)}}}catch(qi){_={error:qi}}finally{try{Ar&&!Ar.done&&(ge=br.return)&&ge.call(br)}finally{if(_)throw _.error}}if(!Rt)if(h._data.size!==_e.size)h._keysAtom.reportChanged();else for(var ou=h._data.keys(),iu=_e.keys(),Qi=ou.next(),au=iu.next();!Qi.done;){if(Qi.value!==au.value){h._keysAtom.reportChanged();break}Qi=ou.next(),au=iu.next()}h._data=_e}),this},Object.defineProperty(s.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),s.prototype.toPOJO=function(){var f,h,D={};try{for(var H=Ue(this),_=H.next();!_.done;_=H.next()){var ge=V(_.value,2),ze=ge[0],_e=ge[1];D[typeof ze=="symbol"?ze:oe(ze)]=_e}}catch(Rt){f={error:Rt}}finally{try{_&&!_.done&&(h=H.return)&&h.call(H)}finally{if(f)throw f.error}}return D},s.prototype.toJS=function(){return new Map(this)},s.prototype.toJSON=function(){return this.toPOJO()},s.prototype.toString=function(){var f=this;return this.name+"[{ "+Array.from(this.keys()).map(function(h){return oe(h)+": "+(""+f.get(h))}).join(", ")+" }]"},s.prototype.observe=function(f,h){return Zn(this,f)},s.prototype.intercept=function(f){return Hn(this,f)},s}(),fr=ue("ObservableMap",_o),Zi,nu={},uo=function(){function s(f,h,D){if(h===void 0&&(h=De),D===void 0&&(D="ObservableSet@"+C()),this.name=D,this[Zi]=nu,this._data=new Set,this._atom=Re(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(H,_){return h(H,_,D)},f&&this.replace(f)}return s.prototype.dehanceValue=function(f){return this.dehancer!==void 0?this.dehancer(f):f},s.prototype.clear=function(){var f=this;Xr(function(){Ke(function(){var h,D;try{for(var H=Ue(f._data.values()),_=H.next();!_.done;_=H.next()){var ge=_.value;f.delete(ge)}}catch(ze){h={error:ze}}finally{try{_&&!_.done&&(D=H.return)&&D.call(H)}finally{if(h)throw h.error}}})})},s.prototype.forEach=function(f,h){var D,H;try{for(var _=Ue(this),ge=_.next();!ge.done;ge=_.next()){var ze=ge.value;f.call(h,ze,ze,this)}}catch(_e){D={error:_e}}finally{try{ge&&!ge.done&&(H=_.return)&&H.call(_)}finally{if(D)throw D.error}}},Object.defineProperty(s.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),s.prototype.add=function(f){var h=this;if(g(this._atom),Yr(this)){var D=Gr(this,{type:"add",object:this,newValue:f});if(!D)return this}if(!this.has(f)){Xr(function(){h._data.add(h.enhancer(f,void 0)),h._atom.reportChanged()});var H=yr(),_=Fr(this),D=_||H?{type:"add",object:this,newValue:f}:null;_&&Hr(this,D)}return this},s.prototype.delete=function(f){var h=this;if(Yr(this)){var D=Gr(this,{type:"delete",object:this,oldValue:f});if(!D)return!1}if(this.has(f)){var H=yr(),_=Fr(this),D=_||H?{type:"delete",object:this,oldValue:f}:null;return Xr(function(){h._atom.reportChanged(),h._data.delete(f)}),_&&Hr(this,D),!0}return!1},s.prototype.has=function(f){return this._atom.reportObserved(),this._data.has(this.dehanceValue(f))},s.prototype.entries=function(){var f=0,h=Array.from(this.keys()),D=Array.from(this.values());return Ct({next:function(){var H=f;return f+=1,H<D.length?{value:[h[H],D[H]],done:!1}:{done:!0}}})},s.prototype.keys=function(){return this.values()},s.prototype.values=function(){this._atom.reportObserved();var f=this,h=0,D=Array.from(this._data.values());return Ct({next:function(){return h<D.length?{value:f.dehanceValue(D[h++]),done:!1}:{done:!0}}})},s.prototype.replace=function(f){var h=this;return E(f)&&(f=f.toJS()),Xr(function(){var D=co(!0);try{Array.isArray(f)?(h.clear(),f.forEach(function(H){return h.add(H)})):z(f)?(h.clear(),f.forEach(function(H){return h.add(H)})):f!=null&&j("Cannot initialize set from "+f)}finally{wn(D)}}),this},s.prototype.observe=function(f,h){return Zn(this,f)},s.prototype.intercept=function(f){return Hn(this,f)},s.prototype.toJS=function(){return new Set(this)},s.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},s.prototype[Zi=re,Symbol.iterator]=function(){return this.values()},s}(),E=ue("ObservableSet",uo),m=function(){function s(f,h,D,H){h===void 0&&(h=new Map),this.target=f,this.values=h,this.name=D,this.defaultEnhancer=H,this.keysAtom=new de(D+".keys")}return s.prototype.read=function(f){return this.values.get(f).get()},s.prototype.write=function(f,h){var D=this.target,H=this.values.get(f);if(H instanceof Xn){H.set(h);return}if(Yr(this)){var _=Gr(this,{type:"update",object:this.proxy||D,name:f,newValue:h});if(!_)return;h=_.newValue}if(h=H.prepareNewValue(h),h!==Je.UNCHANGED){var ge=Fr(this),ze=yr(),_=ge||ze?{type:"update",object:this.proxy||D,oldValue:H.value,name:f,newValue:h}:null;H.setNewValue(h),ge&&Hr(this,_)}},s.prototype.has=function(f){var h=this.pendingKeys||(this.pendingKeys=new Map),D=h.get(f);if(D)return D.get();var H=!!this.values.get(f);return D=new rn(H,at,this.name+"."+oe(f)+"?",!1),h.set(f,D),D.get()},s.prototype.addObservableProp=function(f,h,D){D===void 0&&(D=this.defaultEnhancer);var H=this.target;if(Oe(H,f),Yr(this)){var _=Gr(this,{object:this.proxy||H,name:f,type:"add",newValue:h});if(!_)return;h=_.newValue}var ge=new rn(h,D,this.name+"."+oe(f),!1);this.values.set(f,ge),h=ge.value,Object.defineProperty(H,f,I(f)),this.notifyPropertyAddition(f,h)},s.prototype.addComputedProp=function(f,h,D){var H=this.target;D.name=D.name||this.name+"."+oe(h),this.values.set(h,new Xn(D)),(f===H||le(f,h))&&Object.defineProperty(f,h,ie(h))},s.prototype.remove=function(f){if(!!this.values.has(f)){var h=this.target;if(Yr(this)){var D=Gr(this,{object:this.proxy||h,name:f,type:"remove"});if(!D)return}try{kr();var H=Fr(this),_=yr(),ge=this.values.get(f),ze=ge&&ge.get();if(ge&&ge.set(void 0),this.keysAtom.reportChanged(),this.values.delete(f),this.pendingKeys){var _e=this.pendingKeys.get(f);_e&&_e.set(!1)}delete this.target[f];var D=H||_?{type:"remove",object:this.proxy||h,oldValue:ze,name:f}:null;H&&Hr(this,D)}finally{Zr()}}},s.prototype.illegalAccess=function(f,h){console.warn("Property '"+h+"' of '"+f+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},s.prototype.observe=function(f,h){return Zn(this,f)},s.prototype.intercept=function(f){return Hn(this,f)},s.prototype.notifyPropertyAddition=function(f,h){var D=Fr(this),H=yr(),_=D||H?{type:"add",object:this.proxy||this.target,name:f,newValue:h}:null;if(D&&Hr(this,_),this.pendingKeys){var ge=this.pendingKeys.get(f);ge&&ge.set(!0)}this.keysAtom.reportChanged()},s.prototype.getKeys=function(){var f,h;this.keysAtom.reportObserved();var D=[];try{for(var H=Ue(this.values),_=H.next();!_.done;_=H.next()){var ge=V(_.value,2),ze=ge[0],_e=ge[1];_e instanceof rn&&D.push(ze)}}catch(Rt){f={error:Rt}}finally{try{_&&!_.done&&(h=H.return)&&h.call(H)}finally{if(f)throw f.error}}return D},s}();function y(s,f,h){if(f===void 0&&(f=""),h===void 0&&(h=De),Object.prototype.hasOwnProperty.call(s,re))return s[re];q(s)||(f=(s.constructor.name||"ObservableObject")+"@"+C()),f||(f="ObservableObject@"+C());var D=new m(s,new Map,oe(f),h);return ye(s,re,D),D}var S=Object.create(null),T=Object.create(null);function I(s){return S[s]||(S[s]={configurable:!0,enumerable:!0,get:function(){return this[re].read(s)},set:function(f){this[re].write(s,f)}})}function K(s){var f=s[re];return f||(st(s),s[re])}function ie(s){return T[s]||(T[s]={configurable:Je.computedConfigurable,enumerable:!1,get:function(){return K(this).read(s)},set:function(f){K(this).write(s,f)}})}var be=ue("ObservableObjectAdministration",m);function Ee(s){return ae(s)?(st(s),be(s[re])):!1}function Te(s,f){if(typeof s=="object"&&s!==null){if(ar(s))return f!==void 0&&j(!1),s[re].atom;if(E(s))return s[re];if(fr(s)){var h=s;if(f===void 0)return h._keysAtom;var D=h._data.get(f)||h._hasMap.get(f);return D||j(!1),D}if(st(s),f&&!s[re]&&s[f],Ee(s)){if(!f)return j(!1);var D=s[re].values.get(f);return D||j(!1),D}if(Ce(s)||no(s)||Pn(s))return s}else if(typeof s=="function"&&Pn(s[re]))return s[re];return j(!1)}function Ye(s,f){if(s||j("Expecting some object"),f!==void 0)return Ye(Te(s,f));if(Ce(s)||no(s)||Pn(s)||fr(s)||E(s))return s;if(st(s),s[re])return s[re];j(!1)}function Qe(s,f){var h;return f!==void 0?h=Te(s,f):Ee(s)||fr(s)||E(s)?h=Ye(s):h=Te(s),h.name}var qe=Object.prototype.toString;function dt(s,f,h){return h===void 0&&(h=-1),Lt(s,f,h)}function Lt(s,f,h,D,H){if(s===f)return s!==0||1/s==1/f;if(s==null||f==null)return!1;if(s!==s)return f!==f;var _=typeof s;if(_!=="function"&&_!=="object"&&typeof f!="object")return!1;var ge=qe.call(s);if(ge!==qe.call(f))return!1;switch(ge){case"[object RegExp]":case"[object String]":return""+s==""+f;case"[object Number]":return+s!=+s?+f!=+f:+s==0?1/+s==1/f:+s==+f;case"[object Date]":case"[object Boolean]":return+s==+f;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(s)===Symbol.valueOf.call(f);case"[object Map]":case"[object Set]":h>=0&&h++;break}s=Ht(s),f=Ht(f);var ze=ge==="[object Array]";if(!ze){if(typeof s!="object"||typeof f!="object")return!1;var _e=s.constructor,Rt=f.constructor;if(_e!==Rt&&!(typeof _e=="function"&&_e instanceof _e&&typeof Rt=="function"&&Rt instanceof Rt)&&"constructor"in s&&"constructor"in f)return!1}if(h===0)return!1;h<0&&(h=-1),D=D||[],H=H||[];for(var wt=D.length;wt--;)if(D[wt]===s)return H[wt]===f;if(D.push(s),H.push(f),ze){if(wt=s.length,wt!==f.length)return!1;for(;wt--;)if(!Lt(s[wt],f[wt],h-1,D,H))return!1}else{var Xt=Object.keys(s),Wt=void 0;if(wt=Xt.length,Object.keys(f).length!==wt)return!1;for(;wt--;)if(Wt=Xt[wt],!(Yt(f,Wt)&&Lt(s[Wt],f[Wt],h-1,D,H)))return!1}return D.pop(),H.pop(),!0}function Ht(s){return ar(s)?s.slice():te(s)||fr(s)||z(s)||E(s)?Array.from(s.entries()):s}function Yt(s,f){return Object.prototype.hasOwnProperty.call(s,f)}function Ct(s){return s[Symbol.iterator]=tr,s}function tr(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{}catch(s){var jr=ko();typeof v=="undefined"&&(jr.process={}),jr.process.env={}}(function(){function s(){}if(s.name!=="testCodeMinification",!1)var f})(),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Nn,extras:{getDebugName:Qe},$mobx:re})}).call(this,u(155),u(82))},function(x,A,u){"use strict";u.d(A,"a",function(){return me}),u.d(A,"b",function(){return ye}),u.d(A,"c",function(){return tt}),u.d(A,"d",function(){return Ue}),u.d(A,"e",function(){return ae}),u.d(A,"f",function(){return Me}),u.d(A,"g",function(){return ae}),u.d(A,"h",function(){return et}),u.d(A,"i",function(){return c}),u.d(A,"j",function(){return Be}),u.d(A,"k",function(){return Q});var v,c,b,M,w,C,j,L,F={},Y=[],U=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function W(V,Z){for(var ne in Z)V[ne]=Z[ne];return V}function ee(V){var Z=V.parentNode;Z&&Z.removeChild(V)}function ae(V,Z,ne){var we,Ge,Pe,pt={};for(Pe in Z)Pe=="key"?we=Z[Pe]:Pe=="ref"?Ge=Z[Pe]:pt[Pe]=Z[Pe];if(arguments.length>2&&(pt.children=arguments.length>3?v.call(arguments,2):ne),typeof V=="function"&&V.defaultProps!=null)for(Pe in V.defaultProps)pt[Pe]===void 0&&(pt[Pe]=V.defaultProps[Pe]);return q(V,pt,we,Ge,null)}function q(V,Z,ne,we,Ge){var Pe={type:V,props:Z,key:ne,ref:we,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Ge==null?++b:Ge};return Ge==null&&c.vnode!=null&&c.vnode(Pe),Pe}function Me(){return{current:null}}function ye(V){return V.children}function me(V,Z){this.props=V,this.context=Z}function le(V,Z){if(Z==null)return V.__?le(V.__,V.__.__k.indexOf(V)+1):null;for(var ne;Z<V.__k.length;Z++)if((ne=V.__k[Z])!=null&&ne.__e!=null)return ne.__e;return typeof V.type=="function"?le(V):null}function Oe(V){var Z,ne;if((V=V.__)!=null&&V.__c!=null){for(V.__e=V.__c.base=null,Z=0;Z<V.__k.length;Z++)if((ne=V.__k[Z])!=null&&ne.__e!=null){V.__e=V.__c.base=ne.__e;break}return Oe(V)}}function ue(V){(!V.__d&&(V.__d=!0)&&w.push(V)&&!ve.__r++||j!==c.debounceRendering)&&((j=c.debounceRendering)||C)(ve)}function ve(){for(var V;ve.__r=w.length;)V=w.sort(function(Z,ne){return Z.__v.__b-ne.__v.__b}),w=[],V.some(function(Z){var ne,we,Ge,Pe,pt,st;Z.__d&&(pt=(Pe=(ne=Z).__v).__e,(st=ne.__P)&&(we=[],(Ge=W({},Pe)).__v=Pe.__v+1,Re(st,Pe,Ge,ne.__n,st.ownerSVGElement!==void 0,Pe.__h!=null?[pt]:null,we,pt==null?le(Pe):pt,Pe.__h),He(we,Pe),Pe.__e!=pt&&Oe(Pe)))})}function te(V,Z,ne,we,Ge,Pe,pt,st,ft,mt){var De,jt,at,ut,vt,Ut,Bt,At=we&&we.__k||Y,It=At.length;for(ne.__k=[],De=0;De<Z.length;De++)if((ut=ne.__k[De]=(ut=Z[De])==null||typeof ut=="boolean"?null:typeof ut=="string"||typeof ut=="number"||typeof ut=="bigint"?q(null,ut,null,null,ut):Array.isArray(ut)?q(ye,{children:ut},null,null,null):ut.__b>0?q(ut.type,ut.props,ut.key,null,ut.__v):ut)!=null){if(ut.__=ne,ut.__b=ne.__b+1,(at=At[De])===null||at&&ut.key==at.key&&ut.type===at.type)At[De]=void 0;else for(jt=0;jt<It;jt++){if((at=At[jt])&&ut.key==at.key&&ut.type===at.type){At[jt]=void 0;break}at=null}Re(V,ut,at=at||F,Ge,Pe,pt,st,ft,mt),vt=ut.__e,(jt=ut.ref)&&at.ref!=jt&&(Bt||(Bt=[]),at.ref&&Bt.push(at.ref,null,ut),Bt.push(jt,ut.__c||vt,ut)),vt!=null?(Ut==null&&(Ut=vt),typeof ut.type=="function"&&ut.__k===at.__k?ut.__d=ft=z(ut,ft,V):ft=oe(V,ut,at,At,vt,ft),typeof ne.type=="function"&&(ne.__d=ft)):ft&&at.__e==ft&&ft.parentNode!=V&&(ft=le(at))}for(ne.__e=Ut,De=It;De--;)At[De]!=null&&(typeof ne.type=="function"&&At[De].__e!=null&&At[De].__e==ne.__d&&(ne.__d=le(we,De+1)),yt(At[De],At[De]));if(Bt)for(De=0;De<Bt.length;De++)it(Bt[De],Bt[++De],Bt[++De])}function z(V,Z,ne){for(var we,Ge=V.__k,Pe=0;Ge&&Pe<Ge.length;Pe++)(we=Ge[Pe])&&(we.__=V,Z=typeof we.type=="function"?z(we,Z,ne):oe(ne,we,we,Ge,we.__e,Z));return Z}function Q(V,Z){return Z=Z||[],V==null||typeof V=="boolean"||(Array.isArray(V)?V.some(function(ne){Q(ne,Z)}):Z.push(V)),Z}function oe(V,Z,ne,we,Ge,Pe){var pt,st,ft;if(Z.__d!==void 0)pt=Z.__d,Z.__d=void 0;else if(ne==null||Ge!=Pe||Ge.parentNode==null)e:if(Pe==null||Pe.parentNode!==V)V.appendChild(Ge),pt=null;else{for(st=Pe,ft=0;(st=st.nextSibling)&&ft<we.length;ft+=2)if(st==Ge)break e;V.insertBefore(Ge,Pe),pt=Pe}return pt!==void 0?pt:Ge.nextSibling}function se(V,Z,ne,we,Ge){var Pe;for(Pe in ne)Pe==="children"||Pe==="key"||Pe in Z||re(V,Pe,null,ne[Pe],we);for(Pe in Z)Ge&&typeof Z[Pe]!="function"||Pe==="children"||Pe==="key"||Pe==="value"||Pe==="checked"||ne[Pe]===Z[Pe]||re(V,Pe,Z[Pe],ne[Pe],we)}function ce(V,Z,ne){Z[0]==="-"?V.setProperty(Z,ne):V[Z]=ne==null?"":typeof ne!="number"||U.test(Z)?ne:ne+"px"}function re(V,Z,ne,we,Ge){var Pe;e:if(Z==="style")if(typeof ne=="string")V.style.cssText=ne;else{if(typeof we=="string"&&(V.style.cssText=we=""),we)for(Z in we)ne&&Z in ne||ce(V.style,Z,"");if(ne)for(Z in ne)we&&ne[Z]===we[Z]||ce(V.style,Z,ne[Z])}else if(Z[0]==="o"&&Z[1]==="n")Pe=Z!==(Z=Z.replace(/Capture$/,"")),Z=Z.toLowerCase()in V?Z.toLowerCase().slice(2):Z.slice(2),V.l||(V.l={}),V.l[Z+Pe]=ne,ne?we||V.addEventListener(Z,Pe?Ce:de,Pe):V.removeEventListener(Z,Pe?Ce:de,Pe);else if(Z!=="dangerouslySetInnerHTML"){if(Ge)Z=Z.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(Z!=="href"&&Z!=="list"&&Z!=="form"&&Z!=="tabIndex"&&Z!=="download"&&Z in V)try{V[Z]=ne==null?"":ne;break e}catch(pt){}typeof ne=="function"||(ne!=null&&(ne!==!1||Z[0]==="a"&&Z[1]==="r")?V.setAttribute(Z,ne):V.removeAttribute(Z))}}function de(V){this.l[V.type+!1](c.event?c.event(V):V)}function Ce(V){this.l[V.type+!0](c.event?c.event(V):V)}function Re(V,Z,ne,we,Ge,Pe,pt,st,ft){var mt,De,jt,at,ut,vt,Ut,Bt,At,It,Qt,Gt=Z.type;if(Z.constructor!==void 0)return null;ne.__h!=null&&(ft=ne.__h,st=Z.__e=ne.__e,Z.__h=null,Pe=[st]),(mt=c.__b)&&mt(Z);try{e:if(typeof Gt=="function"){if(Bt=Z.props,At=(mt=Gt.contextType)&&we[mt.__c],It=mt?At?At.props.value:mt.__:we,ne.__c?Ut=(De=Z.__c=ne.__c).__=De.__E:("prototype"in Gt&&Gt.prototype.render?Z.__c=De=new Gt(Bt,It):(Z.__c=De=new me(Bt,It),De.constructor=Gt,De.render=ht),At&&At.sub(De),De.props=Bt,De.state||(De.state={}),De.context=It,De.__n=we,jt=De.__d=!0,De.__h=[]),De.__s==null&&(De.__s=De.state),Gt.getDerivedStateFromProps!=null&&(De.__s==De.state&&(De.__s=W({},De.__s)),W(De.__s,Gt.getDerivedStateFromProps(Bt,De.__s))),at=De.props,ut=De.state,jt)Gt.getDerivedStateFromProps==null&&De.componentWillMount!=null&&De.componentWillMount(),De.componentDidMount!=null&&De.__h.push(De.componentDidMount);else{if(Gt.getDerivedStateFromProps==null&&Bt!==at&&De.componentWillReceiveProps!=null&&De.componentWillReceiveProps(Bt,It),!De.__e&&De.shouldComponentUpdate!=null&&De.shouldComponentUpdate(Bt,De.__s,It)===!1||Z.__v===ne.__v){De.props=Bt,De.state=De.__s,Z.__v!==ne.__v&&(De.__d=!1),De.__v=Z,Z.__e=ne.__e,Z.__k=ne.__k,Z.__k.forEach(function(or){or&&(or.__=Z)}),De.__h.length&&pt.push(De);break e}De.componentWillUpdate!=null&&De.componentWillUpdate(Bt,De.__s,It),De.componentDidUpdate!=null&&De.__h.push(function(){De.componentDidUpdate(at,ut,vt)})}De.context=It,De.props=Bt,De.state=De.__s,(mt=c.__r)&&mt(Z),De.__d=!1,De.__v=Z,De.__P=V,mt=De.render(De.props,De.state,De.context),De.state=De.__s,De.getChildContext!=null&&(we=W(W({},we),De.getChildContext())),jt||De.getSnapshotBeforeUpdate==null||(vt=De.getSnapshotBeforeUpdate(at,ut)),Qt=mt!=null&&mt.type===ye&&mt.key==null?mt.props.children:mt,te(V,Array.isArray(Qt)?Qt:[Qt],Z,ne,we,Ge,Pe,pt,st,ft),De.base=Z.__e,Z.__h=null,De.__h.length&&pt.push(De),Ut&&(De.__E=De.__=null),De.__e=!1}else Pe==null&&Z.__v===ne.__v?(Z.__k=ne.__k,Z.__e=ne.__e):Z.__e=Ve(ne.__e,Z,ne,we,Ge,Pe,pt,ft);(mt=c.diffed)&&mt(Z)}catch(or){Z.__v=null,(ft||Pe!=null)&&(Z.__e=st,Z.__h=!!ft,Pe[Pe.indexOf(st)]=null),c.__e(or,Z,ne)}}function He(V,Z){c.__c&&c.__c(Z,V),V.some(function(ne){try{V=ne.__h,ne.__h=[],V.some(function(we){we.call(ne)})}catch(we){c.__e(we,ne.__v)}})}function Ve(V,Z,ne,we,Ge,Pe,pt,st){var ft,mt,De,jt=ne.props,at=Z.props,ut=Z.type,vt=0;if(ut==="svg"&&(Ge=!0),Pe!=null){for(;vt<Pe.length;vt++)if((ft=Pe[vt])&&"setAttribute"in ft==!!ut&&(ut?ft.localName===ut:ft.nodeType===3)){V=ft,Pe[vt]=null;break}}if(V==null){if(ut===null)return document.createTextNode(at);V=Ge?document.createElementNS("http://www.w3.org/2000/svg",ut):document.createElement(ut,at.is&&at),Pe=null,st=!1}if(ut===null)jt===at||st&&V.data===at||(V.data=at);else{if(Pe=Pe&&v.call(V.childNodes),mt=(jt=ne.props||F).dangerouslySetInnerHTML,De=at.dangerouslySetInnerHTML,!st){if(Pe!=null)for(jt={},vt=0;vt<V.attributes.length;vt++)jt[V.attributes[vt].name]=V.attributes[vt].value;(De||mt)&&(De&&(mt&&De.__html==mt.__html||De.__html===V.innerHTML)||(V.innerHTML=De&&De.__html||""))}if(se(V,at,jt,Ge,st),De)Z.__k=[];else if(vt=Z.props.children,te(V,Array.isArray(vt)?vt:[vt],Z,ne,we,Ge&&ut!=="foreignObject",Pe,pt,Pe?Pe[0]:ne.__k&&le(ne,0),st),Pe!=null)for(vt=Pe.length;vt--;)Pe[vt]!=null&&ee(Pe[vt]);st||("value"in at&&(vt=at.value)!==void 0&&(vt!==jt.value||vt!==V.value||ut==="progress"&&!vt)&&re(V,"value",vt,jt.value,!1),"checked"in at&&(vt=at.checked)!==void 0&&vt!==V.checked&&re(V,"checked",vt,jt.checked,!1))}return V}function it(V,Z,ne){try{typeof V=="function"?V(Z):V.current=Z}catch(we){c.__e(we,ne)}}function yt(V,Z,ne){var we,Ge;if(c.unmount&&c.unmount(V),(we=V.ref)&&(we.current&&we.current!==V.__e||it(we,null,Z)),(we=V.__c)!=null){if(we.componentWillUnmount)try{we.componentWillUnmount()}catch(Pe){c.__e(Pe,Z)}we.base=we.__P=null}if(we=V.__k)for(Ge=0;Ge<we.length;Ge++)we[Ge]&&yt(we[Ge],Z,typeof V.type!="function");ne||V.__e==null||ee(V.__e),V.__e=V.__d=void 0}function ht(V,Z,ne){return this.constructor(V,ne)}function Be(V,Z,ne){var we,Ge,Pe;c.__&&c.__(V,Z),Ge=(we=typeof ne=="function")?null:ne&&ne.__k||Z.__k,Pe=[],Re(Z,V=(!we&&ne||Z).__k=ae(ye,null,[V]),Ge||F,F,Z.ownerSVGElement!==void 0,!we&&ne?[ne]:Ge?null:Z.firstChild?v.call(Z.childNodes):null,Pe,!we&&ne?ne:Ge?Ge.__e:Z.firstChild,we),He(Pe,V)}function et(V,Z){Be(V,Z,et)}function tt(V,Z,ne){var we,Ge,Pe,pt=W({},V.props);for(Pe in Z)Pe=="key"?we=Z[Pe]:Pe=="ref"?Ge=Z[Pe]:pt[Pe]=Z[Pe];return arguments.length>2&&(pt.children=arguments.length>3?v.call(arguments,2):ne),q(V.type,pt,we||V.key,Ge||V.ref,null)}function Ue(V,Z){var ne={__c:Z="__cC"+L++,__:V,Consumer:function(we,Ge){return we.children(Ge)},Provider:function(we){var Ge,Pe;return this.getChildContext||(Ge=[],(Pe={})[Z]=this,this.getChildContext=function(){return Pe},this.shouldComponentUpdate=function(pt){this.props.value!==pt.value&&Ge.some(ue)},this.sub=function(pt){Ge.push(pt);var st=pt.componentWillUnmount;pt.componentWillUnmount=function(){Ge.splice(Ge.indexOf(pt),1),st&&st.call(pt)}}),we.children}};return ne.Provider.__=ne.Consumer.contextType=ne}v=Y.slice,c={__e:function(V,Z){for(var ne,we,Ge;Z=Z.__;)if((ne=Z.__c)&&!ne.__)try{if((we=ne.constructor)&&we.getDerivedStateFromError!=null&&(ne.setState(we.getDerivedStateFromError(V)),Ge=ne.__d),ne.componentDidCatch!=null&&(ne.componentDidCatch(V),Ge=ne.__d),Ge)return ne.__E=ne}catch(Pe){V=Pe}throw V}},b=0,M=function(V){return V!=null&&V.constructor===void 0},me.prototype.setState=function(V,Z){var ne;ne=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=W({},this.state),typeof V=="function"&&(V=V(W({},ne),this.props)),V&&W(ne,V),V!=null&&this.__v&&(Z&&this.__h.push(Z),ue(this))},me.prototype.forceUpdate=function(V){this.__v&&(this.__e=!0,V&&this.__h.push(V),ue(this))},me.prototype.render=ye,w=[],C=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ve.__r=0,L=0},function(x,A,u){var v=u(116),c=u(44),b=u(178);v||c(Object.prototype,"toString",b,{unsafe:!0})},function(x,A,u){"use strict";var v=u(39),c=u(83),b=u(70),M=u(56),w=u(111),C="Array Iterator",j=M.set,L=M.getterFor(C);x.exports=w(Array,"Array",function(F,Y){j(this,{type:C,target:v(F),index:0,kind:Y})},function(){var F=L(this),Y=F.target,U=F.kind,W=F.index++;return!Y||W>=Y.length?(F.target=void 0,{value:void 0,done:!0}):U=="keys"?{value:W,done:!1}:U=="values"?{value:Y[W],done:!1}:{value:[W,Y[W]],done:!1}},"values"),b.Arguments=b.Array,c("keys"),c("values"),c("entries")},function(x,A,u){var v=u(7),c=u(147),b=u(148),M=u(3),w=u(57),C=u(27),j=C("iterator"),L=C("toStringTag"),F=M.values,Y=function(W,ee){if(W){if(W[j]!==F)try{w(W,j,F)}catch(q){W[j]=F}if(W[L]||w(W,L,ee),c[ee]){for(var ae in M)if(W[ae]!==M[ae])try{w(W,ae,M[ae])}catch(q){W[ae]=M[ae]}}}};for(var U in c)Y(v[U]&&v[U].prototype,U);Y(b,"DOMTokenList")},function(x,A,u){"use strict";var v=u(16),c=u(7),b=u(46),M=u(76),w=u(35),C=u(15),j=u(64),L=u(36),F=u(109),Y=u(18),U=u(34),W=u(99),ee=u(28),ae=u(33),q=u(58),Me=u(88),ye=u(32),me=u(38),le=u(39),Oe=u(87),ue=u(40),ve=u(71),te=u(54),z=u(66),Q=u(72),oe=u(139),se=u(112),ce=u(51),re=u(37),de=u(93),Ce=u(101),Re=u(44),He=u(84),Ve=u(91),it=u(69),yt=u(85),ht=u(27),Be=u(149),et=u(150),tt=u(73),Ue=u(56),V=u(74).forEach,Z=Ve("hidden"),ne="Symbol",we="prototype",Ge=ht("toPrimitive"),Pe=Ue.set,pt=Ue.getterFor(ne),st=Object[we],ft=c.Symbol,mt=ft&&ft[we],De=c.TypeError,jt=c.QObject,at=b("JSON","stringify"),ut=ce.f,vt=re.f,Ut=oe.f,Bt=de.f,At=C([].push),It=He("symbols"),Qt=He("op-symbols"),Gt=He("string-to-symbol-registry"),or=He("symbol-to-string-registry"),gr=He("wks"),pr=!jt||!jt[we]||!jt[we].findChild,sr=L&&Y(function(){return te(vt({},"a",{get:function(){return vt(this,"a",{value:7}).a}})).a!=7})?function(G,g,P){var R=ut(st,g);R&&delete st[g],vt(G,g,P),R&&G!==st&&vt(st,g,R)}:vt,Ft=function(G,g){var P=It[G]=te(mt);return Pe(P,{type:ne,tag:G,description:g}),L||(P.description=g),P},kt=function(g,P,R){g===st&&kt(Qt,P,R),ye(g);var X=Oe(P);return ye(R),U(It,X)?(R.enumerable?(U(g,Z)&&g[Z][X]&&(g[Z][X]=!1),R=te(R,{enumerable:ve(0,!1)})):(U(g,Z)||vt(g,Z,ve(1,{})),g[Z][X]=!0),sr(g,X,R)):vt(g,X,R)},nr=function(g,P){ye(g);var R=le(P),X=z(R).concat(xt(R));return V(X,function(je){(!L||w(ot,R,je))&&kt(g,je,R[je])}),g},We=function(g,P){return P===void 0?te(g):nr(te(g),P)},ot=function(g){var P=Oe(g),R=w(Bt,this,P);return this===st&&U(It,P)&&!U(Qt,P)?!1:R||!U(this,P)||!U(It,P)||U(this,Z)&&this[Z][P]?R:!0},$e=function(g,P){var R=le(g),X=Oe(P);if(!(R===st&&U(It,X)&&!U(Qt,X))){var je=ut(R,X);return je&&U(It,X)&&!(U(R,Z)&&R[Z][X])&&(je.enumerable=!0),je}},ct=function(g){var P=Ut(le(g)),R=[];return V(P,function(X){!U(It,X)&&!U(it,X)&&At(R,X)}),R},xt=function(g){var P=g===st,R=Ut(P?Qt:le(g)),X=[];return V(R,function(je){U(It,je)&&(!P||U(st,je))&&At(X,It[je])}),X};if(F||(ft=function(){if(q(mt,this))throw De("Symbol is not a constructor");var g=!arguments.length||arguments[0]===void 0?void 0:ue(arguments[0]),P=yt(g),R=function(X){this===st&&w(R,Qt,X),U(this,Z)&&U(this[Z],P)&&(this[Z][P]=!1),sr(this,P,ve(1,X))};return L&&pr&&sr(st,P,{configurable:!0,set:R}),Ft(P,g)},mt=ft[we],Re(mt,"toString",function(){return pt(this).tag}),Re(ft,"withoutSetter",function(G){return Ft(yt(G),G)}),de.f=ot,re.f=kt,ce.f=$e,Q.f=oe.f=ct,se.f=xt,Be.f=function(G){return Ft(ht(G),G)},L&&(vt(mt,"description",{configurable:!0,get:function(){return pt(this).description}}),j||Re(st,"propertyIsEnumerable",ot,{unsafe:!0}))),v({global:!0,wrap:!0,forced:!F,sham:!F},{Symbol:ft}),V(z(gr),function(G){et(G)}),v({target:ne,stat:!0,forced:!F},{for:function(G){var g=ue(G);if(U(Gt,g))return Gt[g];var P=ft(g);return Gt[g]=P,or[P]=g,P},keyFor:function(g){if(!Me(g))throw De(g+" is not a symbol");if(U(or,g))return or[g]},useSetter:function(){pr=!0},useSimple:function(){pr=!1}}),v({target:"Object",stat:!0,forced:!F,sham:!L},{create:We,defineProperty:kt,defineProperties:nr,getOwnPropertyDescriptor:$e}),v({target:"Object",stat:!0,forced:!F},{getOwnPropertyNames:ct,getOwnPropertySymbols:xt}),v({target:"Object",stat:!0,forced:Y(function(){se.f(1)})},{getOwnPropertySymbols:function(g){return se.f(me(g))}}),at){var Dt=!F||Y(function(){var G=ft();return at([G])!="[null]"||at({a:G})!="{}"||at(Object(G))!="{}"});v({target:"JSON",stat:!0,forced:Dt},{stringify:function(g,P,R){var X=Ce(arguments),je=P;if(!(!ae(P)&&g===void 0||Me(g)))return W(P)||(P=function(Ae,Ke){if(ee(je)&&(Ke=w(je,this,Ae,Ke)),!Me(Ke))return Ke}),X[1]=P,M(at,null,X)}})}if(!mt[Ge]){var k=mt.valueOf;Re(mt,Ge,function(G){return w(k,this)})}tt(ft,ne),it[Z]=!0},function(x,A,u){"use strict";var v=u(146).charAt,c=u(40),b=u(56),M=u(111),w="String Iterator",C=b.set,j=b.getterFor(w);M(String,"String",function(L){C(this,{type:w,string:c(L),index:0})},function(){var F=j(this),Y=F.string,U=F.index,W;return U>=Y.length?{value:void 0,done:!0}:(W=v(Y,U),F.index+=W.length,{value:W,done:!1})})},function(x,A,u){(function(v){var c=function(b){return b&&b.Math==Math&&b};x.exports=c(typeof globalThis=="object"&&globalThis)||c(typeof window=="object"&&window)||c(typeof self=="object"&&self)||c(typeof v=="object"&&v)||function(){return this}()||Function("return this")()}).call(this,u(82))},function(x,A,u){"use strict";var v=u(16),c=u(36),b=u(7),M=u(15),w=u(34),C=u(28),j=u(58),L=u(40),F=u(37).f,Y=u(134),U=b.Symbol,W=U&&U.prototype;if(c&&C(U)&&(!("description"in W)||U().description!==void 0)){var ee={},ae=function(){var ve=arguments.length<1||arguments[0]===void 0?void 0:L(arguments[0]),te=j(W,this)?new U(ve):ve===void 0?U():U(ve);return ve===""&&(ee[te]=!0),te};Y(ae,U),ae.prototype=W,W.constructor=ae;var q=String(U("test"))=="Symbol(test)",Me=M(W.toString),ye=M(W.valueOf),me=/^Symbol\((.*)\)[^)]+$/,le=M("".replace),Oe=M("".slice);F(W,"description",{configurable:!0,get:function(){var ve=ye(this),te=Me(ve);if(w(ee,ve))return"";var z=q?Oe(te,7,-1):le(te,me,"$1");return z===""?void 0:z}}),v({global:!0,forced:!0},{Symbol:ae})}},function(x,A,u){var v=u(150);v("iterator")},function(x,A,u){"use strict";u.d(A,"a",function(){return v.a}),u.d(A,"c",function(){return v.e}),u.d(A,"h",function(){return Oe}),u.d(A,"i",function(){return q}),u.d(A,"j",function(){return ee}),u.d(A,"b",function(){return He}),u.d(A,"e",function(){return ht}),u.d(A,"f",function(){return Ve}),u.d(A,"g",function(){return ct});var v=u(1),c,b,M,w=0,C=[],j=v.i.__b,L=v.i.__r,F=v.i.diffed,Y=v.i.__c,U=v.i.unmount;function W(g,P){v.i.__h&&v.i.__h(b,g,w||P),w=0;var R=b.__H||(b.__H={__:[],__h:[]});return g>=R.__.length&&R.__.push({}),R.__[g]}function ee(g){return w=1,ae(de,g)}function ae(g,P,R){var X=W(c++,2);return X.t=g,X.__c||(X.__=[R?R(P):de(void 0,P),function(je){var Ae=X.t(X.__[0],je);X.__[0]!==Ae&&(X.__=[Ae,X.__[1]],X.__c.setState({}))}],X.__c=b),X.__}function q(g,P){var R=W(c++,3);!v.i.__s&&re(R.__H,P)&&(R.__=g,R.__H=P,b.__H.__h.push(R))}function Me(g,P){var R=W(c++,4);!v.i.__s&&re(R.__H,P)&&(R.__=g,R.__H=P,b.__h.push(R))}function ye(g){return w=5,le(function(){return{current:g}},[])}function me(g,P,R){w=6,Me(function(){typeof g=="function"?g(P()):g&&(g.current=P())},R==null?R:R.concat(g))}function le(g,P){var R=W(c++,7);return re(R.__H,P)&&(R.__=g(),R.__H=P,R.__h=g),R.__}function Oe(g,P){return w=8,le(function(){return g},P)}function ue(g){var P=b.context[g.__c],R=W(c++,9);return R.c=g,P?(R.__==null&&(R.__=!0,P.sub(b)),P.props.value):g.__}function ve(g,P){v.i.useDebugValue&&v.i.useDebugValue(P?P(g):g)}function te(g){var P=W(c++,10),R=ee();return P.__=g,b.componentDidCatch||(b.componentDidCatch=function(X){P.__&&P.__(X),R[1](X)}),[R[0],function(){R[1](void 0)}]}function z(){var g;for(C.sort(function(P,R){return P.__v.__b-R.__v.__b});g=C.pop();)if(g.__P)try{g.__H.__h.forEach(se),g.__H.__h.forEach(ce),g.__H.__h=[]}catch(P){g.__H.__h=[],v.i.__e(P,g.__v)}}v.i.__b=function(g){b=null,j&&j(g)},v.i.__r=function(g){L&&L(g),c=0;var P=(b=g.__c).__H;P&&(P.__h.forEach(se),P.__h.forEach(ce),P.__h=[])},v.i.diffed=function(g){F&&F(g);var P=g.__c;P&&P.__H&&P.__H.__h.length&&(C.push(P)!==1&&M===v.i.requestAnimationFrame||((M=v.i.requestAnimationFrame)||oe)(z)),b=null},v.i.__c=function(g,P){P.some(function(R){try{R.__h.forEach(se),R.__h=R.__h.filter(function(X){return!X.__||ce(X)})}catch(X){P.some(function(je){je.__h&&(je.__h=[])}),P=[],v.i.__e(X,R.__v)}}),Y&&Y(g,P)},v.i.unmount=function(g){U&&U(g);var P,R=g.__c;R&&R.__H&&(R.__H.__.forEach(function(X){try{se(X)}catch(je){P=je}}),P&&v.i.__e(P,R.__v))};var Q=typeof requestAnimationFrame=="function";function oe(g){var P,R=function(){clearTimeout(X),Q&&cancelAnimationFrame(P),setTimeout(g)},X=setTimeout(R,100);Q&&(P=requestAnimationFrame(R))}function se(g){var P=b,R=g.__c;typeof R=="function"&&(g.__c=void 0,R()),b=P}function ce(g){var P=b;g.__c=g.__(),b=P}function re(g,P){return!g||g.length!==P.length||P.some(function(R,X){return R!==g[X]})}function de(g,P){return typeof P=="function"?P(g):P}function Ce(g,P){for(var R in P)g[R]=P[R];return g}function Re(g,P){for(var R in g)if(R!=="__source"&&!(R in P))return!0;for(var X in P)if(X!=="__source"&&g[X]!==P[X])return!0;return!1}function He(g){this.props=g}function Ve(g,P){function R(je){var Ae=this.props.ref,Ke=Ae==je.ref;return!Ke&&Ae&&(Ae.call?Ae(null):Ae.current=null),P?!P(this.props,je)||!Ke:Re(this.props,je)}function X(je){return this.shouldComponentUpdate=R,Object(v.e)(g,je)}return X.displayName="Memo("+(g.displayName||g.name)+")",X.prototype.isReactComponent=!0,X.__f=!0,X}(He.prototype=new v.a).isPureReactComponent=!0,He.prototype.shouldComponentUpdate=function(g,P){return Re(this.props,g)||Re(this.state,P)};var it=v.i.__b;v.i.__b=function(g){g.type&&g.type.__f&&g.ref&&(g.props.ref=g.ref,g.ref=null),it&&it(g)};var yt=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function ht(g){function P(R,X){var je=Ce({},R);return delete je.ref,g(je,!(X=R.ref||X)||typeof X=="object"&&!("current"in X)?null:X)}return P.$$typeof=yt,P.render=P,P.prototype.isReactComponent=P.__f=!0,P.displayName="ForwardRef("+(g.displayName||g.name)+")",P}var Be=function(g,P){return g==null?null:Object(v.k)(Object(v.k)(g).map(P))},et={map:Be,forEach:Be,count:function(g){return g?Object(v.k)(g).length:0},only:function(g){var P=Object(v.k)(g);if(P.length!==1)throw"Children.only";return P[0]},toArray:v.k},tt=v.i.__e;v.i.__e=function(g,P,R){if(g.then){for(var X,je=P;je=je.__;)if((X=je.__c)&&X.__c)return P.__e==null&&(P.__e=R.__e,P.__k=R.__k),X.__c(g,P)}tt(g,P,R)};var Ue=v.i.unmount;function V(g,P,R){return g&&(g.__c&&g.__c.__H&&(g.__c.__H.__.forEach(function(X){typeof X.__c=="function"&&X.__c()}),g.__c.__H=null),(g=Ce({},g)).__c!=null&&(g.__c.__P===R&&(g.__c.__P=P),g.__c=null),g.__k=g.__k&&g.__k.map(function(X){return V(X,P,R)})),g}function Z(g,P,R){return g&&(g.__v=null,g.__k=g.__k&&g.__k.map(function(X){return Z(X,P,R)}),g.__c&&g.__c.__P===P&&(g.__e&&R.insertBefore(g.__e,g.__d),g.__c.__e=!0,g.__c.__P=R)),g}function ne(){this.__u=0,this.t=null,this.__b=null}function we(g){var P=g.__.__c;return P&&P.__e&&P.__e(g)}function Ge(g){var P,R,X;function je(Ae){if(P||(P=g()).then(function(Ke){R=Ke.default||Ke},function(Ke){X=Ke}),X)throw X;if(!R)throw P;return Object(v.e)(R,Ae)}return je.displayName="Lazy",je.__f=!0,je}function Pe(){this.u=null,this.o=null}v.i.unmount=function(g){var P=g.__c;P&&P.__R&&P.__R(),P&&g.__h===!0&&(g.type=null),Ue&&Ue(g)},(ne.prototype=new v.a).__c=function(g,P){var R=P.__c,X=this;X.t==null&&(X.t=[]),X.t.push(R);var je=we(X.__v),Ae=!1,Ke=function(){Ae||(Ae=!0,R.__R=null,je?je(Xe):Xe())};R.__R=Ke;var Xe=function(){if(!--X.__u){if(X.state.__e){var Nt=X.state.__e;X.__v.__k[0]=Z(Nt,Nt.__c.__P,Nt.__c.__O)}var bt;for(X.setState({__e:X.__b=null});bt=X.t.pop();)bt.forceUpdate()}},nt=P.__h===!0;X.__u++||nt||X.setState({__e:X.__b=X.__v.__k[0]}),g.then(Ke,Ke)},ne.prototype.componentWillUnmount=function(){this.t=[]},ne.prototype.render=function(g,P){if(this.__b){if(this.__v.__k){var R=document.createElement("div"),X=this.__v.__k[0].__c;this.__v.__k[0]=V(this.__b,R,X.__O=X.__P)}this.__b=null}var je=P.__e&&Object(v.e)(v.b,null,g.fallback);return je&&(je.__h=null),[Object(v.e)(v.b,null,P.__e?null:g.children),je]};var pt=function(g,P,R){if(++R[1]===R[0]&&g.o.delete(P),g.props.revealOrder&&(g.props.revealOrder[0]!=="t"||!g.o.size))for(R=g.u;R;){for(;R.length>3;)R.pop()();if(R[1]<R[0])break;g.u=R=R[2]}};function st(g){return this.getChildContext=function(){return g.context},g.children}function ft(g){var P=this,R=g.i;P.componentWillUnmount=function(){Object(v.j)(null,P.l),P.l=null,P.i=null},P.i&&P.i!==R&&P.componentWillUnmount(),g.__v?(P.l||(P.i=R,P.l={nodeType:1,parentNode:R,childNodes:[],appendChild:function(X){this.childNodes.push(X),P.i.appendChild(X)},insertBefore:function(X,je){this.childNodes.push(X),P.i.appendChild(X)},removeChild:function(X){this.childNodes.splice(this.childNodes.indexOf(X)>>>1,1),P.i.removeChild(X)}}),Object(v.j)(Object(v.e)(st,{context:P.context},g.__v),P.l)):P.l&&P.componentWillUnmount()}function mt(g,P){return Object(v.e)(ft,{__v:g,i:P})}(Pe.prototype=new v.a).__e=function(g){var P=this,R=we(P.__v),X=P.o.get(g);return X[0]++,function(je){var Ae=function(){P.props.revealOrder?(X.push(je),pt(P,g,X)):je()};R?R(Ae):Ae()}},Pe.prototype.render=function(g){this.u=null,this.o=new Map;var P=Object(v.k)(g.children);g.revealOrder&&g.revealOrder[0]==="b"&&P.reverse();for(var R=P.length;R--;)this.o.set(P[R],this.u=[1,0,this.u]);return g.children},Pe.prototype.componentDidUpdate=Pe.prototype.componentDidMount=function(){var g=this;this.o.forEach(function(P,R){pt(g,R,P)})};var De=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,jt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,at=typeof document!="undefined",ut=function(g){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(g)};function vt(g,P,R){return P.__k==null&&(P.textContent=""),Object(v.j)(g,P),typeof R=="function"&&R(),g?g.__c:null}function Ut(g,P,R){return Object(v.h)(g,P),typeof R=="function"&&R(),g?g.__c:null}v.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(g){Object.defineProperty(v.a.prototype,g,{configurable:!0,get:function(){return this["UNSAFE_"+g]},set:function(P){Object.defineProperty(this,g,{configurable:!0,writable:!0,value:P})}})});var Bt=v.i.event;function At(){}function It(){return this.cancelBubble}function Qt(){return this.defaultPrevented}v.i.event=function(g){return Bt&&(g=Bt(g)),g.persist=At,g.isPropagationStopped=It,g.isDefaultPrevented=Qt,g.nativeEvent=g};var Gt,or={configurable:!0,get:function(){return this.class}},gr=v.i.vnode;v.i.vnode=function(g){var P=g.type,R=g.props,X=R;if(typeof P=="string"){var je=P.indexOf("-")===-1;for(var Ae in X={},R){var Ke=R[Ae];at&&Ae==="children"&&P==="noscript"||Ae==="value"&&"defaultValue"in R&&Ke==null||(Ae==="defaultValue"&&"value"in R&&R.value==null?Ae="value":Ae==="download"&&Ke===!0?Ke="":/ondoubleclick/i.test(Ae)?Ae="ondblclick":/^onchange(textarea|input)/i.test(Ae+P)&&!ut(R.type)?Ae="oninput":/^onfocus$/i.test(Ae)?Ae="onfocusin":/^onblur$/i.test(Ae)?Ae="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ae)?Ae=Ae.toLowerCase():je&&jt.test(Ae)?Ae=Ae.replace(/[A-Z0-9]/,"-$&").toLowerCase():Ke===null&&(Ke=void 0),X[Ae]=Ke)}P=="select"&&X.multiple&&Array.isArray(X.value)&&(X.value=Object(v.k)(R.children).forEach(function(Xe){Xe.props.selected=X.value.indexOf(Xe.props.value)!=-1})),P=="select"&&X.defaultValue!=null&&(X.value=Object(v.k)(R.children).forEach(function(Xe){Xe.props.selected=X.multiple?X.defaultValue.indexOf(Xe.props.value)!=-1:X.defaultValue==Xe.props.value})),g.props=X,R.class!=R.className&&(or.enumerable="className"in R,R.className!=null&&(X.class=R.className),Object.defineProperty(X,"className",or))}g.$$typeof=De,gr&&gr(g)};var pr=v.i.__r;v.i.__r=function(g){pr&&pr(g),Gt=g.__c};var sr={ReactCurrentDispatcher:{current:{readContext:function(g){return Gt.__n[g.__c].props.value}}}},Ft="17.0.2";function kt(g){return v.e.bind(null,g)}function nr(g){return!!g&&g.$$typeof===De}function We(g){return nr(g)?v.c.apply(null,arguments):g}function ot(g){return!!g.__k&&(Object(v.j)(null,g),!0)}function $e(g){return g&&(g.base||g.nodeType===1&&g)||null}var ct=function(g,P){return g(P)},xt=function(g,P){return g(P)},Dt=v.b,k={useState:ee,useReducer:ae,useEffect:q,useLayoutEffect:Me,useRef:ye,useImperativeHandle:me,useMemo:le,useCallback:Oe,useContext:ue,useDebugValue:ve,version:"17.0.2",Children:et,render:vt,hydrate:Ut,unmountComponentAtNode:ot,createPortal:mt,createElement:v.e,createContext:v.d,createFactory:kt,cloneElement:We,createRef:v.f,Fragment:v.b,isValidElement:nr,findDOMNode:$e,Component:v.a,PureComponent:He,memo:Ve,forwardRef:ht,flushSync:xt,unstable_batchedUpdates:ct,StrictMode:Dt,Suspense:ne,SuspenseList:Pe,lazy:Ge,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:sr},G=A.d=k},function(x,A,u){var v=u(7),c=u(147),b=u(148),M=u(179),w=u(57),C=function(L){if(L&&L.forEach!==M)try{w(L,"forEach",M)}catch(F){L.forEach=M}};for(var j in c)c[j]&&C(v[j]&&v[j].prototype);C(b)},function(x,A,u){var v=u(16),c=u(97);v({target:"Object",stat:!0},{setPrototypeOf:c})},function(x,A,u){var v=u(16),c=u(18),b=u(38),M=u(96),w=u(137),C=c(function(){M(1)});v({target:"Object",stat:!0,forced:C,sham:!w},{getPrototypeOf:function(L){return M(b(L))}})},function(x,A,u){var v=u(16),c=u(46),b=u(76),M=u(199),w=u(157),C=u(32),j=u(33),L=u(54),F=u(18),Y=c("Reflect","construct"),U=Object.prototype,W=[].push,ee=F(function(){function Me(){}return!(Y(function(){},[],Me)instanceof Me)}),ae=!F(function(){Y(function(){})}),q=ee||ae;v({target:"Reflect",stat:!0,forced:q,sham:q},{construct:function(ye,me){w(ye),C(me);var le=arguments.length<3?ye:w(arguments[2]);if(ae&&!ee)return Y(ye,me,le);if(ye==le){switch(me.length){case 0:return new ye;case 1:return new ye(me[0]);case 2:return new ye(me[0],me[1]);case 3:return new ye(me[0],me[1],me[2]);case 4:return new ye(me[0],me[1],me[2],me[3])}var Oe=[null];return b(W,Oe,me),new(b(M,ye,Oe))}var ue=le.prototype,ve=L(j(ue)?ue:U),te=b(ye,ve,me);return j(te)?te:ve}})},function(x,A){var u=Function.prototype,v=u.bind,c=u.call,b=v&&v.bind(c);x.exports=v?function(M){return M&&b(c,M)}:function(M){return M&&function(){return c.apply(M,arguments)}}},function(x,A,u){var v=u(7),c=u(51).f,b=u(57),M=u(44),w=u(108),C=u(134),j=u(95);x.exports=function(L,F){var Y=L.target,U=L.global,W=L.stat,ee,ae,q,Me,ye,me;if(U?ae=v:W?ae=v[Y]||w(Y,{}):ae=(v[Y]||{}).prototype,ae)for(q in F){if(ye=F[q],L.noTargetGet?(me=c(ae,q),Me=me&&me.value):Me=ae[q],ee=j(U?q:Y+(W?".":"#")+q,L.forced),!ee&&Me!==void 0){if(typeof ye==typeof Me)continue;C(ye,Me)}(L.sham||Me&&Me.sham)&&b(ye,"sham",!0),M(ae,q,ye,L)}}},function(x,A,u){"use strict";var v=u(16),c=u(7),b=u(99),M=u(100),w=u(33),C=u(67),j=u(43),L=u(39),F=u(61),Y=u(27),U=u(75),W=u(101),ee=U("slice"),ae=Y("species"),q=c.Array,Me=Math.max;v({target:"Array",proto:!0,forced:!ee},{slice:function(me,le){var Oe=L(this),ue=j(Oe),ve=C(me,ue),te=C(le===void 0?ue:le,ue),z,Q,oe;if(b(Oe)&&(z=Oe.constructor,M(z)&&(z===q||b(z.prototype))?z=void 0:w(z)&&(z=z[ae],z===null&&(z=void 0)),z===q||z===void 0))return W(Oe,ve,te);for(Q=new(z===void 0?q:z)(Me(te-ve,0)),oe=0;ve<te;ve++,oe++)ve in Oe&&F(Q,oe,Oe[ve]);return Q.length=oe,Q}})},function(x,A){x.exports=function(u){try{return!!u()}catch(v){return!0}}},function(x,A,u){"use strict";var v=u(16),c=u(102);v({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},function(x,A,u){var v=u(16),c=u(38),b=u(66),M=u(18),w=M(function(){b(1)});v({target:"Object",stat:!0,forced:w},{keys:function(j){return b(c(j))}})},function(x,A,u){var v=u(16),c=u(18),b=u(39),M=u(51).f,w=u(36),C=c(function(){M(1)}),j=!w||C;v({target:"Object",stat:!0,forced:j,sham:!w},{getOwnPropertyDescriptor:function(F,Y){return M(b(F),Y)}})},function(x,A,u){"use strict";var v=u(16),c=u(74).filter,b=u(75),M=b("filter");v({target:"Array",proto:!0,forced:!M},{filter:function(C){return c(this,C,arguments.length>1?arguments[1]:void 0)}})},function(x,A,u){var v=u(16),c=u(36),b=u(135),M=u(39),w=u(51),C=u(61);v({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(L){for(var F=M(L),Y=w.f,U=b(F),W={},ee=0,ae,q;U.length>ee;)q=Y(F,ae=U[ee++]),q!==void 0&&C(W,ae,q);return W}})},function(x,A,u){var v=u(36),c=u(94).EXISTS,b=u(15),M=u(37).f,w=Function.prototype,C=b(w.toString),j=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,L=b(j.exec),F="name";v&&!c&&M(w,F,{configurable:!0,get:function(){try{return L(j,C(this))[1]}catch(Y){return""}}})},function(x,A,u){var v=u(16),c=u(182),b=u(118),M=!b(function(w){Array.from(w)});v({target:"Array",stat:!0,forced:M},{from:c})},,function(x,A,u){var v=u(7),c=u(84),b=u(34),M=u(85),w=u(109),C=u(128),j=c("wks"),L=v.Symbol,F=L&&L.for,Y=C?L:L&&L.withoutSetter||M;x.exports=function(U){if(!b(j,U)||!(w||typeof j[U]=="string")){var W="Symbol."+U;w&&b(L,U)?j[U]=L[U]:C&&F?j[U]=F(W):j[U]=Y(W)}return j[U]}},function(x,A){x.exports=function(u){return typeof u=="function"}},function(x,A,u){"use strict";var v=u(16),c=u(7),b=u(18),M=u(99),w=u(33),C=u(38),j=u(43),L=u(61),F=u(119),Y=u(75),U=u(27),W=u(65),ee=U("isConcatSpreadable"),ae=9007199254740991,q="Maximum allowed index exceeded",Me=c.TypeError,ye=W>=51||!b(function(){var ue=[];return ue[ee]=!1,ue.concat()[0]!==ue}),me=Y("concat"),le=function(ue){if(!w(ue))return!1;var ve=ue[ee];return ve!==void 0?!!ve:M(ue)},Oe=!ye||!me;v({target:"Array",proto:!0,forced:Oe},{concat:function(ve){var te=C(this),z=F(te,0),Q=0,oe,se,ce,re,de;for(oe=-1,ce=arguments.length;oe<ce;oe++)if(de=oe===-1?te:arguments[oe],le(de)){if(re=j(de),Q+re>ae)throw Me(q);for(se=0;se<re;se++,Q++)se in de&&L(z,Q,de[se])}else{if(Q>=ae)throw Me(q);L(z,Q++,de)}return z.length=Q,z}})},function(x,A,u){var v=u(16),c=u(198);v({target:"Object",stat:!0,forced:Object.assign!==c},{assign:c})},function(x,A,u){"use strict";var v=u(105),c=typeof self=="object"&&self&&self.Object===Object&&self,b=v.a||c||Function("return this")();A.a=b},function(x,A,u){var v=u(7),c=u(33),b=v.String,M=v.TypeError;x.exports=function(w){if(c(w))return w;throw M(b(w)+" is not an object")}},function(x,A,u){var v=u(28);x.exports=function(c){return typeof c=="object"?c!==null:v(c)}},function(x,A,u){var v=u(15),c=u(38),b=v({}.hasOwnProperty);x.exports=Object.hasOwn||function(w,C){return b(c(w),C)}},function(x,A){var u=Function.prototype.call;x.exports=u.bind?u.bind(u):function(){return u.apply(u,arguments)}},function(x,A,u){var v=u(18);x.exports=!v(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(x,A,u){var v=u(7),c=u(36),b=u(129),M=u(32),w=u(87),C=v.TypeError,j=Object.defineProperty;A.f=c?j:function(F,Y,U){if(M(F),Y=w(Y),M(U),b)try{return j(F,Y,U)}catch(W){}if("get"in U||"set"in U)throw C("Accessors not supported");return"value"in U&&(F[Y]=U.value),F}},function(x,A,u){var v=u(7),c=u(45),b=v.Object;x.exports=function(M){return b(c(M))}},function(x,A,u){var v=u(81),c=u(45);x.exports=function(b){return v(c(b))}},function(x,A,u){var v=u(7),c=u(98),b=v.String;x.exports=function(M){if(c(M)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return b(M)}},function(x,A,u){"use strict";var v=u(16),c=u(74).map,b=u(75),M=b("map");v({target:"Array",proto:!0,forced:!M},{map:function(C){return c(this,C,arguments.length>1?arguments[1]:void 0)}})},function(x,A,u){"use strict";(function(v){u.d(A,"d",function(){return C}),u.d(A,"c",function(){return j}),u.d(A,"b",function(){return L}),u.d(A,"a",function(){return Y});var c=u(10),b=function(U,W){var ee=typeof Symbol=="function"&&U[Symbol.iterator];if(!ee)return U;var ae=ee.call(U),q,Me=[],ye;try{for(;(W===void 0||W-- >0)&&!(q=ae.next()).done;)Me.push(q.value)}catch(me){ye={error:me}}finally{try{q&&!q.done&&(ee=ae.return)&&ee.call(ae)}finally{if(ye)throw ye.error}}return Me},M=[];function w(U){Object(c.i)(function(){return U},M)}function C(){var U=b(Object(c.j)(0),2),W=U[1],ee=Object(c.h)(function(){W(function(ae){return ae+1})},[]);return ee}function j(U){if(!U||typeof U!="object")return!1;var W=Object.getPrototypeOf(U);return!W||W===Object.prototype}function L(U){return typeof Symbol=="function"?Symbol.for(U):"__$mobx-react "+U+"__"}var F={};function Y(){return typeof window!="undefined"?window:typeof v!="undefined"?v:typeof self!="undefined"?self:F}}).call(this,u(82))},function(x,A,u){var v=u(90);x.exports=function(c){return v(c.length)}},function(x,A,u){var v=u(7),c=u(28),b=u(34),M=u(57),w=u(108),C=u(92),j=u(56),L=u(94).CONFIGURABLE,F=j.get,Y=j.enforce,U=String(String).split("String");(x.exports=function(W,ee,ae,q){var Me=q?!!q.unsafe:!1,ye=q?!!q.enumerable:!1,me=q?!!q.noTargetGet:!1,le=q&&q.name!==void 0?q.name:ee,Oe;if(c(ae)&&(String(le).slice(0,7)==="Symbol("&&(le="["+String(le).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!b(ae,"name")||L&&ae.name!==le)&&M(ae,"name",le),Oe=Y(ae),Oe.source||(Oe.source=U.join(typeof le=="string"?le:""))),W===v){ye?W[ee]=ae:w(ee,ae);return}else Me?!me&&W[ee]&&(ye=!0):delete W[ee];ye?W[ee]=ae:M(W,ee,ae)})(Function.prototype,"toString",function(){return c(this)&&F(this).source||C(this)})},function(x,A,u){var v=u(7),c=v.TypeError;x.exports=function(b){if(b==null)throw c("Can't call method on "+b);return b}},function(x,A,u){var v=u(7),c=u(28),b=function(M){return c(M)?M:void 0};x.exports=function(M,w){return arguments.length<2?b(v[M]):v[M]&&v[M][w]}},function(x,A,u){var v=u(16),c=u(35),b=u(33),M=u(32),w=u(200),C=u(51),j=u(96);function L(F,Y){var U=arguments.length<3?F:arguments[2],W,ee;if(M(F)===U)return F[Y];if(W=C.f(F,Y),W)return w(W)?W.value:W.get===void 0?void 0:c(W.get,U);if(b(ee=j(F)))return L(ee,Y,U)}v({target:"Reflect",stat:!0},{get:L})},function(x,A,u){"use strict";(function(v){var c=u(31),b=u(165),M=rr&&!rr.nodeType&&rr,w=M&&typeof v=="object"&&v&&!v.nodeType&&v,C=w&&w.exports===M,j=C?c.a.Buffer:void 0,L=j?j.isBuffer:void 0,F=L||b.a;A.a=F}).call(this,u(121)(x))},function(x,A,u){"use strict";(function(v){var c=u(105),b=rr&&!rr.nodeType&&rr,M=b&&typeof v=="object"&&v&&!v.nodeType&&v,w=M&&M.exports===b,C=w&&c.a.process,j=function(){try{var L=M&&M.require&&M.require("util").types;return L||C&&C.binding&&C.binding("util")}catch(F){}}();A.a=j}).call(this,u(121)(x))},function(x,A,u){var v=u(15),c=v({}.toString),b=v("".slice);x.exports=function(M){return b(c(M),8,-1)}},function(x,A,u){var v=u(36),c=u(35),b=u(93),M=u(71),w=u(39),C=u(87),j=u(34),L=u(129),F=Object.getOwnPropertyDescriptor;A.f=v?F:function(U,W){if(U=w(U),W=C(W),L)try{return F(U,W)}catch(ee){}if(j(U,W))return M(!c(b.f,U,W),U[W])}},function(x,A,u){var v=u(16),c=u(213).entries;v({target:"Object",stat:!0},{entries:function(M){return c(M)}})},function(x,A,u){var v=u(46);x.exports=v("navigator","userAgent")||""},function(x,A,u){var v=u(32),c=u(168),b=u(110),M=u(69),w=u(133),C=u(86),j=u(91),L=">",F="<",Y="prototype",U="script",W=j("IE_PROTO"),ee=function(){},ae=function(le){return F+U+L+le+F+"/"+U+L},q=function(le){le.write(ae("")),le.close();var Oe=le.parentWindow.Object;return le=null,Oe},Me=function(){var le=C("iframe"),Oe="java"+U+":",ue;return le.style.display="none",w.appendChild(le),le.src=String(Oe),ue=le.contentWindow.document,ue.open(),ue.write(ae("document.F=Object")),ue.close(),ue.F},ye,me=function(){try{ye=new ActiveXObject("htmlfile")}catch(Oe){}me=typeof document!="undefined"?document.domain&&ye?q(ye):Me():q(ye);for(var le=b.length;le--;)delete me[Y][b[le]];return me()};M[W]=!0,x.exports=Object.create||function(Oe,ue){var ve;return Oe!==null?(ee[Y]=v(Oe),ve=new ee,ee[Y]=null,ve[W]=Oe):ve=me(),ue===void 0?ve:c(ve,ue)}},function(x,A,u){var v=u(7),c=u(28),b=u(89),M=v.TypeError;x.exports=function(w){if(c(w))return w;throw M(b(w)+" is not a function")}},function(x,A,u){var v=u(170),c=u(7),b=u(15),M=u(33),w=u(57),C=u(34),j=u(107),L=u(91),F=u(69),Y="Object already initialized",U=c.TypeError,W=c.WeakMap,ee,ae,q,Me=function(te){return q(te)?ae(te):ee(te,{})},ye=function(te){return function(z){var Q;if(!M(z)||(Q=ae(z)).type!==te)throw U("Incompatible receiver, "+te+" required");return Q}};if(v||j.state){var me=j.state||(j.state=new W),le=b(me.get),Oe=b(me.has),ue=b(me.set);ee=function(te,z){if(Oe(me,te))throw new U(Y);return z.facade=te,ue(me,te,z),z},ae=function(te){return le(me,te)||{}},q=function(te){return Oe(me,te)}}else{var ve=L("state");F[ve]=!0,ee=function(te,z){if(C(te,ve))throw new U(Y);return z.facade=te,w(te,ve,z),z},ae=function(te){return C(te,ve)?te[ve]:{}},q=function(te){return C(te,ve)}}x.exports={set:ee,get:ae,has:q,enforce:Me,getterFor:ye}},function(x,A,u){var v=u(36),c=u(37),b=u(71);x.exports=v?function(M,w,C){return c.f(M,w,b(1,C))}:function(M,w,C){return M[w]=C,M}},function(x,A,u){var v=u(15);x.exports=v({}.isPrototypeOf)},function(x,A,u){var v=u(55);x.exports=function(c,b){var M=c[b];return M==null?void 0:v(M)}},function(x,A,u){"use strict";var v=u(173),c=u(177);v("Map",function(b){return function(){return b(this,arguments.length?arguments[0]:void 0)}},c)},function(x,A,u){"use strict";var v=u(87),c=u(37),b=u(71);x.exports=function(M,w,C){var j=v(w);j in M?c.f(M,j,b(0,C)):M[j]=C}},function(x,A,u){var v=u(15),c=u(55),b=v(v.bind);x.exports=function(M,w){return c(M),w===void 0?M:b?b(M,w):function(){return M.apply(w,arguments)}}},function(x,A,u){var v=u(16),c=u(214),b=u(83);v({target:"Array",proto:!0},{fill:c}),b("fill")},function(x,A){x.exports=!1},function(x,A,u){var v=u(7),c=u(53),b=v.process,M=v.Deno,w=b&&b.versions||M&&M.version,C=w&&w.v8,j,L;C&&(j=C.split("."),L=j[0]>0&&j[0]<4?1:+(j[0]+j[1])),!L&&c&&(j=c.match(/Edge\/(\d+)/),(!j||j[1]>=74)&&(j=c.match(/Chrome\/(\d+)/),j&&(L=+j[1]))),x.exports=L},function(x,A,u){var v=u(131),c=u(110);x.exports=Object.keys||function(M){return v(M,c)}},function(x,A,u){var v=u(68),c=Math.max,b=Math.min;x.exports=function(M,w){var C=v(M);return C<0?c(C+w,0):b(C,w)}},function(x,A){var u=Math.ceil,v=Math.floor;x.exports=function(c){var b=+c;return b!==b||b===0?0:(b>0?v:u)(b)}},function(x,A){x.exports={}},function(x,A){x.exports={}},function(x,A){x.exports=function(u,v){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:v}}},function(x,A,u){var v=u(131),c=u(110),b=c.concat("length","prototype");A.f=Object.getOwnPropertyNames||function(w){return v(w,b)}},function(x,A,u){var v=u(37).f,c=u(34),b=u(27),M=b("toStringTag");x.exports=function(w,C,j){w&&!c(w=j?w:w.prototype,M)&&v(w,M,{configurable:!0,value:C})}},function(x,A,u){var v=u(62),c=u(15),b=u(81),M=u(38),w=u(43),C=u(119),j=c([].push),L=function(F){var Y=F==1,U=F==2,W=F==3,ee=F==4,ae=F==6,q=F==7,Me=F==5||ae;return function(ye,me,le,Oe){for(var ue=M(ye),ve=b(ue),te=v(me,le),z=w(ve),Q=0,oe=Oe||C,se=Y?oe(ye,z):U||q?oe(ye,0):void 0,ce,re;z>Q;Q++)if((Me||Q in ve)&&(ce=ve[Q],re=te(ce,Q,ue),F))if(Y)se[Q]=re;else if(re)switch(F){case 3:return!0;case 5:return ce;case 6:return Q;case 2:j(se,ce)}else switch(F){case 4:return!1;case 7:j(se,ce)}return ae?-1:W||ee?ee:se}};x.exports={forEach:L(0),map:L(1),filter:L(2),some:L(3),every:L(4),find:L(5),findIndex:L(6),filterReject:L(7)}},function(x,A,u){var v=u(18),c=u(27),b=u(65),M=c("species");x.exports=function(w){return b>=51||!v(function(){var C=[],j=C.constructor={};return j[M]=function(){return{foo:1}},C[w](Boolean).foo!==1})}},function(x,A){var u=Function.prototype,v=u.apply,c=u.bind,b=u.call;x.exports=typeof Reflect=="object"&&Reflect.apply||(c?b.bind(v):function(){return b.apply(v,arguments)})},function(x,A,u){"use strict";var v=u(16),c=u(15),b=u(81),M=u(39),w=u(120),C=c([].join),j=b!=Object,L=w("join",",");v({target:"Array",proto:!0,forced:j||!L},{join:function(Y){return C(M(this),Y===void 0?",":Y)}})},function(x,A,u){"use strict";var v=u(76),c=u(35),b=u(15),M=u(122),w=u(154),C=u(32),j=u(45),L=u(156),F=u(123),Y=u(90),U=u(40),W=u(59),ee=u(113),ae=u(124),q=u(102),Me=u(151),ye=u(18),me=Me.UNSUPPORTED_Y,le=4294967295,Oe=Math.min,ue=[].push,ve=b(/./.exec),te=b(ue),z=b("".slice),Q=!ye(function(){var oe=/(?:)/,se=oe.exec;oe.exec=function(){return se.apply(this,arguments)};var ce="ab".split(oe);return ce.length!==2||ce[0]!=="a"||ce[1]!=="b"});M("split",function(oe,se,ce){var re;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?re=function(de,Ce){var Re=U(j(this)),He=Ce===void 0?le:Ce>>>0;if(He===0)return[];if(de===void 0)return[Re];if(!w(de))return c(se,Re,de,He);for(var Ve=[],it=(de.ignoreCase?"i":"")+(de.multiline?"m":"")+(de.unicode?"u":"")+(de.sticky?"y":""),yt=0,ht=new RegExp(de.source,it+"g"),Be,et,tt;(Be=c(q,ht,Re))&&(et=ht.lastIndex,!(et>yt&&(te(Ve,z(Re,yt,Be.index)),Be.length>1&&Be.index<Re.length&&v(ue,Ve,ee(Be,1)),tt=Be[0].length,yt=et,Ve.length>=He)));)ht.lastIndex===Be.index&&ht.lastIndex++;return yt===Re.length?(tt||!ve(ht,""))&&te(Ve,""):te(Ve,z(Re,yt)),Ve.length>He?ee(Ve,0,He):Ve}:"0".split(void 0,0).length?re=function(de,Ce){return de===void 0&&Ce===0?[]:c(se,this,de,Ce)}:re=se,[function(Ce,Re){var He=j(this),Ve=Ce==null?void 0:W(Ce,oe);return Ve?c(Ve,Ce,He,Re):c(re,U(He),Ce,Re)},function(de,Ce){var Re=C(this),He=U(de),Ve=ce(re,Re,He,Ce,re!==se);if(Ve.done)return Ve.value;var it=L(Re,RegExp),yt=Re.unicode,ht=(Re.ignoreCase?"i":"")+(Re.multiline?"m":"")+(Re.unicode?"u":"")+(me?"g":"y"),Be=new it(me?"^(?:"+Re.source+")":Re,ht),et=Ce===void 0?le:Ce>>>0;if(et===0)return[];if(He.length===0)return ae(Be,He)===null?[He]:[];for(var tt=0,Ue=0,V=[];Ue<He.length;){Be.lastIndex=me?0:Ue;var Z=ae(Be,me?z(He,Ue):He),ne;if(Z===null||(ne=Oe(Y(Be.lastIndex+(me?Ue:0)),He.length))===tt)Ue=F(He,Ue,yt);else{if(te(V,z(He,tt,Ue)),V.length===et)return V;for(var we=1;we<=Z.length-1;we++)if(te(V,Z[we]),V.length===et)return V;Ue=tt=ne}}return te(V,z(He,tt)),V}]},!Q,me)},function(x,A,u){"use strict";var v=u(36),c=u(7),b=u(15),M=u(95),w=u(44),C=u(34),j=u(143),L=u(58),F=u(88),Y=u(130),U=u(18),W=u(72).f,ee=u(51).f,ae=u(37).f,q=u(196),Me=u(159).trim,ye="Number",me=c[ye],le=me.prototype,Oe=c.TypeError,ue=b("".slice),ve=b("".charCodeAt),te=function(re){var de=Y(re,"number");return typeof de=="bigint"?de:z(de)},z=function(re){var de=Y(re,"number"),Ce,Re,He,Ve,it,yt,ht,Be;if(F(de))throw Oe("Cannot convert a Symbol value to a number");if(typeof de=="string"&&de.length>2){if(de=Me(de),Ce=ve(de,0),Ce===43||Ce===45){if(Re=ve(de,2),Re===88||Re===120)return NaN}else if(Ce===48){switch(ve(de,1)){case 66:case 98:He=2,Ve=49;break;case 79:case 111:He=8,Ve=55;break;default:return+de}for(it=ue(de,2),yt=it.length,ht=0;ht<yt;ht++)if(Be=ve(it,ht),Be<48||Be>Ve)return NaN;return parseInt(it,He)}}return+de};if(M(ye,!me(" 0o1")||!me("0b1")||me("+0x1"))){for(var Q=function(de){var Ce=arguments.length<1?0:me(te(de)),Re=this;return L(le,Re)&&U(function(){q(Re)})?j(Object(Ce),Re,Q):Ce},oe=v?W(me):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),se=0,ce;oe.length>se;se++)C(me,ce=oe[se])&&!C(Q,ce)&&ae(Q,ce,ee(me,ce));Q.prototype=le,le.constructor=Q,w(c,ye,Q)}},function(x,A,u){var v=u(16);v({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(x,A,u){var v=u(7),c=u(15),b=u(18),M=u(50),w=v.Object,C=c("".split);x.exports=b(function(){return!w("z").propertyIsEnumerable(0)})?function(j){return M(j)=="String"?C(j,""):w(j)}:w},function(x,A){var u;u=function(){return this}();try{u=u||new Function("return this")()}catch(v){typeof window=="object"&&(u=window)}x.exports=u},function(x,A,u){var v=u(27),c=u(54),b=u(37),M=v("unscopables"),w=Array.prototype;w[M]==null&&b.f(w,M,{configurable:!0,value:c(null)}),x.exports=function(C){w[M][C]=!0}},function(x,A,u){var v=u(64),c=u(107);(x.exports=function(b,M){return c[b]||(c[b]=M!==void 0?M:{})})("versions",[]).push({version:"3.19.3",mode:v?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(x,A,u){var v=u(15),c=0,b=Math.random(),M=v(1 .toString);x.exports=function(w){return"Symbol("+(w===void 0?"":w)+")_"+M(++c+b,36)}},function(x,A,u){var v=u(7),c=u(33),b=v.document,M=c(b)&&c(b.createElement);x.exports=function(w){return M?b.createElement(w):{}}},function(x,A,u){var v=u(130),c=u(88);x.exports=function(b){var M=v(b,"string");return c(M)?M:M+""}},function(x,A,u){var v=u(7),c=u(46),b=u(28),M=u(58),w=u(128),C=v.Object;x.exports=w?function(j){return typeof j=="symbol"}:function(j){var L=c("Symbol");return b(L)&&M(L.prototype,C(j))}},function(x,A,u){var v=u(7),c=v.String;x.exports=function(b){try{return c(b)}catch(M){return"Object"}}},function(x,A,u){var v=u(68),c=Math.min;x.exports=function(b){return b>0?c(v(b),9007199254740991):0}},function(x,A,u){var v=u(84),c=u(85),b=v("keys");x.exports=function(M){return b[M]||(b[M]=c(M))}},function(x,A,u){var v=u(15),c=u(28),b=u(107),M=v(Function.toString);c(b.inspectSource)||(b.inspectSource=function(w){return M(w)}),x.exports=b.inspectSource},function(x,A,u){"use strict";var v={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,b=c&&!v.call({1:2},1);A.f=b?function(w){var C=c(this,w);return!!C&&C.enumerable}:v},function(x,A,u){var v=u(36),c=u(34),b=Function.prototype,M=v&&Object.getOwnPropertyDescriptor,w=c(b,"name"),C=w&&function(){}.name==="something",j=w&&(!v||v&&M(b,"name").configurable);x.exports={EXISTS:w,PROPER:C,CONFIGURABLE:j}},function(x,A,u){var v=u(18),c=u(28),b=/#|\.prototype\./,M=function(F,Y){var U=C[w(F)];return U==L?!0:U==j?!1:c(Y)?v(Y):!!Y},w=M.normalize=function(F){return String(F).replace(b,".").toLowerCase()},C=M.data={},j=M.NATIVE="N",L=M.POLYFILL="P";x.exports=M},function(x,A,u){var v=u(7),c=u(34),b=u(28),M=u(38),w=u(91),C=u(137),j=w("IE_PROTO"),L=v.Object,F=L.prototype;x.exports=C?L.getPrototypeOf:function(Y){var U=M(Y);if(c(U,j))return U[j];var W=U.constructor;return b(W)&&U instanceof W?W.prototype:U instanceof L?F:null}},function(x,A,u){var v=u(15),c=u(32),b=u(172);x.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var M=!1,w={},C;try{C=v(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),C(w,[]),M=w instanceof Array}catch(j){}return function(L,F){return c(L),b(F),M?C(L,F):L.__proto__=F,L}}():void 0)},function(x,A,u){var v=u(7),c=u(116),b=u(28),M=u(50),w=u(27),C=w("toStringTag"),j=v.Object,L=M(function(){return arguments}())=="Arguments",F=function(Y,U){try{return Y[U]}catch(W){}};x.exports=c?M:function(Y){var U,W,ee;return Y===void 0?"Undefined":Y===null?"Null":typeof(W=F(U=j(Y),C))=="string"?W:L?M(U):(ee=M(U))=="Object"&&b(U.callee)?"Arguments":ee}},function(x,A,u){var v=u(50);x.exports=Array.isArray||function(b){return v(b)=="Array"}},function(x,A,u){var v=u(15),c=u(18),b=u(28),M=u(98),w=u(46),C=u(92),j=function(){},L=[],F=w("Reflect","construct"),Y=/^\s*(?:class|function)\b/,U=v(Y.exec),W=!Y.exec(j),ee=function(q){if(!b(q))return!1;try{return F(j,L,q),!0}catch(Me){return!1}},ae=function(q){if(!b(q))return!1;switch(M(q)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return W||!!U(Y,C(q))};x.exports=!F||c(function(){var q;return ee(ee.call)||!ee(Object)||!ee(function(){q=!0})||q})?ae:ee},function(x,A,u){var v=u(15);x.exports=v([].slice)},function(x,A,u){"use strict";var v=u(35),c=u(15),b=u(40),M=u(184),w=u(151),C=u(84),j=u(54),L=u(56).get,F=u(185),Y=u(186),U=C("native-string-replace",String.prototype.replace),W=RegExp.prototype.exec,ee=W,ae=c("".charAt),q=c("".indexOf),Me=c("".replace),ye=c("".slice),me=function(){var ve=/a/,te=/b*/g;return v(W,ve,"a"),v(W,te,"a"),ve.lastIndex!==0||te.lastIndex!==0}(),le=w.BROKEN_CARET,Oe=/()??/.exec("")[1]!==void 0,ue=me||Oe||le||F||Y;ue&&(ee=function(te){var z=this,Q=L(z),oe=b(te),se=Q.raw,ce,re,de,Ce,Re,He,Ve;if(se)return se.lastIndex=z.lastIndex,ce=v(ee,se,oe),z.lastIndex=se.lastIndex,ce;var it=Q.groups,yt=le&&z.sticky,ht=v(M,z),Be=z.source,et=0,tt=oe;if(yt&&(ht=Me(ht,"y",""),q(ht,"g")===-1&&(ht+="g"),tt=ye(oe,z.lastIndex),z.lastIndex>0&&(!z.multiline||z.multiline&&ae(oe,z.lastIndex-1)!==`
`)&&(Be="(?: "+Be+")",tt=" "+tt,et++),re=new RegExp("^(?:"+Be+")",ht)),Oe&&(re=new RegExp("^"+Be+"$(?!\\s)",ht)),me&&(de=z.lastIndex),Ce=v(W,yt?re:z,tt),yt?Ce?(Ce.input=ye(Ce.input,et),Ce[0]=ye(Ce[0],et),Ce.index=z.lastIndex,z.lastIndex+=Ce[0].length):z.lastIndex=0:me&&Ce&&(z.lastIndex=z.global?Ce.index+Ce[0].length:de),Oe&&Ce&&Ce.length>1&&v(U,Ce[0],re,function(){for(Re=1;Re<arguments.length-2;Re++)arguments[Re]===void 0&&(Ce[Re]=void 0)}),Ce&&it)for(Ce.groups=He=j(null),Re=0;Re<it.length;Re++)Ve=it[Re],He[Ve[0]]=Ce[Ve[1]];return Ce}),x.exports=ee},function(x,A,u){"use strict";var v=u(16),c=u(7),b=u(67),M=u(68),w=u(43),C=u(38),j=u(119),L=u(61),F=u(75),Y=F("splice"),U=c.TypeError,W=Math.max,ee=Math.min,ae=9007199254740991,q="Maximum allowed length exceeded";v({target:"Array",proto:!0,forced:!Y},{splice:function(ye,me){var le=C(this),Oe=w(le),ue=b(ye,Oe),ve=arguments.length,te,z,Q,oe,se,ce;if(ve===0?te=z=0:ve===1?(te=0,z=Oe-ue):(te=ve-2,z=ee(W(M(me),0),Oe-ue)),Oe+te-z>ae)throw U(q);for(Q=j(le,z),oe=0;oe<z;oe++)se=ue+oe,se in le&&L(Q,oe,le[se]);if(Q.length=z,te<z){for(oe=ue;oe<Oe-z;oe++)se=oe+z,ce=oe+te,se in le?le[ce]=le[se]:delete le[ce];for(oe=Oe;oe>Oe-z+te;oe--)delete le[oe-1]}else if(te>z)for(oe=Oe-z;oe>ue;oe--)se=oe+z-1,ce=oe+te-1,se in le?le[ce]=le[se]:delete le[ce];for(oe=0;oe<te;oe++)le[oe+ue]=arguments[oe+2];return le.length=Oe-z+te,Q}})},function(x,A,u){"use strict";var v=u(16),c=u(201),b=u(202);v({target:"String",proto:!0,forced:b("anchor")},{anchor:function(w){return c(this,"a","name",w)}})},function(x,A,u){"use strict";(function(v){var c=typeof v=="object"&&v&&v.Object===Object&&v;A.a=c}).call(this,u(82))},function(x,A,u){"use strict";(function(v){var c=u(31),b=rr&&!rr.nodeType&&rr,M=b&&typeof v=="object"&&v&&!v.nodeType&&v,w=M&&M.exports===b,C=w?c.a.Buffer:void 0,j=C?C.allocUnsafe:void 0;function L(F,Y){if(Y)return F.slice();var U=F.length,W=j?j(U):new F.constructor(U);return F.copy(W),W}A.a=L}).call(this,u(121)(x))},function(x,A,u){var v=u(7),c=u(108),b="__core-js_shared__",M=v[b]||c(b,{});x.exports=M},function(x,A,u){var v=u(7),c=Object.defineProperty;x.exports=function(b,M){try{c(v,b,{value:M,configurable:!0,writable:!0})}catch(w){v[b]=M}return M}},function(x,A,u){var v=u(65),c=u(18);x.exports=!!Object.getOwnPropertySymbols&&!c(function(){var b=Symbol();return!String(b)||!(Object(b)instanceof Symbol)||!Symbol.sham&&v&&v<41})},function(x,A){x.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(x,A,u){"use strict";var v=u(16),c=u(35),b=u(64),M=u(94),w=u(28),C=u(171),j=u(96),L=u(97),F=u(73),Y=u(57),U=u(44),W=u(27),ee=u(70),ae=u(136),q=M.PROPER,Me=M.CONFIGURABLE,ye=ae.IteratorPrototype,me=ae.BUGGY_SAFARI_ITERATORS,le=W("iterator"),Oe="keys",ue="values",ve="entries",te=function(){return this};x.exports=function(z,Q,oe,se,ce,re,de){C(oe,Q,se);var Ce=function(Ue){if(Ue===ce&&yt)return yt;if(!me&&Ue in Ve)return Ve[Ue];switch(Ue){case Oe:return function(){return new oe(this,Ue)};case ue:return function(){return new oe(this,Ue)};case ve:return function(){return new oe(this,Ue)}}return function(){return new oe(this)}},Re=Q+" Iterator",He=!1,Ve=z.prototype,it=Ve[le]||Ve["@@iterator"]||ce&&Ve[ce],yt=!me&&it||Ce(ce),ht=Q=="Array"&&Ve.entries||it,Be,et,tt;if(ht&&(Be=j(ht.call(new z)),Be!==Object.prototype&&Be.next&&(!b&&j(Be)!==ye&&(L?L(Be,ye):w(Be[le])||U(Be,le,te)),F(Be,Re,!0,!0),b&&(ee[Re]=te))),q&&ce==ue&&it&&it.name!==ue&&(!b&&Me?Y(Ve,"name",ue):(He=!0,yt=function(){return c(it,this)})),ce)if(et={values:Ce(ue),keys:re?yt:Ce(Oe),entries:Ce(ve)},de)for(tt in et)(me||He||!(tt in Ve))&&U(Ve,tt,et[tt]);else v({target:Q,proto:!0,forced:me||He},et);return(!b||de)&&Ve[le]!==yt&&U(Ve,le,yt,{name:ce}),ee[Q]=yt,et}},function(x,A){A.f=Object.getOwnPropertySymbols},function(x,A,u){var v=u(7),c=u(67),b=u(43),M=u(61),w=v.Array,C=Math.max;x.exports=function(j,L,F){for(var Y=b(j),U=c(L,Y),W=c(F===void 0?Y:F,Y),ee=w(C(W-U,0)),ae=0;U<W;U++,ae++)M(ee,ae,j[U]);return ee.length=ae,ee}},function(x,A,u){var v=u(7),c=u(62),b=u(35),M=u(32),w=u(89),C=u(140),j=u(43),L=u(58),F=u(141),Y=u(115),U=u(142),W=v.TypeError,ee=function(q,Me){this.stopped=q,this.result=Me},ae=ee.prototype;x.exports=function(q,Me,ye){var me=ye&&ye.that,le=!!(ye&&ye.AS_ENTRIES),Oe=!!(ye&&ye.IS_ITERATOR),ue=!!(ye&&ye.INTERRUPTED),ve=c(Me,me),te,z,Q,oe,se,ce,re,de=function(Re){return te&&U(te,"normal",Re),new ee(!0,Re)},Ce=function(Re){return le?(M(Re),ue?ve(Re[0],Re[1],de):ve(Re[0],Re[1])):ue?ve(Re,de):ve(Re)};if(Oe)te=q;else{if(z=Y(q),!z)throw W(w(q)+" is not iterable");if(C(z)){for(Q=0,oe=j(q);oe>Q;Q++)if(se=Ce(q[Q]),se&&L(ae,se))return se;return new ee(!1)}te=F(q,z)}for(ce=te.next;!(re=b(ce,te)).done;){try{se=Ce(re.value)}catch(Re){U(te,"throw",Re)}if(typeof se=="object"&&se&&L(ae,se))return se}return new ee(!1)}},function(x,A,u){var v=u(98),c=u(59),b=u(70),M=u(27),w=M("iterator");x.exports=function(C){if(C!=null)return c(C,w)||c(C,"@@iterator")||b[v(C)]}},function(x,A,u){var v=u(27),c=v("toStringTag"),b={};b[c]="z",x.exports=String(b)==="[object z]"},function(x,A,u){var v=u(7),c=u(58),b=v.TypeError;x.exports=function(M,w){if(c(w,M))return M;throw b("Incorrect invocation")}},function(x,A,u){var v=u(27),c=v("iterator"),b=!1;try{var M=0,w={next:function(){return{done:!!M++}},return:function(){b=!0}};w[c]=function(){return this},Array.from(w,function(){throw 2})}catch(C){}x.exports=function(C,j){if(!j&&!b)return!1;var L=!1;try{var F={};F[c]=function(){return{next:function(){return{done:L=!0}}}},C(F)}catch(Y){}return L}},function(x,A,u){var v=u(180);x.exports=function(c,b){return new(v(c))(b===0?0:b)}},function(x,A,u){"use strict";var v=u(18);x.exports=function(c,b){var M=[][c];return!!M&&v(function(){M.call(null,b||function(){throw 1},1)})}},function(x,A){x.exports=function(u){if(!u.webpackPolyfill){var v=Object.create(u);v.children||(v.children=[]),Object.defineProperty(v,"loaded",{enumerable:!0,get:function(){return v.l}}),Object.defineProperty(v,"id",{enumerable:!0,get:function(){return v.i}}),Object.defineProperty(v,"exports",{enumerable:!0}),v.webpackPolyfill=1}return v}},function(x,A,u){"use strict";u(19);var v=u(15),c=u(44),b=u(102),M=u(18),w=u(27),C=u(57),j=w("species"),L=RegExp.prototype;x.exports=function(F,Y,U,W){var ee=w(F),ae=!M(function(){var me={};return me[ee]=function(){return 7},""[F](me)!=7}),q=ae&&!M(function(){var me=!1,le=/a/;return F==="split"&&(le={},le.constructor={},le.constructor[j]=function(){return le},le.flags="",le[ee]=/./[ee]),le.exec=function(){return me=!0,null},le[ee](""),!me});if(!ae||!q||U){var Me=v(/./[ee]),ye=Y(ee,""[F],function(me,le,Oe,ue,ve){var te=v(me),z=le.exec;return z===b||z===L.exec?ae&&!ve?{done:!0,value:Me(le,Oe,ue)}:{done:!0,value:te(Oe,le,ue)}:{done:!1}});c(String.prototype,F,ye[0]),c(L,ee,ye[1])}W&&C(L[ee],"sham",!0)}},function(x,A,u){"use strict";var v=u(146).charAt;x.exports=function(c,b,M){return b+(M?v(c,b).length:1)}},function(x,A,u){var v=u(7),c=u(35),b=u(32),M=u(28),w=u(50),C=u(102),j=v.TypeError;x.exports=function(L,F){var Y=L.exec;if(M(Y)){var U=c(Y,L,F);return U!==null&&b(U),U}if(w(L)==="RegExp")return c(C,L,F);throw j("RegExp#exec called on incompatible receiver")}},function(x,A,u){"use strict";var v=u(76),c=u(35),b=u(15),M=u(122),w=u(18),C=u(32),j=u(28),L=u(68),F=u(90),Y=u(40),U=u(45),W=u(123),ee=u(59),ae=u(197),q=u(124),Me=u(27),ye=Me("replace"),me=Math.max,le=Math.min,Oe=b([].concat),ue=b([].push),ve=b("".indexOf),te=b("".slice),z=function(ce){return ce===void 0?ce:String(ce)},Q=function(){return"a".replace(/./,"$0")==="$0"}(),oe=function(){return/./[ye]?/./[ye]("a","$0")==="":!1}(),se=!w(function(){var ce=/./;return ce.exec=function(){var re=[];return re.groups={a:"7"},re},"".replace(ce,"$<a>")!=="7"});M("replace",function(ce,re,de){var Ce=oe?"$":"$0";return[function(He,Ve){var it=U(this),yt=He==null?void 0:ee(He,ye);return yt?c(yt,He,it,Ve):c(re,Y(it),He,Ve)},function(Re,He){var Ve=C(this),it=Y(Re);if(typeof He=="string"&&ve(He,Ce)===-1&&ve(He,"$<")===-1){var yt=de(re,Ve,it,He);if(yt.done)return yt.value}var ht=j(He);ht||(He=Y(He));var Be=Ve.global;if(Be){var et=Ve.unicode;Ve.lastIndex=0}for(var tt=[];;){var Ue=q(Ve,it);if(Ue===null||(ue(tt,Ue),!Be))break;var V=Y(Ue[0]);V===""&&(Ve.lastIndex=W(it,F(Ve.lastIndex),et))}for(var Z="",ne=0,we=0;we<tt.length;we++){Ue=tt[we];for(var Ge=Y(Ue[0]),Pe=me(le(L(Ue.index),it.length),0),pt=[],st=1;st<Ue.length;st++)ue(pt,z(Ue[st]));var ft=Ue.groups;if(ht){var mt=Oe([Ge],pt,Pe,it);ft!==void 0&&ue(mt,ft);var De=Y(v(He,void 0,mt))}else De=ae(Ge,it,Pe,pt,ft,He);Pe>=ne&&(Z+=te(it,ne,Pe)+De,ne=Pe+Ge.length)}return Z+te(it,ne)}]},!se||!Q||oe)},function(x,A,u){var v=u(50),c=u(7);x.exports=v(c.process)=="process"},function(x,A,u){var v=u(16);v({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(x,A,u){var v=u(109);x.exports=v&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(x,A,u){var v=u(36),c=u(18),b=u(86);x.exports=!v&&!c(function(){return Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a!=7})},function(x,A,u){var v=u(7),c=u(35),b=u(33),M=u(88),w=u(59),C=u(169),j=u(27),L=v.TypeError,F=j("toPrimitive");x.exports=function(Y,U){if(!b(Y)||M(Y))return Y;var W=w(Y,F),ee;if(W){if(U===void 0&&(U="default"),ee=c(W,Y,U),!b(ee)||M(ee))return ee;throw L("Can't convert object to primitive value")}return U===void 0&&(U="number"),C(Y,U)}},function(x,A,u){var v=u(15),c=u(34),b=u(39),M=u(132).indexOf,w=u(69),C=v([].push);x.exports=function(j,L){var F=b(j),Y=0,U=[],W;for(W in F)!c(w,W)&&c(F,W)&&C(U,W);for(;L.length>Y;)c(F,W=L[Y++])&&(~M(U,W)||C(U,W));return U}},function(x,A,u){var v=u(39),c=u(67),b=u(43),M=function(w){return function(C,j,L){var F=v(C),Y=b(F),U=c(L,Y),W;if(w&&j!=j){for(;Y>U;)if(W=F[U++],W!=W)return!0}else for(;Y>U;U++)if((w||U in F)&&F[U]===j)return w||U||0;return!w&&-1}};x.exports={includes:M(!0),indexOf:M(!1)}},function(x,A,u){var v=u(46);x.exports=v("document","documentElement")},function(x,A,u){var v=u(34),c=u(135),b=u(51),M=u(37);x.exports=function(w,C){for(var j=c(C),L=M.f,F=b.f,Y=0;Y<j.length;Y++){var U=j[Y];v(w,U)||L(w,U,F(C,U))}}},function(x,A,u){var v=u(46),c=u(15),b=u(72),M=u(112),w=u(32),C=c([].concat);x.exports=v("Reflect","ownKeys")||function(L){var F=b.f(w(L)),Y=M.f;return Y?C(F,Y(L)):F}},function(x,A,u){"use strict";var v=u(18),c=u(28),b=u(54),M=u(96),w=u(44),C=u(27),j=u(64),L=C("iterator"),F=!1,Y,U,W;[].keys&&(W=[].keys(),"next"in W?(U=M(M(W)),U!==Object.prototype&&(Y=U)):F=!0);var ee=Y==null||v(function(){var ae={};return Y[L].call(ae)!==ae});ee?Y={}:j&&(Y=b(Y)),c(Y[L])||w(Y,L,function(){return this}),x.exports={IteratorPrototype:Y,BUGGY_SAFARI_ITERATORS:F}},function(x,A,u){var v=u(18);x.exports=!v(function(){function c(){}return c.prototype.constructor=null,Object.getPrototypeOf(new c)!==c.prototype})},function(x,A,u){var v=u(16),c=u(15),b=u(69),M=u(33),w=u(34),C=u(37).f,j=u(72),L=u(139),F=u(174),Y=u(85),U=u(176),W=!1,ee=Y("meta"),ae=0,q=function(ue){C(ue,ee,{value:{objectID:"O"+ae++,weakData:{}}})},Me=function(ue,ve){if(!M(ue))return typeof ue=="symbol"?ue:(typeof ue=="string"?"S":"P")+ue;if(!w(ue,ee)){if(!F(ue))return"F";if(!ve)return"E";q(ue)}return ue[ee].objectID},ye=function(ue,ve){if(!w(ue,ee)){if(!F(ue))return!0;if(!ve)return!1;q(ue)}return ue[ee].weakData},me=function(ue){return U&&W&&F(ue)&&!w(ue,ee)&&q(ue),ue},le=function(){Oe.enable=function(){},W=!0;var ue=j.f,ve=c([].splice),te={};te[ee]=1,ue(te).length&&(j.f=function(z){for(var Q=ue(z),oe=0,se=Q.length;oe<se;oe++)if(Q[oe]===ee){ve(Q,oe,1);break}return Q},v({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:L.f}))},Oe=x.exports={enable:le,fastKey:Me,getWeakData:ye,onFreeze:me};b[ee]=!0},function(x,A,u){var v=u(50),c=u(39),b=u(72).f,M=u(113),w=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],C=function(j){try{return b(j)}catch(L){return M(w)}};x.exports.f=function(L){return w&&v(L)=="Window"?C(L):b(c(L))}},function(x,A,u){var v=u(27),c=u(70),b=v("iterator"),M=Array.prototype;x.exports=function(w){return w!==void 0&&(c.Array===w||M[b]===w)}},function(x,A,u){var v=u(7),c=u(35),b=u(55),M=u(32),w=u(89),C=u(115),j=v.TypeError;x.exports=function(L,F){var Y=arguments.length<2?C(L):F;if(b(Y))return M(c(Y,L));throw j(w(L)+" is not iterable")}},function(x,A,u){var v=u(35),c=u(32),b=u(59);x.exports=function(M,w,C){var j,L;c(M);try{if(j=b(M,"return"),!j){if(w==="throw")throw C;return C}j=v(j,M)}catch(F){L=!0,j=F}if(w==="throw")throw C;if(L)throw j;return c(j),C}},function(x,A,u){var v=u(28),c=u(33),b=u(97);x.exports=function(M,w,C){var j,L;return b&&v(j=w.constructor)&&j!==C&&c(L=j.prototype)&&L!==C.prototype&&b(M,L),M}},function(x,A,u){var v=u(44);x.exports=function(c,b,M){for(var w in b)v(c,w,b[w],M);return c}},function(x,A,u){"use strict";var v=u(46),c=u(37),b=u(27),M=u(36),w=b("species");x.exports=function(C){var j=v(C),L=c.f;M&&j&&!j[w]&&L(j,w,{configurable:!0,get:function(){return this}})}},function(x,A,u){var v=u(15),c=u(68),b=u(40),M=u(45),w=v("".charAt),C=v("".charCodeAt),j=v("".slice),L=function(F){return function(Y,U){var W=b(M(Y)),ee=c(U),ae=W.length,q,Me;return ee<0||ee>=ae?F?"":void 0:(q=C(W,ee),q<55296||q>56319||ee+1===ae||(Me=C(W,ee+1))<56320||Me>57343?F?w(W,ee):q:F?j(W,ee,ee+2):(q-55296<<10)+(Me-56320)+65536)}};x.exports={codeAt:L(!1),charAt:L(!0)}},function(x,A){x.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(x,A,u){var v=u(86),c=v("span").classList,b=c&&c.constructor&&c.constructor.prototype;x.exports=b===Object.prototype?void 0:b},function(x,A,u){var v=u(27);A.f=v},function(x,A,u){var v=u(181),c=u(34),b=u(149),M=u(37).f;x.exports=function(w){var C=v.Symbol||(v.Symbol={});c(C,w)||M(C,w,{value:b.f(w)})}},function(x,A,u){var v=u(18),c=u(7),b=c.RegExp,M=v(function(){var j=b("a","y");return j.lastIndex=2,j.exec("abcd")!=null}),w=M||v(function(){return!b("a","y").sticky}),C=M||v(function(){var j=b("^r","gy");return j.lastIndex=2,j.exec("str")!=null});x.exports={BROKEN_CARET:C,MISSED_STICKY:w,UNSUPPORTED_Y:M}},function(x,A,u){"use strict";var v=u(16),c=u(132).includes,b=u(83);v({target:"Array",proto:!0},{includes:function(w){return c(this,w,arguments.length>1?arguments[1]:void 0)}}),b("includes")},function(x,A,u){"use strict";var v=u(16),c=u(15),b=u(193),M=u(45),w=u(40),C=u(194),j=c("".indexOf);v({target:"String",proto:!0,forced:!C("includes")},{includes:function(F){return!!~j(w(M(this)),w(b(F)),arguments.length>1?arguments[1]:void 0)}})},function(x,A,u){var v=u(33),c=u(50),b=u(27),M=b("match");x.exports=function(w){var C;return v(w)&&((C=w[M])!==void 0?!!C:c(w)=="RegExp")}},function(x,A){var u=x.exports={},v,c;function b(){throw new Error("setTimeout has not been defined")}function M(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?v=setTimeout:v=b}catch(q){v=b}try{typeof clearTimeout=="function"?c=clearTimeout:c=M}catch(q){c=M}})();function w(q){if(v===setTimeout)return setTimeout(q,0);if((v===b||!v)&&setTimeout)return v=setTimeout,setTimeout(q,0);try{return v(q,0)}catch(Me){try{return v.call(null,q,0)}catch(ye){return v.call(this,q,0)}}}function C(q){if(c===clearTimeout)return clearTimeout(q);if((c===M||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(q);try{return c(q)}catch(Me){try{return c.call(null,q)}catch(ye){return c.call(this,q)}}}var j=[],L=!1,F,Y=-1;function U(){!L||!F||(L=!1,F.length?j=F.concat(j):Y=-1,j.length&&W())}function W(){if(!L){var q=w(U);L=!0;for(var Me=j.length;Me;){for(F=j,j=[];++Y<Me;)F&&F[Y].run();Y=-1,Me=j.length}F=null,L=!1,C(q)}}u.nextTick=function(q){var Me=new Array(arguments.length-1);if(arguments.length>1)for(var ye=1;ye<arguments.length;ye++)Me[ye-1]=arguments[ye];j.push(new ee(q,Me)),j.length===1&&!L&&w(W)};function ee(q,Me){this.fun=q,this.array=Me}ee.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={};function ae(){}u.on=ae,u.addListener=ae,u.once=ae,u.off=ae,u.removeListener=ae,u.removeAllListeners=ae,u.emit=ae,u.prependListener=ae,u.prependOnceListener=ae,u.listeners=function(q){return[]},u.binding=function(q){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(q){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(x,A,u){var v=u(32),c=u(157),b=u(27),M=b("species");x.exports=function(w,C){var j=v(w).constructor,L;return j===void 0||(L=v(j)[M])==null?C:c(L)}},function(x,A,u){var v=u(7),c=u(100),b=u(89),M=v.TypeError;x.exports=function(w){if(c(w))return w;throw M(b(w)+" is not a constructor")}},function(x,A,u){"use strict";var v=u(16),c=u(159).trim,b=u(195);v({target:"String",proto:!0,forced:b("trim")},{trim:function(){return c(this)}})},function(x,A,u){var v=u(15),c=u(45),b=u(40),M=u(160),w=v("".replace),C="["+M+"]",j=RegExp("^"+C+C+"*"),L=RegExp(C+C+"*$"),F=function(Y){return function(U){var W=b(c(U));return Y&1&&(W=w(W,j,"")),Y&2&&(W=w(W,L,"")),W}};x.exports={start:F(1),end:F(2),trim:F(3)}},function(x,A){x.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(x,A,u){"use strict";var v=u(35),c=u(122),b=u(32),M=u(90),w=u(40),C=u(45),j=u(59),L=u(123),F=u(124);c("match",function(Y,U,W){return[function(ae){var q=C(this),Me=ae==null?void 0:j(ae,Y);return Me?v(Me,ae,q):new RegExp(ae)[Y](w(q))},function(ee){var ae=b(this),q=w(ee),Me=W(U,ae,q);if(Me.done)return Me.value;if(!ae.global)return F(ae,q);var ye=ae.unicode;ae.lastIndex=0;for(var me=[],le=0,Oe;(Oe=F(ae,q))!==null;){var ue=w(Oe[0]);me[le]=ue,ue===""&&(ae.lastIndex=L(q,M(ae.lastIndex),ye)),le++}return le===0?null:me}]})},function(x,A,u){var v=u(7),c=u(76),b=u(62),M=u(28),w=u(34),C=u(18),j=u(133),L=u(101),F=u(86),Y=u(163),U=u(126),W=v.setImmediate,ee=v.clearImmediate,ae=v.process,q=v.Dispatch,Me=v.Function,ye=v.MessageChannel,me=v.String,le=0,Oe={},ue="onreadystatechange",ve,te,z,Q;try{ve=v.location}catch(de){}var oe=function(de){if(w(Oe,de)){var Ce=Oe[de];delete Oe[de],Ce()}},se=function(de){return function(){oe(de)}},ce=function(de){oe(de.data)},re=function(de){v.postMessage(me(de),ve.protocol+"//"+ve.host)};(!W||!ee)&&(W=function(Ce){var Re=L(arguments,1);return Oe[++le]=function(){c(M(Ce)?Ce:Me(Ce),void 0,Re)},te(le),le},ee=function(Ce){delete Oe[Ce]},U?te=function(de){ae.nextTick(se(de))}:q&&q.now?te=function(de){q.now(se(de))}:ye&&!Y?(z=new ye,Q=z.port2,z.port1.onmessage=ce,te=b(Q.postMessage,Q)):v.addEventListener&&M(v.postMessage)&&!v.importScripts&&ve&&ve.protocol!=="file:"&&!C(re)?(te=re,v.addEventListener("message",ce,!1)):ue in F("script")?te=function(de){j.appendChild(F("script"))[ue]=function(){j.removeChild(this),oe(de)}}:te=function(de){setTimeout(se(de),0)}),x.exports={set:W,clear:ee}},function(x,A,u){var v=u(53);x.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(v)},function(x,A,u){"use strict";var v=u(55),c=function(b){var M,w;this.promise=new b(function(C,j){if(M!==void 0||w!==void 0)throw TypeError("Bad Promise constructor");M=C,w=j}),this.resolve=v(M),this.reject=v(w)};x.exports.f=function(b){return new c(b)}},function(x,A,u){"use strict";function v(){return!1}A.a=v},function(x,A,u){"use strict";(function(v){u.d(A,"a",function(){return De});var c=u(0),b=function(){},M=function(k){return k};function w(k){throw new Error("[mobx-utils] "+k)}function C(k,G){G===void 0&&(G="Illegal state"),k||w(G)}var j=[];function L(k){j.indexOf(k)===-1&&(j.push(k),console.error("[mobx-utils] Deprecated: "+k))}function F(k,G,g){Object.defineProperty(k,G,{enumerable:!1,writable:!0,configurable:!0,value:g})}var Y=function(k){return k&&k!==Object.prototype&&Object.getOwnPropertyNames(k).concat(Y(Object.getPrototypeOf(k))||[])},U=function(k){var G=Y(k),g=G.filter(function(P,R){return G.indexOf(P)===R});return g},W=function(k){return U(k).filter(function(G){return G!=="constructor"&&!~G.indexOf("__")})},ee="pending",ae="fulfilled",q="rejected";function Me(k){switch(this.state){case ee:return k.pending&&k.pending(this.value);case q:return k.rejected&&k.rejected(this.value);case ae:return k.fulfilled?k.fulfilled(this.value):this.value}}function ye(k,G){if(C(arguments.length<=2,"fromPromise expects up to two arguments"),C(typeof k=="function"||typeof k=="object"&&k&&typeof k.then=="function","Please pass a promise or function to fromPromise"),k.isPromiseBasedObservable===!0)return k;typeof k=="function"&&(k=new Promise(k));var g=k;k.then(Object(c.k)("observableFromPromise-resolve",function(R){g.value=R,g.state=ae}),Object(c.k)("observableFromPromise-reject",function(R){g.value=R,g.state=q})),g.isPromiseBasedObservable=!0,g.case=Me;var P=G&&G.state===ae?G.value:void 0;return Object(c.q)(g,{value:P,state:ee},{},{deep:!1}),g}(function(k){k.reject=Object(c.k)("fromPromise.reject",function(g){var P=k(Promise.reject(g));return P.state=q,P.value=g,P});function G(g){g===void 0&&(g=void 0);var P=k(Promise.resolve(g));return P.state=ae,P.value=g,P}k.resolve=Object(c.k)("fromPromise.resolve",G)})(ye||(ye={}));function me(k){return k&&k.isPromiseBasedObservable===!0}var le=function(){for(var k=0,G=0,g=arguments.length;G<g;G++)k+=arguments[G].length;for(var P=Array(k),R=0,G=0;G<g;G++)for(var X=arguments[G],je=0,Ae=X.length;je<Ae;je++,R++)P[R]=X[je];return P};function Oe(k,G,g){if(ue(k,G),ue(k,g),G!==g){var P=k[c.a].values,R;return G<g?R=le(P.slice(0,G),P.slice(G+1,g+1),[P[G]],P.slice(g+1)):R=le(P.slice(0,g),[P[G]],P.slice(g,G),P.slice(G+1)),k.replace(R),k}}function ue(k,G){if(G<0)throw new Error("[mobx.array] Index out of bounds: "+G+" is negative");var g=k[c.a].values.length;if(G>=g)throw new Error("[mobx.array] Index out of bounds: "+G+" is not smaller than "+g)}function ve(k,G){G===void 0&&(G=void 0);var g=!1,P=c.C.box(G,{deep:!1}),R=c.C.box(!1),X=function(){return g||(g=!0,Object(c.d)(!0,function(){R.set(!0)}),k(function(Ae){Object(c.d)(!0,function(){P.set(Ae),R.set(!1)})})),P.get()},je=Object(c.k)("lazyObservable-reset",function(){return g=!1,P.set(G),P.get()});return{current:X,refresh:function(){return g?(g=!1,X()):P.get()},reset:function(){return je()},get pending(){return R.get()}}}function te(k,G,g){G===void 0&&(G=b),g===void 0&&(g=void 0);var P=!1,R=!1,X=g,je=function(){P&&(P=!1,G())},Ae=Object(c.o)("ResourceBasedObservable",function(){C(!P&&!R),P=!0,k(function(Ke){Object(c.d)(!0,function(){X=Ke,Ae.reportChanged()})})},je);return{current:function(){C(!R,"subscribingObservable has already been disposed");var Ke=Ae.reportObserved();return!Ke&&!P&&console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started"),X},dispose:function(){R=!0,je()},isAlive:function(){return P}}}var z=function(k,G,g,P){var R=arguments.length,X=R<3?G:P===null?P=Object.getOwnPropertyDescriptor(G,g):P,je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(k,G,g,P);else for(var Ae=k.length-1;Ae>=0;Ae--)(je=k[Ae])&&(X=(R<3?je(X):R>3?je(G,g,X):je(G,g))||X);return R>3&&X&&Object.defineProperty(G,g,X),X};function Q(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}function oe(k,G){var g;G===void 0&&(G=!1);var P=Object(c.m)(k);return g={subscribe:function(R){return typeof R=="function"?{unsubscribe:P.observe(function(X){var je=X.newValue;return R(je)},G)}:R&&typeof R=="object"&&R.next?{unsubscribe:P.observe(function(X){var je=X.newValue;return R.next(je)},G)}:{unsubscribe:function(){}}}},g[Q()]=function(){return this},g}var se=function(){function k(G,g){var P=this;Object(c.G)(function(){P.current=g,P.subscription=G.subscribe(P)})}return k.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},k.prototype.next=function(G){this.current=G},k.prototype.complete=function(){this.dispose()},k.prototype.error=function(G){this.current=G,this.dispose()},z([c.C.ref],k.prototype,"current",void 0),z([c.k.bound],k.prototype,"next",null),z([c.k.bound],k.prototype,"complete",null),z([c.k.bound],k.prototype,"error",null),k}();function ce(k,G){return G===void 0&&(G=void 0),new se(k,G)}var re=function(){return re=Object.assign||function(k){for(var G,g=1,P=arguments.length;g<P;g++){G=arguments[g];for(var R in G)Object.prototype.hasOwnProperty.call(G,R)&&(k[R]=G[R])}return k},re.apply(this,arguments)},de=function(k,G,g,P){var R=arguments.length,X=R<3?G:P===null?P=Object.getOwnPropertyDescriptor(G,g):P,je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(k,G,g,P);else for(var Ae=k.length-1;Ae>=0;Ae--)(je=k[Ae])&&(X=(R<3?je(X):R>3?je(G,g,X):je(G,g))||X);return R>3&&X&&Object.defineProperty(G,g,X),X},Ce=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"],Re=function(){function k(G){var g=this;this.model=G,this.localValues=c.C.map({}),this.localComputedValues=c.C.map({}),this.isPropertyDirty=function(P){return g.localValues.has(P)},C(Object(c.A)(G),"createViewModel expects an observable object"),W(G).forEach(function(P){if(!(P===c.a||P==="__mobxDidRunLazyInitializers")){if(C(Ce.indexOf(P)===-1,"The propertyname "+P+" is reserved and cannot be used with viewModels"),Object(c.w)(G,P)){var R=Object(c.h)(G,P).derivation;g.localComputedValues.set(P,Object(c.m)(R.bind(g)))}var X=Object.getOwnPropertyDescriptor(G,P),je=X?{enumerable:X.enumerable}:{};Object.defineProperty(g,P,re(re({},je),{configurable:!0,get:function(){return Object(c.w)(G,P)?g.localComputedValues.get(P).get():g.isPropertyDirty(P)?g.localValues.get(P):g.model[P]},set:Object(c.k)(function(Ae){Ae!==g.model[P]?g.localValues.set(P,Ae):g.localValues.delete(P)})}))}})}return Object.defineProperty(k.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),k.prototype.submit=function(){var G=this;Object(c.B)(this.localValues).forEach(function(g){var P=G.localValues.get(g),R=G.model[g];Object(c.y)(R)?R.replace(P):Object(c.z)(R)?(R.clear(),R.merge(P)):Object(c.v)(P)||(G.model[g]=P)}),this.localValues.clear()},k.prototype.reset=function(){this.localValues.clear()},k.prototype.resetProperty=function(G){this.localValues.delete(G)},de([c.m],k.prototype,"isDirty",null),de([c.m],k.prototype,"changedValues",null),de([c.k.bound],k.prototype,"submit",null),de([c.k.bound],k.prototype,"reset",null),de([c.k.bound],k.prototype,"resetProperty",null),k}();function He(k){return new Re(k)}function Ve(k,G,g,P){return g===void 0&&(g=1e4),P===void 0&&(P=function(){}),L("whenWithTimeout is deprecated, use mobx.when with timeout option instead"),Object(c.M)(k,G,{timeout:g,onError:P})}function it(k,G){var g=Object(c.s)(k,G);if(!g)throw new Error("No computed provided, please provide an object created with `computed(() => expr)` or an object + property name");return g.observe(function(){})}function yt(k,G,g){if(g===void 0&&(g=0),!Object(c.y)(k))throw new Error("Expected observable array as first argument");Object(c.u)(G)||(G=Object(c.k)("queueProcessor",G));var P=function(){var R=k.slice(0);Object(c.G)(function(){return k.splice(0)}),R.forEach(G)};return g>0?Object(c.l)(P,{delay:g}):Object(c.l)(P)}function ht(k,G,g,P){if(g===void 0&&(g=0),P===void 0&&(P=0),!Object(c.y)(k))throw new Error("Expected observable array as first argument");Object(c.u)(G)||(G=Object(c.k)("chunkProcessor",G));var R=function(){for(var X=function(){var je=P===0?k.length:Math.min(k.length,P),Ae=k.slice(0,je);Object(c.G)(function(){return k.splice(0,je)}),G(Ae)};k.length>0;)X()};return g>0?Object(c.l)(R,{delay:g}):Object(c.l)(R)}var Be={};function et(k){return k===void 0&&(k=1e3),Object(c.i)()?(Be[k]||(typeof k=="number"?Be[k]=tt(k):Be[k]=Ue()),Be[k].current()):Date.now()}function tt(k){var G;return te(function(g){g(Date.now()),G=setInterval(function(){return g(Date.now())},k)},function(){clearInterval(G)},Date.now())}function Ue(){var k=te(function(G){G(Date.now());function g(){window.requestAnimationFrame(function(){G(Date.now()),k.isAlive()&&g()})}g()},function(){},Date.now());return k}var V=function(){return V=Object.assign||function(k){for(var G,g=1,P=arguments.length;g<P;g++){G=arguments[g];for(var R in G)Object.prototype.hasOwnProperty.call(G,R)&&(k[R]=G[R])}return k},V.apply(this,arguments)};function Z(k,G){if(typeof arguments[1]=="string"){var g=arguments[1],P=arguments[2];return P&&P.value?Object.assign({},P,{value:Object(c.r)(P.value)}):Object.assign({},P,{set:function(je){Object.defineProperty(this,g,V(V({},P),{value:Object(c.r)(je)}))}})}var R=typeof k=="string"?G:k,X=typeof k=="string"?k:R.name||"<unnamed async action>";return L("asyncAction is deprecated. use mobx.flow instead"),Object(c.r)(R)}function ne(k,G){return G===void 0&&(G=0),L("whenAsync is deprecated, use mobx.when without effect instead"),Object(c.M)(k,{timeout:G})}function we(k){return Object(c.i)()||console.warn("'expr' should only be used inside other reactive functions."),Object(c.m)(k).get()}var Ge=function(){return Ge=Object.assign||function(k){for(var G,g=1,P=arguments.length;g<P;g++){G=arguments[g];for(var R in G)Object.prototype.hasOwnProperty.call(G,R)&&(k[R]=G[R])}return k},Ge.apply(this,arguments)},Pe=0;function pt(k,G){C(typeof k=="function"&&k.length<2,"createTransformer expects a function that accepts one argument");var g={},P=void 0,R=!1,X=void 0;typeof G=="object"?(P=G.onCleanup,R=G.keepAlive!==void 0?G.keepAlive:!1,X=G.debugNameGenerator):typeof G=="function"&&(P=G);function je(Ke,Xe){var nt,Nt={};typeof G=="object"?(P=G.onCleanup,X=G.debugNameGenerator,Nt=G):typeof G=="function"?P=G:(P=void 0,X=void 0);var bt=X?X(Xe):"Transformer-"+k.name+"-"+Ke,cr=Object(c.m)(function(){return nt=k(Xe)},Ge(Ge({},Nt),{name:bt}));if(!R)var ir=Object(c.E)(cr,function(){delete g[Ke],ir(),P&&P(nt,Xe)});return cr}var Ae=!1;return function(Ke){var Xe=st(Ke),nt=g[Xe];if(nt)return nt.get();if(!R&&!Object(c.i)()){Ae||(console.warn("invoking a transformer from outside a reactive context won't memorized and is cleaned up immediately, unless keepAlive is set"),Ae=!0);var Nt=k(Ke);return P&&P(Nt,Ke),Nt}return nt=g[Xe]=je(Xe,Ke),nt.get()}}function st(k){var G=typeof k;if(G==="string")return"string:"+k;if(G==="number")return"number:"+k;if(k===null||G!=="object"&&G!=="function")throw new Error("[mobx-utils] transform expected an object, function, string or number, got: "+String(k));var g=k.$transformId;return g===void 0&&(g="memoizationId:"+ ++Pe,F(k,"$transformId",g)),g}function ft(k){if(!k)return"ROOT";for(var G=[];k.parent;)G.push(k.path),k=k.parent;return G.reverse().join("/")}function mt(k){return Object(c.A)(k)||Object(c.y)(k)||Object(c.z)(k)}function De(k,G){var g=new WeakMap;function P(Ae){var Ke=g.get(Ae.object);R(Ae,Ke),G(Ae,ft(Ke),k)}function R(Ae,Ke){switch(Ae.type){case"add":X(Ae.newValue,Ke,Ae.name);break;case"update":je(Ae.oldValue),X(Ae.newValue,Ke,Ae.name||""+Ae.index);break;case"remove":case"delete":je(Ae.oldValue);break;case"splice":Ae.removed.map(je),Ae.added.forEach(function(Nt,bt){return X(Nt,Ke,""+(Ae.index+bt))});for(var Xe=Ae.index+Ae.addedCount;Xe<Ae.object.length;Xe++)if(mt(Ae.object[Xe])){var nt=g.get(Ae.object[Xe]);nt&&(nt.path=""+Xe)}break}}function X(Ae,Ke,Xe){if(mt(Ae)){var nt=g.get(Ae);if(nt){if(nt.parent!==Ke||nt.path!==Xe)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+ft(Ke)+"/"+Xe+"',")+(" but it already exists at '"+ft(nt.parent)+"/"+nt.path+"'"))}else{var Nt={parent:Ke,path:Xe,dispose:Object(c.D)(Ae,P)};g.set(Ae,Nt),Object(c.p)(Ae).forEach(function(bt){var cr=bt[0],ir=bt[1];return X(ir,Nt,cr)})}}}function je(Ae){if(mt(Ae)){var Ke=g.get(Ae);if(!Ke)return;g.delete(Ae),Ke.dispose(),Object(c.L)(Ae).forEach(je)}}return X(k,void 0,""),function(){je(k)}}var jt=function(){var k=function(G,g){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,R){P.__proto__=R}||function(P,R){for(var X in R)R.hasOwnProperty(X)&&(P[X]=R[X])},k(G,g)};return function(G,g){k(G,g);function P(){this.constructor=G}G.prototype=g===null?Object.create(g):(P.prototype=g.prototype,new P)}}(),at=function(k){jt(G,k);function G(g,P,R){var X=R===void 0?{}:R,je=X.name,Ae=je===void 0?"ogm"+(Math.random()*1e3|0):je,Ke=X.keyToName,Xe=Ke===void 0?function(bt){return""+bt}:Ke,nt=k.call(this)||this;nt._keyToName=Xe,nt._groupBy=P,nt._ogmInfoKey=Symbol("ogmInfo"+Ae),nt._base=g;for(var Nt=0;Nt<g.length;Nt++)nt._addItem(g[Nt]);return nt._disposeBaseObserver=Object(c.D)(nt._base,function(bt){if(bt.type==="splice")Object(c.J)(function(){for(var cr=0,ir=bt.removed;cr<ir.length;cr++){var Rr=ir[cr];nt._removeItem(Rr)}for(var Ur=0,sn=bt.added;Ur<sn.length;Ur++){var $r=sn[Ur];nt._addItem($r)}});else if(bt.type==="update")Object(c.J)(function(){nt._removeItem(bt.oldValue),nt._addItem(bt.newValue)});else throw new Error("illegal state")}),nt}return G.prototype.clear=function(){throw new Error("not supported")},G.prototype.delete=function(g){throw new Error("not supported")},G.prototype.set=function(g,P){throw new Error("not supported")},G.prototype.dispose=function(){this._disposeBaseObserver();for(var g=0;g<this._base.length;g++){var P=this._base[g],R=P[this._ogmInfoKey];R.reaction(),delete P[this._ogmInfoKey]}},G.prototype._getGroupArr=function(g){var P=k.prototype.get.call(this,g);return P===void 0&&(P=Object(c.C)([],{name:"GroupArray["+this._keyToName(g)+"]",deep:!1}),k.prototype.set.call(this,g,P)),P},G.prototype._removeFromGroupArr=function(g,P){var R=k.prototype.get.call(this,g);R.length===1?k.prototype.delete.call(this,g):(P===R.length-1||(R[P]=R[R.length-1],R[P][this._ogmInfoKey].groupArrIndex=P),R.length--)},G.prototype._addItem=function(g){var P=this,R=this._groupBy(g),X=this._getGroupArr(R),je={groupByValue:R,groupArrIndex:X.length,reaction:Object(c.F)(function(){return P._groupBy(g)},function(Ae,Ke){var Xe=g[P._ogmInfoKey];P._removeFromGroupArr(Xe.groupByValue,Xe.groupArrIndex);var nt=P._getGroupArr(Ae),Nt=nt.length;nt.push(g),Xe.groupByValue=Ae,Xe.groupArrIndex=Nt})};Object.defineProperty(g,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:je}),X.push(g)},G.prototype._removeItem=function(g){var P=g[this._ogmInfoKey];this._removeFromGroupArr(P.groupByValue,P.groupArrIndex),P.reaction(),delete g[this._ogmInfoKey]},G}(c.b),ut=function(){function k(G,g){this.base=G,this.args=g,this.closestIdx=0,this.isDisposed=!1;for(var P=this.closest=this.root=G,R=0;R<this.args.length-1&&(P=P.get(g[R]),P);R++)this.closest=P;this.closestIdx=R}return k.prototype.exists=function(){this.assertNotDisposed();var G=this.args.length;return this.closestIdx>=G-1&&this.closest.has(this.args[G-1])},k.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},k.prototype.set=function(G){this.assertNotDisposed();for(var g=this.args.length,P=this.closest,R=this.closestIdx;R<g-1;R++){var X=new Map;P.set(this.args[R],X),P=X}this.closestIdx=g-1,this.closest=P,P.set(this.args[g-1],G)},k.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var G=this.args.length;this.closest.delete(this.args[G-1]);for(var g=this.root,P=[g],R=0;R<G-1;R++)g=g.get(this.args[R]),P.push(g);for(var R=P.length-1;R>0;R--)P[R].size===0&&P[R-1].delete(this.args[R-1]);this.isDisposed=!0},k.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},k}(),vt=function(){function k(){this.store=new Map,this.argsLength=-1}return k.prototype.entry=function(G){if(this.argsLength===-1)this.argsLength=G.length;else if(this.argsLength!==G.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+G.length);return this.last&&(this.last.isDisposed=!0),this.last=new ut(this.store,G)},k}(),Ut=function(){return Ut=Object.assign||function(k){for(var G,g=1,P=arguments.length;g<P;g++){G=arguments[g];for(var R in G)Object.prototype.hasOwnProperty.call(G,R)&&(k[R]=G[R])}return k},Ut.apply(this,arguments)};function Bt(k,G){if(G===void 0&&(G=!1),Object(c.u)(k))throw new Error("computedFn shouldn't be used on actions");var g=!1,P=0,R=typeof G=="boolean"?{keepAlive:G}:G,X=new vt;return function(){for(var je=this,Ae=[],Ke=0;Ke<arguments.length;Ke++)Ae[Ke]=arguments[Ke];var Xe=X.entry(Ae);if(Xe.exists())return Xe.get().get();if(!R.keepAlive&&!Object(c.i)())return g||(console.warn("invoking a computedFn from outside an reactive context won't be memoized, unless keepAlive is set"),g=!0),k.apply(this,Ae);var nt=Object(c.m)(function(){return k.apply(je,Ae)},Ut(Ut({},R),{name:"computedFn("+k.name+"#"+ ++P+")"}));return Xe.set(nt),R.keepAlive||Object(c.E)(nt,function(){X.entry(Ae).delete()}),nt.get()}}function At(k,G,g,P,R){if(R)return It(k,G,P,R);Qt(G,g,P)}function It(k,G,g,P){if(P.get!==void 0)return fail(k+" cannot be used with getters");if(P.value)return{value:G(g,P.value),enumerable:!1,configurable:!0,writable:!0};var R=P.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return G(g,R.call(this))}}}function Qt(k,G,g){Object.defineProperty(G,g,{configurable:!0,enumerable:!1,get:function(){},set:function(P){F(this,g,k(g,P))}})}var Gt=function(k,G,g,P){function R(X){return X instanceof g?X:new g(function(je){je(X)})}return new(g||(g=Promise))(function(X,je){function Ae(nt){try{Xe(P.next(nt))}catch(Nt){je(Nt)}}function Ke(nt){try{Xe(P.throw(nt))}catch(Nt){je(Nt)}}function Xe(nt){nt.done?X(nt.value):R(nt.value).then(Ae,Ke)}Xe((P=P.apply(k,G||[])).next())})},or=function(k,G){var g={label:0,sent:function(){if(X[0]&1)throw X[1];return X[1]},trys:[],ops:[]},P,R,X,je;return je={next:Ae(0),throw:Ae(1),return:Ae(2)},typeof Symbol=="function"&&(je[Symbol.iterator]=function(){return this}),je;function Ae(Xe){return function(nt){return Ke([Xe,nt])}}function Ke(Xe){if(P)throw new TypeError("Generator is already executing.");for(;g;)try{if(P=1,R&&(X=Xe[0]&2?R.return:Xe[0]?R.throw||((X=R.return)&&X.call(R),0):R.next)&&!(X=X.call(R,Xe[1])).done)return X;switch(R=0,X&&(Xe=[Xe[0]&2,X.value]),Xe[0]){case 0:case 1:X=Xe;break;case 4:return g.label++,{value:Xe[1],done:!1};case 5:g.label++,R=Xe[1],Xe=[0];continue;case 7:Xe=g.ops.pop(),g.trys.pop();continue;default:if(X=g.trys,!(X=X.length>0&&X[X.length-1])&&(Xe[0]===6||Xe[0]===2)){g=0;continue}if(Xe[0]===3&&(!X||Xe[1]>X[0]&&Xe[1]<X[3])){g.label=Xe[1];break}if(Xe[0]===6&&g.label<X[1]){g.label=X[1],X=Xe;break}if(X&&g.label<X[2]){g.label=X[2],g.ops.push(Xe);break}X[2]&&g.ops.pop(),g.trys.pop();continue}Xe=G.call(k,g)}catch(nt){Xe=[6,nt],R=0}finally{P=X=0}if(Xe[0]&5)throw Xe[1];return{value:Xe[0]?Xe[1]:void 0,done:!0}}},gr=0,pr=new Set,sr=new Set,Ft;{var kt=Promise.resolve(),nr;typeof queueMicrotask!="undefined"?nr=queueMicrotask:typeof v!="undefined"&&v.nextTick?nr=function(k){v.nextTick(k)}:nr=function(k){setTimeout(k,0)};var We=function(){return new Promise(function(k){nr(k)})};Ft=function(){return kt=kt.then(We),kt}}var ot=[];function $e(k){return Gt(this,void 0,void 0,function(){var G,g,P,R,X,je,Ae,Ke,Xe,nt,Nt;return or(this,function(bt){switch(bt.label){case 0:G=ot[ot.length-1],G||w("'actionAsync' context not present when running 'task'. did you await inside an 'actionAsync' without using 'task(promise)'? did you forget to await the task?"),g=G.runId,P=G.actionName,R=G.args,X=G.scope,je=G.actionRunInfo,Ae=G.step,Ke=Ae+1,ot.pop(),Object(c.g)(je),sr.delete(g),bt.label=1;case 1:return bt.trys.push([1,4,6,7]),[4,k];case 2:return Xe=bt.sent(),[4,Ft()];case 3:return bt.sent(),[2,Xe];case 4:return nt=bt.sent(),[4,Ft()];case 5:throw bt.sent(),nt;case 6:return pr.has(g)&&(Nt=Object(c.j)(Dt(P,g,Ke),this,R),ot.push({runId:g,step:Ke,actionRunInfo:Nt,actionName:P,args:R,scope:X}),sr.add(g)),[7];case 7:return[2]}})})}function ct(k,G,g){if(typeof arguments[1]=="string")return At("@actionAsync",function(X,je){return xt(X,je)},k,G,g);var P=typeof k=="string"?k:k.name||"<unnamed action>",R=typeof k=="function"?k:G;return xt(P,R)}function xt(k,G){return(!c.j||!c.g)&&w("'actionAsync' requires mobx >=5.13.1 or >=4.13.1"),C(typeof G=="function","'asyncAction' expects a function"),(typeof k!="string"||!k)&&w("actions should have valid names, got: '"+k+"'"),function(){for(var g=[],P=0;P<arguments.length;P++)g[P]=arguments[P];return Gt(this,void 0,void 0,function(){var R,X,je,Ae,Ke,Xe;return or(this,function(nt){switch(nt.label){case 0:R=gr++,pr.add(R),X=Object(c.j)(Dt(k,R,0),this,g),ot.push({runId:R,step:0,actionRunInfo:X,actionName:k,args:g,scope:this}),sr.add(R),je=function(Nt){pr.delete(R);var bt=ot.pop();if(!bt||bt.runId!==R){bt&&ot.push(bt);var cr="invalid 'actionAsync' context when finishing action '"+k+"'.";bt?cr+=" an action context for '"+bt.actionName+"' was found instead.":cr+=" no action context could be found instead.",cr+=" did you await inside an 'actionAsync' without using 'task(promise)'? did you forget to await the task?",w(cr)}if(bt.actionRunInfo.error=Nt,Object(c.g)(bt.actionRunInfo),sr.delete(R),Nt)throw Nt};try{Ae=G.apply(this,g)}catch(Nt){je(Nt)}if(sr.has(R))return je(void 0),[2,Ae];nt.label=1;case 1:return nt.trys.push([1,3,,4]),[4,Ae];case 2:return Ke=nt.sent(),[3,4];case 3:return Xe=nt.sent(),je(Xe),[3,4];case 4:return je(void 0),[2,Ke]}})})}}function Dt(k,G,g){return k+" - runid "+G+" - step "+g}}).call(this,u(155))},function(x,A,u){var v;(function(c,b,M){if(!c)return;for(var w={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},C={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},j={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},L={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},F,Y=1;Y<20;++Y)w[111+Y]="f"+Y;for(Y=0;Y<=9;++Y)w[Y+96]=Y.toString();function U(z,Q,oe){if(z.addEventListener){z.addEventListener(Q,oe,!1);return}z.attachEvent("on"+Q,oe)}function W(z){if(z.type=="keypress"){var Q=String.fromCharCode(z.which);return z.shiftKey||(Q=Q.toLowerCase()),Q}return w[z.which]?w[z.which]:C[z.which]?C[z.which]:String.fromCharCode(z.which).toLowerCase()}function ee(z,Q){return z.sort().join(",")===Q.sort().join(",")}function ae(z){var Q=[];return z.shiftKey&&Q.push("shift"),z.altKey&&Q.push("alt"),z.ctrlKey&&Q.push("ctrl"),z.metaKey&&Q.push("meta"),Q}function q(z){if(z.preventDefault){z.preventDefault();return}z.returnValue=!1}function Me(z){if(z.stopPropagation){z.stopPropagation();return}z.cancelBubble=!0}function ye(z){return z=="shift"||z=="ctrl"||z=="alt"||z=="meta"}function me(){if(!F){F={};for(var z in w)z>95&&z<112||w.hasOwnProperty(z)&&(F[w[z]]=z)}return F}function le(z,Q,oe){return oe||(oe=me()[z]?"keydown":"keypress"),oe=="keypress"&&Q.length&&(oe="keydown"),oe}function Oe(z){return z==="+"?["+"]:(z=z.replace(/\+{2}/g,"+plus"),z.split("+"))}function ue(z,Q){var oe,se,ce,re=[];for(oe=Oe(z),ce=0;ce<oe.length;++ce)se=oe[ce],L[se]&&(se=L[se]),Q&&Q!="keypress"&&j[se]&&(se=j[se],re.push("shift")),ye(se)&&re.push(se);return Q=le(se,re,Q),{key:se,modifiers:re,action:Q}}function ve(z,Q){return z===null||z===b?!1:z===Q?!0:ve(z.parentNode,Q)}function te(z){var Q=this;if(z=z||b,!(Q instanceof te))return new te(z);Q.target=z,Q._callbacks={},Q._directMap={};var oe={},se,ce=!1,re=!1,de=!1;function Ce(Be){Be=Be||{};var et=!1,tt;for(tt in oe){if(Be[tt]){et=!0;continue}oe[tt]=0}et||(de=!1)}function Re(Be,et,tt,Ue,V,Z){var ne,we,Ge=[],Pe=tt.type;if(!Q._callbacks[Be])return[];for(Pe=="keyup"&&ye(Be)&&(et=[Be]),ne=0;ne<Q._callbacks[Be].length;++ne)if(we=Q._callbacks[Be][ne],!(!Ue&&we.seq&&oe[we.seq]!=we.level)&&Pe==we.action&&(Pe=="keypress"&&!tt.metaKey&&!tt.ctrlKey||ee(et,we.modifiers))){var pt=!Ue&&we.combo==V,st=Ue&&we.seq==Ue&&we.level==Z;(pt||st)&&Q._callbacks[Be].splice(ne,1),Ge.push(we)}return Ge}function He(Be,et,tt,Ue){Q.stopCallback(et,et.target||et.srcElement,tt,Ue)||Be(et,tt)===!1&&(q(et),Me(et))}Q._handleKey=function(Be,et,tt){var Ue=Re(Be,et,tt),V,Z={},ne=0,we=!1;for(V=0;V<Ue.length;++V)Ue[V].seq&&(ne=Math.max(ne,Ue[V].level));for(V=0;V<Ue.length;++V){if(Ue[V].seq){if(Ue[V].level!=ne)continue;we=!0,Z[Ue[V].seq]=1,He(Ue[V].callback,tt,Ue[V].combo,Ue[V].seq);continue}we||He(Ue[V].callback,tt,Ue[V].combo)}var Ge=tt.type=="keypress"&&re;tt.type==de&&!ye(Be)&&!Ge&&Ce(Z),re=we&&tt.type=="keydown"};function Ve(Be){typeof Be.which!="number"&&(Be.which=Be.keyCode);var et=W(Be);if(!!et){if(Be.type=="keyup"&&ce===et){ce=!1;return}Q.handleKey(et,ae(Be),Be)}}function it(){clearTimeout(se),se=setTimeout(Ce,1e3)}function yt(Be,et,tt,Ue){oe[Be]=0;function V(Pe){return function(){de=Pe,++oe[Be],it()}}function Z(Pe){He(tt,Pe,Be),Ue!=="keyup"&&(ce=W(Pe)),setTimeout(Ce,10)}for(var ne=0;ne<et.length;++ne){var we=ne+1===et.length,Ge=we?Z:V(Ue||ue(et[ne+1]).action);ht(et[ne],Ge,Ue,Be,ne)}}function ht(Be,et,tt,Ue,V){Q._directMap[Be+":"+tt]=et,Be=Be.replace(/\s+/g," ");var Z=Be.split(" "),ne;if(Z.length>1){yt(Be,Z,et,tt);return}ne=ue(Be,tt),Q._callbacks[ne.key]=Q._callbacks[ne.key]||[],Re(ne.key,ne.modifiers,{type:ne.action},Ue,Be,V),Q._callbacks[ne.key][Ue?"unshift":"push"]({callback:et,modifiers:ne.modifiers,action:ne.action,seq:Ue,level:V,combo:Be})}Q._bindMultiple=function(Be,et,tt){for(var Ue=0;Ue<Be.length;++Ue)ht(Be[Ue],et,tt)},U(z,"keypress",Ve),U(z,"keydown",Ve),U(z,"keyup",Ve)}te.prototype.bind=function(z,Q,oe){var se=this;return z=z instanceof Array?z:[z],se._bindMultiple.call(se,z,Q,oe),se},te.prototype.unbind=function(z,Q){var oe=this;return oe.bind.call(oe,z,function(){},Q)},te.prototype.trigger=function(z,Q){var oe=this;return oe._directMap[z+":"+Q]&&oe._directMap[z+":"+Q]({},z),oe},te.prototype.reset=function(){var z=this;return z._callbacks={},z._directMap={},z},te.prototype.stopCallback=function(z,Q){var oe=this;if((" "+Q.className+" ").indexOf(" mousetrap ")>-1||ve(Q,oe.target))return!1;if("composedPath"in z&&typeof z.composedPath=="function"){var se=z.composedPath()[0];se!==z.target&&(Q=se)}return Q.tagName=="INPUT"||Q.tagName=="SELECT"||Q.tagName=="TEXTAREA"||Q.isContentEditable},te.prototype.handleKey=function(){var z=this;return z._handleKey.apply(z,arguments)},te.addKeycodes=function(z){for(var Q in z)z.hasOwnProperty(Q)&&(w[Q]=z[Q]);F=null},te.init=function(){var z=te(b);for(var Q in z)Q.charAt(0)!=="_"&&(te[Q]=function(oe){return function(){return z[oe].apply(z,arguments)}}(Q))},te.init(),c.Mousetrap=te,x.exports&&(x.exports=te),v=function(){return te}.call(A,u,A,x),v!==M&&(x.exports=v)})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(x,A,u){var v=u(36),c=u(37),b=u(32),M=u(39),w=u(66);x.exports=v?Object.defineProperties:function(j,L){b(j);for(var F=M(L),Y=w(L),U=Y.length,W=0,ee;U>W;)c.f(j,ee=Y[W++],F[ee]);return j}},function(x,A,u){var v=u(7),c=u(35),b=u(28),M=u(33),w=v.TypeError;x.exports=function(C,j){var L,F;if(j==="string"&&b(L=C.toString)&&!M(F=c(L,C))||b(L=C.valueOf)&&!M(F=c(L,C))||j!=="string"&&b(L=C.toString)&&!M(F=c(L,C)))return F;throw w("Can't convert object to primitive value")}},function(x,A,u){var v=u(7),c=u(28),b=u(92),M=v.WeakMap;x.exports=c(M)&&/native code/.test(b(M))},function(x,A,u){"use strict";var v=u(136).IteratorPrototype,c=u(54),b=u(71),M=u(73),w=u(70),C=function(){return this};x.exports=function(j,L,F,Y){var U=L+" Iterator";return j.prototype=c(v,{next:b(+!Y,F)}),M(j,U,!1,!0),w[U]=C,j}},function(x,A,u){var v=u(7),c=u(28),b=v.String,M=v.TypeError;x.exports=function(w){if(typeof w=="object"||c(w))return w;throw M("Can't set "+b(w)+" as a prototype")}},function(x,A,u){"use strict";var v=u(16),c=u(7),b=u(15),M=u(95),w=u(44),C=u(138),j=u(114),L=u(117),F=u(28),Y=u(33),U=u(18),W=u(118),ee=u(73),ae=u(143);x.exports=function(q,Me,ye){var me=q.indexOf("Map")!==-1,le=q.indexOf("Weak")!==-1,Oe=me?"set":"add",ue=c[q],ve=ue&&ue.prototype,te=ue,z={},Q=function(Re){var He=b(ve[Re]);w(ve,Re,Re=="add"?function(it){return He(this,it===0?0:it),this}:Re=="delete"?function(Ve){return le&&!Y(Ve)?!1:He(this,Ve===0?0:Ve)}:Re=="get"?function(it){return le&&!Y(it)?void 0:He(this,it===0?0:it)}:Re=="has"?function(it){return le&&!Y(it)?!1:He(this,it===0?0:it)}:function(it,yt){return He(this,it===0?0:it,yt),this})},oe=M(q,!F(ue)||!(le||ve.forEach&&!U(function(){new ue().entries().next()})));if(oe)te=ye.getConstructor(Me,q,me,Oe),C.enable();else if(M(q,!0)){var se=new te,ce=se[Oe](le?{}:-0,1)!=se,re=U(function(){se.has(1)}),de=W(function(Re){new ue(Re)}),Ce=!le&&U(function(){for(var Re=new ue,He=5;He--;)Re[Oe](He,He);return!Re.has(-0)});de||(te=Me(function(Re,He){L(Re,ve);var Ve=ae(new ue,Re,te);return He!=null&&j(He,Ve[Oe],{that:Ve,AS_ENTRIES:me}),Ve}),te.prototype=ve,ve.constructor=te),(re||Ce)&&(Q("delete"),Q("has"),me&&Q("get")),(Ce||ce)&&Q(Oe),le&&ve.clear&&delete ve.clear}return z[q]=te,v({global:!0,forced:te!=ue},z),ee(te,q),le||ye.setStrong(te,q,me),te}},function(x,A,u){var v=u(18),c=u(33),b=u(50),M=u(175),w=Object.isExtensible,C=v(function(){w(1)});x.exports=C||M?function(L){return!c(L)||M&&b(L)=="ArrayBuffer"?!1:w?w(L):!0}:w},function(x,A,u){var v=u(18);x.exports=v(function(){if(typeof ArrayBuffer=="function"){var c=new ArrayBuffer(8);Object.isExtensible(c)&&Object.defineProperty(c,"a",{value:8})}})},function(x,A,u){var v=u(18);x.exports=!v(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(x,A,u){"use strict";var v=u(37).f,c=u(54),b=u(144),M=u(62),w=u(117),C=u(114),j=u(111),L=u(145),F=u(36),Y=u(138).fastKey,U=u(56),W=U.set,ee=U.getterFor;x.exports={getConstructor:function(ae,q,Me,ye){var me=ae(function(te,z){w(te,le),W(te,{type:q,index:c(null),first:void 0,last:void 0,size:0}),F||(te.size=0),z!=null&&C(z,te[ye],{that:te,AS_ENTRIES:Me})}),le=me.prototype,Oe=ee(q),ue=function(te,z,Q){var oe=Oe(te),se=ve(te,z),ce,re;return se?se.value=Q:(oe.last=se={index:re=Y(z,!0),key:z,value:Q,previous:ce=oe.last,next:void 0,removed:!1},oe.first||(oe.first=se),ce&&(ce.next=se),F?oe.size++:te.size++,re!=="F"&&(oe.index[re]=se)),te},ve=function(te,z){var Q=Oe(te),oe=Y(z),se;if(oe!=="F")return Q.index[oe];for(se=Q.first;se;se=se.next)if(se.key==z)return se};return b(le,{clear:function(){for(var z=this,Q=Oe(z),oe=Q.index,se=Q.first;se;)se.removed=!0,se.previous&&(se.previous=se.previous.next=void 0),delete oe[se.index],se=se.next;Q.first=Q.last=void 0,F?Q.size=0:z.size=0},delete:function(te){var z=this,Q=Oe(z),oe=ve(z,te);if(oe){var se=oe.next,ce=oe.previous;delete Q.index[oe.index],oe.removed=!0,ce&&(ce.next=se),se&&(se.previous=ce),Q.first==oe&&(Q.first=se),Q.last==oe&&(Q.last=ce),F?Q.size--:z.size--}return!!oe},forEach:function(z){for(var Q=Oe(this),oe=M(z,arguments.length>1?arguments[1]:void 0),se;se=se?se.next:Q.first;)for(oe(se.value,se.key,this);se&&se.removed;)se=se.previous},has:function(z){return!!ve(this,z)}}),b(le,Me?{get:function(z){var Q=ve(this,z);return Q&&Q.value},set:function(z,Q){return ue(this,z===0?0:z,Q)}}:{add:function(z){return ue(this,z=z===0?0:z,z)}}),F&&v(le,"size",{get:function(){return Oe(this).size}}),me},setStrong:function(ae,q,Me){var ye=q+" Iterator",me=ee(q),le=ee(ye);j(ae,q,function(Oe,ue){W(this,{type:ye,target:Oe,state:me(Oe),kind:ue,last:void 0})},function(){for(var Oe=le(this),ue=Oe.kind,ve=Oe.last;ve&&ve.removed;)ve=ve.previous;return!Oe.target||!(Oe.last=ve=ve?ve.next:Oe.state.first)?(Oe.target=void 0,{value:void 0,done:!0}):ue=="keys"?{value:ve.key,done:!1}:ue=="values"?{value:ve.value,done:!1}:{value:[ve.key,ve.value],done:!1}},Me?"entries":"values",!Me,!0),L(q)}}},function(x,A,u){"use strict";var v=u(116),c=u(98);x.exports=v?{}.toString:function(){return"[object "+c(this)+"]"}},function(x,A,u){"use strict";var v=u(74).forEach,c=u(120),b=c("forEach");x.exports=b?[].forEach:function(w){return v(this,w,arguments.length>1?arguments[1]:void 0)}},function(x,A,u){var v=u(7),c=u(99),b=u(100),M=u(33),w=u(27),C=w("species"),j=v.Array;x.exports=function(L){var F;return c(L)&&(F=L.constructor,b(F)&&(F===j||c(F.prototype))?F=void 0:M(F)&&(F=F[C],F===null&&(F=void 0))),F===void 0?j:F}},function(x,A,u){var v=u(7);x.exports=v},function(x,A,u){"use strict";var v=u(7),c=u(62),b=u(35),M=u(38),w=u(183),C=u(140),j=u(100),L=u(43),F=u(61),Y=u(141),U=u(115),W=v.Array;x.exports=function(ae){var q=M(ae),Me=j(this),ye=arguments.length,me=ye>1?arguments[1]:void 0,le=me!==void 0;le&&(me=c(me,ye>2?arguments[2]:void 0));var Oe=U(q),ue=0,ve,te,z,Q,oe,se;if(Oe&&!(this==W&&C(Oe)))for(Q=Y(q,Oe),oe=Q.next,te=Me?new this:[];!(z=b(oe,Q)).done;ue++)se=le?w(Q,me,[z.value,ue],!0):z.value,F(te,ue,se);else for(ve=L(q),te=Me?new this(ve):W(ve);ve>ue;ue++)se=le?me(q[ue],ue):q[ue],F(te,ue,se);return te.length=ue,te}},function(x,A,u){var v=u(32),c=u(142);x.exports=function(b,M,w,C){try{return C?M(v(w)[0],w[1]):M(w)}catch(j){c(b,"throw",j)}}},function(x,A,u){"use strict";var v=u(32);x.exports=function(){var c=v(this),b="";return c.global&&(b+="g"),c.ignoreCase&&(b+="i"),c.multiline&&(b+="m"),c.dotAll&&(b+="s"),c.unicode&&(b+="u"),c.sticky&&(b+="y"),b}},function(x,A,u){var v=u(18),c=u(7),b=c.RegExp;x.exports=v(function(){var M=b(".","s");return!(M.dotAll&&M.exec(`
`)&&M.flags==="s")})},function(x,A,u){var v=u(18),c=u(7),b=c.RegExp;x.exports=v(function(){var M=b("(?<a>b)","g");return M.exec("b").groups.a!=="b"||"b".replace(M,"$<a>c")!=="bc"})},function(x,A,u){"use strict";var v=u(16),c=u(15),b=u(55),M=u(38),w=u(43),C=u(40),j=u(18),L=u(188),F=u(120),Y=u(189),U=u(190),W=u(65),ee=u(191),ae=[],q=c(ae.sort),Me=c(ae.push),ye=j(function(){ae.sort(void 0)}),me=j(function(){ae.sort(null)}),le=F("sort"),Oe=!j(function(){if(W)return W<70;if(!(Y&&Y>3)){if(U)return!0;if(ee)return ee<603;var te="",z,Q,oe,se;for(z=65;z<76;z++){switch(Q=String.fromCharCode(z),z){case 66:case 69:case 70:case 72:oe=3;break;case 68:case 71:oe=4;break;default:oe=2}for(se=0;se<47;se++)ae.push({k:Q+se,v:oe})}for(ae.sort(function(ce,re){return re.v-ce.v}),se=0;se<ae.length;se++)Q=ae[se].k.charAt(0),te.charAt(te.length-1)!==Q&&(te+=Q);return te!=="DGBEFHACIJK"}}),ue=ye||!me||!le||!Oe,ve=function(te){return function(z,Q){return Q===void 0?-1:z===void 0?1:te!==void 0?+te(z,Q)||0:C(z)>C(Q)?1:-1}};v({target:"Array",proto:!0,forced:ue},{sort:function(z){z!==void 0&&b(z);var Q=M(this);if(Oe)return z===void 0?q(Q):q(Q,z);var oe=[],se=w(Q),ce,re;for(re=0;re<se;re++)re in Q&&Me(oe,Q[re]);for(L(oe,ve(z)),ce=oe.length,re=0;re<ce;)Q[re]=oe[re++];for(;re<se;)delete Q[re++];return Q}})},function(x,A,u){var v=u(113),c=Math.floor,b=function(C,j){var L=C.length,F=c(L/2);return L<8?M(C,j):w(C,b(v(C,0,F),j),b(v(C,F),j),j)},M=function(C,j){for(var L=C.length,F=1,Y,U;F<L;){for(U=F,Y=C[F];U&&j(C[U-1],Y)>0;)C[U]=C[--U];U!==F++&&(C[U]=Y)}return C},w=function(C,j,L,F){for(var Y=j.length,U=L.length,W=0,ee=0;W<Y||ee<U;)C[W+ee]=W<Y&&ee<U?F(j[W],L[ee])<=0?j[W++]:L[ee++]:W<Y?j[W++]:L[ee++];return C};x.exports=b},function(x,A,u){var v=u(53),c=v.match(/firefox\/(\d+)/i);x.exports=!!c&&+c[1]},function(x,A,u){var v=u(53);x.exports=/MSIE|Trident/.test(v)},function(x,A,u){var v=u(53),c=v.match(/AppleWebKit\/(\d+)\./);x.exports=!!c&&+c[1]},function(x,A,u){"use strict";var v=u(16),c=u(74).find,b=u(83),M="find",w=!0;M in[]&&Array(1)[M](function(){w=!1}),v({target:"Array",proto:!0,forced:w},{find:function(j){return c(this,j,arguments.length>1?arguments[1]:void 0)}}),b(M)},function(x,A,u){var v=u(7),c=u(154),b=v.TypeError;x.exports=function(M){if(c(M))throw b("The method doesn't accept regular expressions");return M}},function(x,A,u){var v=u(27),c=v("match");x.exports=function(b){var M=/./;try{"/./"[b](M)}catch(w){try{return M[c]=!1,"/./"[b](M)}catch(C){}}return!1}},function(x,A,u){var v=u(94).PROPER,c=u(18),b=u(160),M="\u200B\x85\u180E";x.exports=function(w){return c(function(){return!!b[w]()||M[w]()!==M||v&&b[w].name!==w})}},function(x,A,u){var v=u(15);x.exports=v(1 .valueOf)},function(x,A,u){var v=u(15),c=u(38),b=Math.floor,M=v("".charAt),w=v("".replace),C=v("".slice),j=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,L=/\$([$&'`]|\d{1,2})/g;x.exports=function(F,Y,U,W,ee,ae){var q=U+F.length,Me=W.length,ye=L;return ee!==void 0&&(ee=c(ee),ye=j),w(ae,ye,function(me,le){var Oe;switch(M(le,0)){case"$":return"$";case"&":return F;case"`":return C(Y,0,U);case"'":return C(Y,q);case"<":Oe=ee[C(le,1,-1)];break;default:var ue=+le;if(ue===0)return me;if(ue>Me){var ve=b(ue/10);return ve===0?me:ve<=Me?W[ve-1]===void 0?M(le,1):W[ve-1]+M(le,1):me}Oe=W[ue-1]}return Oe===void 0?"":Oe})}},function(x,A,u){"use strict";var v=u(36),c=u(15),b=u(35),M=u(18),w=u(66),C=u(112),j=u(93),L=u(38),F=u(81),Y=Object.assign,U=Object.defineProperty,W=c([].concat);x.exports=!Y||M(function(){if(v&&Y({b:1},Y(U({},"a",{enumerable:!0,get:function(){U(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var ee={},ae={},q=Symbol(),Me="abcdefghijklmnopqrst";return ee[q]=7,Me.split("").forEach(function(ye){ae[ye]=ye}),Y({},ee)[q]!=7||w(Y({},ae)).join("")!=Me})?function(ae,q){for(var Me=L(ae),ye=arguments.length,me=1,le=C.f,Oe=j.f;ye>me;)for(var ue=F(arguments[me++]),ve=le?W(w(ue),le(ue)):w(ue),te=ve.length,z=0,Q;te>z;)Q=ve[z++],(!v||b(Oe,ue,Q))&&(Me[Q]=ue[Q]);return Me}:Y},function(x,A,u){"use strict";var v=u(7),c=u(15),b=u(55),M=u(33),w=u(34),C=u(101),j=v.Function,L=c([].concat),F=c([].join),Y={},U=function(W,ee,ae){if(!w(Y,ee)){for(var q=[],Me=0;Me<ee;Me++)q[Me]="a["+Me+"]";Y[ee]=j("C,a","return new C("+F(q,",")+")")}return Y[ee](W,ae)};x.exports=j.bind||function(ee){var ae=b(this),q=ae.prototype,Me=C(arguments,1),ye=function(){var le=L(Me,C(arguments));return this instanceof ye?U(ae,le.length,le):ae.apply(ee,le)};return M(q)&&(ye.prototype=q),ye}},function(x,A,u){var v=u(34);x.exports=function(c){return c!==void 0&&(v(c,"value")||v(c,"writable"))}},function(x,A,u){var v=u(15),c=u(45),b=u(40),M=/"/g,w=v("".replace);x.exports=function(C,j,L,F){var Y=b(c(C)),U="<"+j;return L!==""&&(U+=" "+L+'="'+w(b(F),M,"&quot;")+'"'),U+">"+Y+"</"+j+">"}},function(x,A,u){var v=u(18);x.exports=function(c){return v(function(){var b=""[c]('"');return b!==b.toLowerCase()||b.split('"').length>3})}},function(x,A,u){var v=u(16),c=Math.hypot,b=Math.abs,M=Math.sqrt,w=!!c&&c(Infinity,NaN)!==Infinity;v({target:"Math",stat:!0,forced:w},{hypot:function(j,L){for(var F=0,Y=0,U=arguments.length,W=0,ee,ae;Y<U;)ee=b(arguments[Y++]),W<ee?(ae=W/ee,F=F*ae*ae+1,W=ee):ee>0?(ae=ee/W,F+=ae*ae):F+=ee;return W===Infinity?Infinity:W*M(F)}})},function(x,A,u){"use strict";var v=u(16),c=u(64),b=u(7),M=u(46),w=u(35),C=u(205),j=u(44),L=u(144),F=u(97),Y=u(73),U=u(145),W=u(55),ee=u(28),ae=u(33),q=u(117),Me=u(92),ye=u(114),me=u(118),le=u(156),Oe=u(162).set,ue=u(206),ve=u(209),te=u(210),z=u(164),Q=u(211),oe=u(56),se=u(95),ce=u(27),re=u(212),de=u(126),Ce=u(65),Re=ce("species"),He="Promise",Ve=oe.getterFor(He),it=oe.set,yt=oe.getterFor(He),ht=C&&C.prototype,Be=C,et=ht,tt=b.TypeError,Ue=b.document,V=b.process,Z=z.f,ne=Z,we=!!(Ue&&Ue.createEvent&&b.dispatchEvent),Ge=ee(b.PromiseRejectionEvent),Pe="unhandledrejection",pt="rejectionhandled",st=0,ft=1,mt=2,De=1,jt=2,at=!1,ut,vt,Ut,Bt,At=se(He,function(){var We=Me(Be),ot=We!==String(Be);if(!ot&&Ce===66||c&&!et.finally)return!0;if(Ce>=51&&/native code/.test(We))return!1;var $e=new Be(function(Dt){Dt(1)}),ct=function(Dt){Dt(function(){},function(){})},xt=$e.constructor={};return xt[Re]=ct,at=$e.then(function(){})instanceof ct,at?!ot&&re&&!Ge:!0}),It=At||!me(function(We){Be.all(We).catch(function(){})}),Qt=function(We){var ot;return ae(We)&&ee(ot=We.then)?ot:!1},Gt=function(We,ot){if(!We.notified){We.notified=!0;var $e=We.reactions;ue(function(){for(var ct=We.value,xt=We.state==ft,Dt=0;$e.length>Dt;){var k=$e[Dt++],G=xt?k.ok:k.fail,g=k.resolve,P=k.reject,R=k.domain,X,je,Ae;try{G?(xt||(We.rejection===jt&&sr(We),We.rejection=De),G===!0?X=ct:(R&&R.enter(),X=G(ct),R&&(R.exit(),Ae=!0)),X===k.promise?P(tt("Promise-chain cycle")):(je=Qt(X))?w(je,X,g,P):g(X)):P(ct)}catch(Ke){R&&!Ae&&R.exit(),P(Ke)}}We.reactions=[],We.notified=!1,ot&&!We.rejection&&gr(We)})}},or=function(We,ot,$e){var ct,xt;we?(ct=Ue.createEvent("Event"),ct.promise=ot,ct.reason=$e,ct.initEvent(We,!1,!0),b.dispatchEvent(ct)):ct={promise:ot,reason:$e},!Ge&&(xt=b["on"+We])?xt(ct):We===Pe&&te("Unhandled promise rejection",$e)},gr=function(We){w(Oe,b,function(){var ot=We.facade,$e=We.value,ct=pr(We),xt;if(ct&&(xt=Q(function(){de?V.emit("unhandledRejection",$e,ot):or(Pe,ot,$e)}),We.rejection=de||pr(We)?jt:De,xt.error))throw xt.value})},pr=function(We){return We.rejection!==De&&!We.parent},sr=function(We){w(Oe,b,function(){var ot=We.facade;de?V.emit("rejectionHandled",ot):or(pt,ot,We.value)})},Ft=function(We,ot,$e){return function(ct){We(ot,ct,$e)}},kt=function(We,ot,$e){We.done||(We.done=!0,$e&&(We=$e),We.value=ot,We.state=mt,Gt(We,!0))},nr=function(We,ot,$e){if(!We.done){We.done=!0,$e&&(We=$e);try{if(We.facade===ot)throw tt("Promise can't be resolved itself");var ct=Qt(ot);ct?ue(function(){var xt={done:!1};try{w(ct,ot,Ft(nr,xt,We),Ft(kt,xt,We))}catch(Dt){kt(xt,Dt,We)}}):(We.value=ot,We.state=ft,Gt(We,!1))}catch(xt){kt({done:!1},xt,We)}}};if(At&&(Be=function(ot){q(this,et),W(ot),w(ut,this);var $e=Ve(this);try{ot(Ft(nr,$e),Ft(kt,$e))}catch(ct){kt($e,ct)}},et=Be.prototype,ut=function(ot){it(this,{type:He,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:st,value:void 0})},ut.prototype=L(et,{then:function(ot,$e){var ct=yt(this),xt=ct.reactions,Dt=Z(le(this,Be));return Dt.ok=ee(ot)?ot:!0,Dt.fail=ee($e)&&$e,Dt.domain=de?V.domain:void 0,ct.parent=!0,xt[xt.length]=Dt,ct.state!=st&&Gt(ct,!1),Dt.promise},catch:function(We){return this.then(void 0,We)}}),vt=function(){var We=new ut,ot=Ve(We);this.promise=We,this.resolve=Ft(nr,ot),this.reject=Ft(kt,ot)},z.f=Z=function(We){return We===Be||We===Ut?new vt(We):ne(We)},!c&&ee(C)&&ht!==Object.prototype)){Bt=ht.then,at||(j(ht,"then",function(ot,$e){var ct=this;return new Be(function(xt,Dt){w(Bt,ct,xt,Dt)}).then(ot,$e)},{unsafe:!0}),j(ht,"catch",et.catch,{unsafe:!0}));try{delete ht.constructor}catch(We){}F&&F(ht,et)}v({global:!0,wrap:!0,forced:At},{Promise:Be}),Y(Be,He,!1,!0),U(He),Ut=M(He),v({target:He,stat:!0,forced:At},{reject:function(ot){var $e=Z(this);return w($e.reject,void 0,ot),$e.promise}}),v({target:He,stat:!0,forced:c||At},{resolve:function(ot){return ve(c&&this===Ut?Be:this,ot)}}),v({target:He,stat:!0,forced:It},{all:function(ot){var $e=this,ct=Z($e),xt=ct.resolve,Dt=ct.reject,k=Q(function(){var G=W($e.resolve),g=[],P=0,R=1;ye(ot,function(X){var je=P++,Ae=!1;R++,w(G,$e,X).then(function(Ke){Ae||(Ae=!0,g[je]=Ke,--R||xt(g))},Dt)}),--R||xt(g)});return k.error&&Dt(k.value),ct.promise},race:function(ot){var $e=this,ct=Z($e),xt=ct.reject,Dt=Q(function(){var k=W($e.resolve);ye(ot,function(G){w(k,$e,G).then(ct.resolve,xt)})});return Dt.error&&xt(Dt.value),ct.promise}})},function(x,A,u){var v=u(7);x.exports=v.Promise},function(x,A,u){var v=u(7),c=u(62),b=u(51).f,M=u(162).set,w=u(163),C=u(207),j=u(208),L=u(126),F=v.MutationObserver||v.WebKitMutationObserver,Y=v.document,U=v.process,W=v.Promise,ee=b(v,"queueMicrotask"),ae=ee&&ee.value,q,Me,ye,me,le,Oe,ue,ve;ae||(q=function(){var te,z;for(L&&(te=U.domain)&&te.exit();Me;){z=Me.fn,Me=Me.next;try{z()}catch(Q){throw Me?me():ye=void 0,Q}}ye=void 0,te&&te.enter()},!w&&!L&&!j&&F&&Y?(le=!0,Oe=Y.createTextNode(""),new F(q).observe(Oe,{characterData:!0}),me=function(){Oe.data=le=!le}):!C&&W&&W.resolve?(ue=W.resolve(void 0),ue.constructor=W,ve=c(ue.then,ue),me=function(){ve(q)}):L?me=function(){U.nextTick(q)}:(M=c(M,v),me=function(){M(q)})),x.exports=ae||function(te){var z={fn:te,next:void 0};ye&&(ye.next=z),Me||(Me=z,me()),ye=z}},function(x,A,u){var v=u(53),c=u(7);x.exports=/ipad|iphone|ipod/i.test(v)&&c.Pebble!==void 0},function(x,A,u){var v=u(53);x.exports=/web0s(?!.*chrome)/i.test(v)},function(x,A,u){var v=u(32),c=u(33),b=u(164);x.exports=function(M,w){if(v(M),c(w)&&w.constructor===M)return w;var C=b.f(M),j=C.resolve;return j(w),C.promise}},function(x,A,u){var v=u(7);x.exports=function(c,b){var M=v.console;M&&M.error&&(arguments.length==1?M.error(c):M.error(c,b))}},function(x,A){x.exports=function(u){try{return{error:!1,value:u()}}catch(v){return{error:!0,value:v}}}},function(x,A){x.exports=typeof window=="object"},function(x,A,u){var v=u(36),c=u(15),b=u(66),M=u(39),w=u(93).f,C=c(w),j=c([].push),L=function(F){return function(Y){for(var U=M(Y),W=b(U),ee=W.length,ae=0,q=[],Me;ee>ae;)Me=W[ae++],(!v||C(U,Me))&&j(q,F?[Me,U[Me]]:U[Me]);return q}};x.exports={entries:L(!0),values:L(!1)}},function(x,A,u){"use strict";var v=u(38),c=u(67),b=u(43);x.exports=function(w){for(var C=v(this),j=b(C),L=arguments.length,F=c(L>1?arguments[1]:void 0,j),Y=L>2?arguments[2]:void 0,U=Y===void 0?j:c(Y,j);U>F;)C[F++]=w;return C}},function(x,A,u){"use strict";u.r(A),u.d(A,"observer",function(){return Gi}),u.d(A,"LogicFlow",function(){return Ao}),u.d(A,"h",function(){return Se.g}),u.d(A,"LogicFlowUtil",function(){return v}),u.d(A,"BaseNode",function(){return Go}),u.d(A,"RectNode",function(){return Jl}),u.d(A,"CircleNode",function(){return _l}),u.d(A,"PolygonNode",function(){return rs}),u.d(A,"DiamondNode",function(){return is}),u.d(A,"EllipseNode",function(){return ls}),u.d(A,"TextNode",function(){return fs}),u.d(A,"HtmlNode",function(){return ps}),u.d(A,"BaseEdge",function(){return La}),u.d(A,"LineEdge",function(){return bs}),u.d(A,"PolylineEdge",function(){return Os}),u.d(A,"BezierEdge",function(){return Ss}),u.d(A,"Arrow",function(){return fC}),u.d(A,"BaseEdgeModel",function(){return pf}),u.d(A,"BezierEdgeModel",function(){return Gf}),u.d(A,"LineEdgeModel",function(){return aa}),u.d(A,"PolylineEdgeModel",function(){return Mu}),u.d(A,"BaseNodeModel",function(){return zo}),u.d(A,"CircleNodeModel",function(){return Gy}),u.d(A,"DiamondNodeModel",function(){return Zy}),u.d(A,"EllipseNodeModel",function(){return ig}),u.d(A,"PolygonNodeModel",function(){return pg}),u.d(A,"RectNodeModel",function(){return Og}),u.d(A,"TextNodeModel",function(){return Tg}),u.d(A,"HtmlNodeModel",function(){return Dg}),u.d(A,"EditConfigModel",function(){return Cp}),u.d(A,"GraphModel",function(){return Ah}),u.d(A,"SnaplineModel",function(){return Xl}),u.d(A,"Keyboard",function(){return vE}),u.d(A,"get",function(){return sy}),u.d(A,"defaults",function(){return fy});var v={};u.r(v),u.d(v,"createUuid",function(){return Eo}),u.d(v,"refreshGraphId",function(){return Iw}),u.d(v,"createDrag",function(){return xf}),u.d(v,"StepDrag",function(){return So});var c=u(0),b=u(10);if(!b.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!c.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var M=u(42),w=Object(M.b)("observerBatching");function C(e){e()}function j(e){e||(e=C),Object(c.n)({reactionScheduler:e}),Object(M.a)()[w]=!0}var L=function(){return!!Object(M.a)()[w]},F=!1;function Y(e){F=e}function U(){return F}function W(e){return Object(c.t)(e)}function ee(e){var t={cleanAt:Date.now()+ae,reaction:e};return t}var ae=1e4,q=1e4,Me=new Set,ye;function me(){ye===void 0&&(ye=setTimeout(ue,q))}function le(e){Me.add(e),me()}function Oe(e){Me.delete(e)}function ue(){ye=void 0;var e=Date.now();Me.forEach(function(t){var r=t.current;r&&e>=r.cleanAt&&(r.reaction.dispose(),t.current=null,Me.delete(t))}),Me.size>0&&me()}function ve(){ye&&(clearTimeout(ye),ue())}function te(){ye&&(clearTimeout(ye),ye=void 0),Me.clear()}var z=!1,Q=[];function oe(e){return function(){z?Q.push(e):e()}}function se(e){z=!0,Q=[];try{var t=e();z=!1;var r=Q.length>0?Q:void 0;return b.d.useLayoutEffect(function(){r&&r.forEach(function(n){return n()})},[r]),t}finally{z=!1}}var ce={};function re(e){return"observer"+e}function de(e,t,r){if(t===void 0&&(t="observed"),r===void 0&&(r=ce),U())return e();var n=r.useForceUpdate||M.d,i=n(),a=oe(i),l=b.d.useRef(null);if(!l.current){var d=new c.c(re(t),function(){p.mounted?a():(d.dispose(),l.current=null)}),p=ee(d);l.current=p,le(l)}var O=l.current.reaction;return b.d.useDebugValue(O,W),b.d.useEffect(function(){return Oe(l),l.current?l.current.mounted=!0:(l.current={reaction:new c.c(re(t),function(){a()}),cleanAt:Infinity},a()),function(){l.current.reaction.dispose(),l.current=null}},[]),se(function(){var N,B;if(O.track(function(){try{N=e()}catch($){B=$}}),B)throw B;return N})}var Ce=function(){return Ce=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ce.apply(this,arguments)};function Re(e,t){if(U())return e;var r=Ce({forwardRef:!1},t),n=e.displayName||e.name,i=function(l,d){return de(function(){return e(l,d)},n)};i.displayName=n;var a;return r.forwardRef?a=Object(b.f)(Object(b.e)(i)):a=Object(b.f)(i),Ve(e,a),a.displayName=n,a}var He={$$typeof:!0,render:!0,compare:!0,type:!0};function Ve(e,t){Object.keys(e).forEach(function(r){He[r]||Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}function it(e){var t=e.children,r=e.render,n=t||r;return typeof n!="function"?null:de(n)}it.propTypes={children:yt,render:yt},it.displayName="Observer";function yt(e,t,r,n,i){var a=t==="children"?"render":"children",l=typeof e[t]=="function",d=typeof e[a]=="function";return l&&d?new Error("MobX Observer: Do not use children and render in the same time in`"+r):l||d?null:new Error("Invalid prop `"+i+"` of type `"+typeof e[t]+"` supplied to `"+r+"`, expected `function`.")}var ht=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],l;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(d){l={error:d}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return a};function Be(e,t){var r=t?"useLocalStore":"useAsObservableSource";if(!1)var n,i;if(!(t&&e===void 0)){var a=ht(b.d.useState(function(){return Object(c.C)(e,{},{deep:!1})}),1),l=a[0];return Object(c.G)(function(){Object.assign(l,e)}),l}}function et(e){return Be(e,!1)}function tt(e,t){var r=Be(t,!0);return b.d.useState(function(){var n=Object(c.C)(e(r));return Object(M.c)(n)&&Object(c.G)(function(){Object.keys(n).forEach(function(i){var a=n[i];typeof a=="function"&&(n[i]=Ue(a,n))})}),n})[0]}function Ue(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return Object(c.J)(function(){return e.apply(t,r)})}}j(b.g);var V=0;function Z(e){if(typeof Symbol=="function")return Symbol(e);var t="__$mobx-react "+e+" ("+V+")";return V++,t}var ne={};function we(e){return ne[e]||(ne[e]=Z(e)),ne[e]}function Ge(e,t){if(Pe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!Object.hasOwnProperty.call(t,r[i])||!Pe(e[r[i]],t[r[i]]))return!1;return!0}function Pe(e,t){return e===t?e!==0||1/e==1/t:e!==e&&t!==t}var pt={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,propTypes:1};function st(e,t){var r=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Object.getOwnPropertyNames(e).forEach(function(n){!pt[n]&&r.indexOf(n)===-1&&Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}function ft(e,t,r){Object.hasOwnProperty.call(e,t)?e[t]=r:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:r})}var mt=we("patchMixins"),De=we("patchedDefinition");function jt(e,t){var r=e[mt]=e[mt]||{},n=r[t]=r[t]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}function at(e,t){for(var r=this,n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];t.locks++;try{var l;return e!=null&&(l=e.apply(this,i)),l}finally{t.locks--,t.locks===0&&t.methods.forEach(function(d){d.apply(r,i)})}}function ut(e,t){var r=function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];at.call.apply(at,[this,e,t].concat(a))};return r}function vt(e,t,r){var n=jt(e,t);n.methods.indexOf(r)<0&&n.methods.push(r);var i=Object.getOwnPropertyDescriptor(e,t);if(!(i&&i[De])){var a=e[t],l=Ut(e,t,i?i.enumerable:void 0,n,a);Object.defineProperty(e,t,l)}}function Ut(e,t,r,n,i){var a,l=ut(i,n);return a={},a[De]=!0,a.get=function(){return l},a.set=function(p){if(this===e)l=ut(p,n);else{var O=Ut(this,t,r,n,p);Object.defineProperty(this,t,O)}},a.configurable=!0,a.enumerable=r,a}var Bt=c.a||"$mobx",At=we("isMobXReactObserver"),It=we("isUnmounted"),Qt=we("skipRender"),Gt=we("isForcingUpdate");function or(e){var t=e.prototype;if(e[At]){var r=gr(t);console.warn("The provided component class ("+r+`) 
                has already been declared as an observer component.`)}else e[At]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==b.b){if(!t.shouldComponentUpdate)t.shouldComponentUpdate=sr;else if(t.shouldComponentUpdate!==sr)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}Ft(t,"props"),Ft(t,"state");var n=t.render;return t.render=function(){return pr.call(this,n)},vt(t,"componentWillUnmount",function(){var i;if(U()!==!0&&((i=this.render[Bt])===null||i===void 0||i.dispose(),this[It]=!0,!this.render[Bt])){var a=gr(this);console.warn("The reactive render of an observer class component ("+a+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function gr(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function pr(e){var t=this;if(U()===!0)return e.call(this);ft(this,Qt,!1),ft(this,Gt,!1);var r=gr(this),n=e.bind(this),i=!1,a=new c.c(r+".render()",function(){if(!i&&(i=!0,t[It]!==!0)){var d=!0;try{ft(t,Gt,!0),t[Qt]||b.a.prototype.forceUpdate.call(t),d=!1}finally{ft(t,Gt,!1),d&&a.dispose()}}});a.reactComponent=this,l[Bt]=a,this.render=l;function l(){i=!1;var d=void 0,p=void 0;if(a.track(function(){try{p=Object(c.d)(!1,n)}catch(O){d=O}}),d)throw d;return p}return l.call(this)}function sr(e,t){return U()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t?!0:!Ge(this.props,e)}function Ft(e,t){var r=we("reactProp_"+t+"_valueHolder"),n=we("reactProp_"+t+"_atomHolder");function i(){return this[n]||ft(this,n,Object(c.o)("reactive "+t)),this[n]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var l=!1;return c.f&&c.e&&(l=Object(c.f)(!0)),i.call(this).reportObserved(),c.f&&c.e&&Object(c.e)(l),this[r]},set:function(l){!this[Gt]&&!Ge(this[r],l)?(ft(this,r,l),ft(this,Qt,!0),i.call(this).reportChanged(),ft(this,Qt,!1)):ft(this,r,l)}})}var kt=typeof Symbol=="function"&&Symbol.for,nr=kt?Symbol.for("react.forward_ref"):typeof b.e=="function"&&Object(b.e)(function(e){return null}).$$typeof,We=kt?Symbol.for("react.memo"):typeof b.f=="function"&&Object(b.f)(function(e){return null}).$$typeof;function ot(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),We&&e.$$typeof===We)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(nr&&e.$$typeof===nr){var t=e.render;if(typeof t!="function")throw new Error("render property of ForwardRef was not a function");return Object(b.e)(function(){var n=arguments;return Object(b.c)(it,null,function(){return t.apply(void 0,n)})})}return typeof e=="function"&&(!e.prototype||!e.prototype.render)&&!e.isReactClass&&!Object.prototype.isPrototypeOf.call(b.a,e)?Re(e):or(e)}function $e(){return $e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$e.apply(this,arguments)}function ct(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var xt=b.d.createContext({});function Dt(e){var t=e.children,r=ct(e,["children"]),n=b.d.useContext(xt),i=b.d.useRef($e({},n,r)),a=i.current;if(!1)var l;return b.d.createElement(xt.Provider,{value:a},t)}Dt.displayName="MobXProvider";function k(e,t,r,n){var i=b.d.forwardRef(function(a,l){var d=$e({},a),p=b.d.useContext(xt);return Object.assign(d,e(p||{},d)||{}),l&&(d.ref=l),b.d.createElement(t,d)});return n&&(i=ot(i)),i.isMobxInjector=!0,st(t,i),i.wrappedComponent=t,i.displayName=G(t,r),i}function G(e,t){var r,n=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t?r="inject-with-"+t+"("+n+")":r="inject("+n+")",r}function g(e){return function(t,r){return e.forEach(function(n){if(!(n in r)){if(!(n in t))throw new Error("MobX injector: Store '"+n+"' is not available! Make sure it is provided by some Provider");r[n]=t[n]}}),r}}function P(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(typeof arguments[0]=="function"){var n=arguments[0];return function(i){return k(n,i,n.name,!0)}}else return function(i){return k(g(t),i,t.join("-"),!1)}}var R=we("disposeOnUnmountProto"),X=we("disposeOnUnmountInst");function je(){var e=this;[].concat(this[R]||[],this[X]||[]).forEach(function(t){var r=typeof t=="string"?e[t]:t;r!=null&&(Array.isArray(r)?r.map(function(n){return n()}):r())})}function Ae(e,t){if(Array.isArray(t))return t.map(function(p){return Ae(e,p)});var r=Object.getPrototypeOf(e).constructor,n=Object.getPrototypeOf(e.constructor),i=Object.getPrototypeOf(Object.getPrototypeOf(e));if(!(r===b.d.Component||r===b.d.PureComponent||n===b.d.Component||n===b.d.PureComponent||i===b.d.Component||i===b.d.PureComponent))throw new Error("[mobx-react] disposeOnUnmount only supports direct subclasses of React.Component or React.PureComponent.");if(typeof t!="string"&&typeof t!="function"&&!Array.isArray(t))throw new Error("[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.");var a=typeof t=="string",l=!!e[R]||!!e[X],d=a?e[R]||(e[R]=[]):e[X]||(e[X]=[]);if(d.push(t),l||vt(e,"componentWillUnmount",je),typeof t!="string")return t}function Ke(e){function t(n,i,a,l,d,p){for(var O=arguments.length,N=new Array(O>6?O-6:0),B=6;B<O;B++)N[B-6]=arguments[B];return Object(c.K)(function(){if(l=l||"<<anonymous>>",p=p||a,i[a]==null){if(n){var $=i[a]===null?"null":"undefined";return new Error("The "+d+" `"+p+"` is marked as required in `"+l+"`, but its value is `"+$+"`.")}return null}else return e.apply(void 0,[i,a,l,d,p].concat(N))})}var r=t.bind(null,!1);return r.isRequired=t.bind(null,!0),r}function Xe(e,t){return e==="symbol"||t["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&t instanceof Symbol}function nt(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":Xe(t,e)?"symbol":t}function Nt(e){var t=nt(e);if(t==="object"){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function bt(e,t){return Ke(function(r,n,i,a,l){return Object(c.K)(function(){if(e&&nt(r[n])===t.toLowerCase())return null;var d;switch(t){case"Array":d=c.y;break;case"Object":d=c.A;break;case"Map":d=c.z;break;default:throw new Error("Unexpected mobxType: "+t)}var p=r[n];if(!d(p)){var O=Nt(p),N=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+l+"` of type `"+O+"` supplied to `"+i+"`, expected `mobx.Observable"+t+"`"+N+".")}return null})})}function cr(e,t){return Ke(function(r,n,i,a,l){for(var d=arguments.length,p=new Array(d>5?d-5:0),O=5;O<d;O++)p[O-5]=arguments[O];return Object(c.K)(function(){if(typeof t!="function")return new Error("Property `"+l+"` of component `"+i+"` has invalid PropType notation.");var N=bt(e,"Array")(r,n,i,a,l);if(N instanceof Error)return N;for(var B=r[n],$=0;$<B.length;$++)if(N=t.apply(void 0,[B,$,i,a,l+"["+$+"]"].concat(p)),N instanceof Error)return N;return null})})}var ir=bt(!1,"Array"),Rr=cr.bind(null,!1),Ur=bt(!1,"Map"),sn=bt(!1,"Object"),$r=bt(!0,"Array"),Ui=cr.bind(null,!0),ba=bt(!0,"Object"),wl={observableArray:ir,observableArrayOf:Rr,observableMap:Ur,observableObject:sn,arrayOrObservableArray:$r,arrayOrObservableArrayOf:Ui,objectOrObservableObject:ba};if(!b.a)throw new Error("mobx-react requires React to be available");if(!c.C)throw new Error("mobx-react requires mobx to be available");var Se=u(1),co=u(3),wn=u(60),Ua=u(2),rn=u(6),Oa=u(4),Xn=u(11),no=u(41),ws=u(24),Yn=u(20),Al=u(5),ko=u(22),Xo=u(21),Nl=u(23),Je=u(8),As=u(9),Rd=u(17),Id=u(25),fc=u(19),Dl=u(29),$i=u(187),$a=u(192),ka=u(103),kr=u(152),Zr=u(153);function po(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Dr=po;function Ea(){this.__data__=[],this.size=0}var Xa=Ea;function vo(e,t){return e===t||e!==e&&t!==t}var xn=vo;function Ln(e,t){for(var r=e.length;r--;)if(xn(e[r][0],t))return r;return-1}var oo=Ln,mi=Array.prototype,Yo=mi.splice;function An(e){var t=this.__data__,r=oo(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Yo.call(t,r,1),--this.size,!0}var Sa=An;function Pn(e){var t=this.__data__,r=oo(t,e);return r<0?void 0:t[r][1]}var Wo=Pn;function yr(e){return oo(this.__data__,e)>-1}var zn=yr;function bi(e,t){var r=this.__data__,n=oo(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var jo=bi;function Fn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Fn.prototype.clear=Xa,Fn.prototype.delete=Sa,Fn.prototype.get=Wo,Fn.prototype.has=zn,Fn.prototype.set=jo;var Nn=Fn;function Oi(){this.__data__=new Nn,this.size=0}var Ei=Oi;function xa(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Ya=xa;function en(e){return this.__data__.get(e)}var Wa=en;function Pa(e){return this.__data__.has(e)}var io=Pa,zr=u(31),Ma=zr.a.Symbol,xr=Ma,Si=Object.prototype,Ka=Si.hasOwnProperty,Ta=Si.toString,fn=xr?xr.toStringTag:void 0;function ki(e){var t=Ka.call(e,fn),r=e[fn];try{e[fn]=void 0;var n=!0}catch(a){}var i=Ta.call(e);return n&&(t?e[fn]=r:delete e[fn]),i}var Va=ki,Ns=Object.prototype,xi=Ns.toString;function wa(e){return xi.call(e)}var ho=wa,Ko="[object Null]",ao="[object Undefined]",Pi=xr?xr.toStringTag:void 0;function Mi(e){return e==null?e===void 0?ao:Ko:Pi&&Pi in Object(e)?Va(e):ho(e)}var cn=Mi;function Co(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Tr=Co,Za="[object AsyncFunction]",Wn="[object Function]",Ds="[object GeneratorFunction]",js="[object Proxy]";function Ja(e){if(!Tr(e))return!1;var t=cn(e);return t==Wn||t==Ds||t==Za||t==js}var Vo=Ja,Ro=zr.a["__core-js_shared__"],Zo=Ro,Io=function(){var e=/[^.]+$/.exec(Zo&&Zo.keys&&Zo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ti(e){return!!Io&&Io in e}var Kn=Ti,Cs=Function.prototype,Dn=Cs.toString;function Jo(e){if(e!=null){try{return Dn.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var dn=Jo,Xi=/[\\^$.*+?()[\]{}|]/g,Rs=/^\[object .+?Constructor\]$/,Qa=Function.prototype,qa=Object.prototype,Yi=Qa.toString,_a=qa.hasOwnProperty,Aa=RegExp("^"+Yi.call(_a).replace(Xi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Wi(e){if(!Tr(e)||Kn(e))return!1;var t=Vo(e)?Aa:Rs;return t.test(dn(e))}var jn=Wi;function nn(e,t){return e==null?void 0:e[t]}var eu=nn;function Ki(e,t){var r=eu(e,t);return jn(r)?r:void 0}var pn=Ki,Xr=pn(zr.a,"Map"),Vn=Xr,Vi=pn(Object,"create"),Cn=Vi;function Bo(){this.__data__=Cn?Cn(null):{},this.size=0}var Lo=Bo;function Na(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var wi=Na,Yr="__lodash_hash_undefined__",Hn=Object.prototype,Gr=Hn.hasOwnProperty;function Fr(e){var t=this.__data__;if(Cn){var r=t[e];return r===Yr?void 0:r}return Gr.call(t,e)?t[e]:void 0}var Zn=Fr,Hr=Object.prototype,tu=Hr.hasOwnProperty;function jl(e){var t=this.__data__;return Cn?t[e]!==void 0:tu.call(t,e)}var ru=jl,yo="__lodash_hash_undefined__";function Jr(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Cn&&t===void 0?yo:t,this}var Qo=Jr;function ar(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ar.prototype.clear=Lo,ar.prototype.delete=wi,ar.prototype.get=Zn,ar.prototype.has=ru,ar.prototype.set=Qo;var qo=ar;function Ai(){this.size=0,this.__data__={hash:new qo,map:new(Vn||Nn),string:new qo}}var _o=Ai;function fr(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Zi=fr;function nu(e,t){var r=e.__data__;return Zi(t)?r[typeof t=="string"?"string":"hash"]:r.map}var uo=nu;function E(e){var t=uo(this,e).delete(e);return this.size-=t?1:0,t}var m=E;function y(e){return uo(this,e).get(e)}var S=y;function T(e){return uo(this,e).has(e)}var I=T;function K(e,t){var r=uo(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var ie=K;function be(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}be.prototype.clear=_o,be.prototype.delete=m,be.prototype.get=S,be.prototype.has=I,be.prototype.set=ie;var Ee=be,Te=200;function Ye(e,t){var r=this.__data__;if(r instanceof Nn){var n=r.__data__;if(!Vn||n.length<Te-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ee(n)}return r.set(e,t),this.size=r.size,this}var Qe=Ye;function qe(e){var t=this.__data__=new Nn(e);this.size=t.size}qe.prototype.clear=Ei,qe.prototype.delete=Ya,qe.prototype.get=Wa,qe.prototype.has=io,qe.prototype.set=Qe;var dt=qe,Lt="__lodash_hash_undefined__";function Ht(e){return this.__data__.set(e,Lt),this}var Yt=Ht;function Ct(e){return this.__data__.has(e)}var tr=Ct;function jr(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Ee;++t<r;)this.add(e[t])}jr.prototype.add=jr.prototype.push=Yt,jr.prototype.has=tr;var s=jr;function f(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var h=f;function D(e,t){return e.has(t)}var H=D,_=1,ge=2;function ze(e,t,r,n,i,a){var l=r&_,d=e.length,p=t.length;if(d!=p&&!(l&&p>d))return!1;var O=a.get(e),N=a.get(t);if(O&&N)return O==t&&N==e;var B=-1,$=!0,J=r&ge?new s:void 0;for(a.set(e,t),a.set(t,e);++B<d;){var fe=e[B],pe=t[B];if(n)var he=l?n(pe,fe,B,t,e,a):n(fe,pe,B,e,t,a);if(he!==void 0){if(he)continue;$=!1;break}if(J){if(!h(t,function(Ne,Fe){if(!H(J,Fe)&&(fe===Ne||i(fe,Ne,r,n,a)))return J.push(Fe)})){$=!1;break}}else if(!(fe===pe||i(fe,pe,r,n,a))){$=!1;break}}return a.delete(e),a.delete(t),$}var _e=ze,Rt=zr.a.Uint8Array,wt=Rt;function Xt(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var Wt=Xt;function Zt(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var mr=Zt,br=1,Ar=2,Jn="[object Boolean]",Ji="[object Date]",Is="[object Error]",ou="[object Map]",iu="[object Number]",Qi="[object RegExp]",au="[object Set]",qi="[object String]",OE="[object Symbol]",EE="[object ArrayBuffer]",SE="[object DataView]",Bd=xr?xr.prototype:void 0,Bs=Bd?Bd.valueOf:void 0;function xE(e,t,r,n,i,a,l){switch(r){case SE:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case EE:return!(e.byteLength!=t.byteLength||!a(new wt(e),new wt(t)));case Jn:case Ji:case iu:return xn(+e,+t);case Is:return e.name==t.name&&e.message==t.message;case Qi:case qi:return e==t+"";case ou:var d=Wt;case au:var p=n&br;if(d||(d=mr),e.size!=t.size&&!p)return!1;var O=l.get(e);if(O)return O==t;n|=Ar,l.set(e,t);var N=_e(d(e),d(t),n,i,a,l);return l.delete(e),N;case OE:if(Bs)return Bs.call(e)==Bs.call(t)}return!1}var PE=xE;function ME(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var Ls=ME,TE=Array.isArray,Ir=TE;function wE(e,t,r){var n=t(e);return Ir(e)?n:Ls(n,r(e))}var Ld=wE;function AE(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var l=e[r];t(l,r,e)&&(a[i++]=l)}return a}var NE=AE;function DE(){return[]}var zd=DE,jE=Object.prototype,CE=jE.propertyIsEnumerable,Fd=Object.getOwnPropertySymbols,RE=Fd?function(e){return e==null?[]:(e=Object(e),NE(Fd(e),function(t){return CE.call(e,t)}))}:zd,zs=RE;function IE(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var BE=IE;function LE(e){return e!=null&&typeof e=="object"}var hn=LE,zE="[object Arguments]";function FE(e){return hn(e)&&cn(e)==zE}var Hd=FE,Gd=Object.prototype,HE=Gd.hasOwnProperty,GE=Gd.propertyIsEnumerable,UE=Hd(function(){return arguments}())?Hd:function(e){return hn(e)&&HE.call(e,"callee")&&!GE.call(e,"callee")},_i=UE,ea=u(48),$E=9007199254740991,kE=/^(?:0|[1-9]\d*)$/;function XE(e,t){var r=typeof e;return t=t==null?$E:t,!!t&&(r=="number"||r!="symbol"&&kE.test(e))&&e>-1&&e%1==0&&e<t}var uu=XE,YE=9007199254740991;function WE(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=YE}var Fs=WE,KE="[object Arguments]",VE="[object Array]",ZE="[object Boolean]",JE="[object Date]",QE="[object Error]",qE="[object Function]",_E="[object Map]",eS="[object Number]",tS="[object Object]",rS="[object RegExp]",nS="[object Set]",oS="[object String]",iS="[object WeakMap]",aS="[object ArrayBuffer]",uS="[object DataView]",lS="[object Float32Array]",sS="[object Float64Array]",fS="[object Int8Array]",cS="[object Int16Array]",dS="[object Int32Array]",pS="[object Uint8Array]",vS="[object Uint8ClampedArray]",hS="[object Uint16Array]",yS="[object Uint32Array]",er={};er[lS]=er[sS]=er[fS]=er[cS]=er[dS]=er[pS]=er[vS]=er[hS]=er[yS]=!0,er[KE]=er[VE]=er[aS]=er[ZE]=er[uS]=er[JE]=er[QE]=er[qE]=er[_E]=er[eS]=er[tS]=er[rS]=er[nS]=er[oS]=er[iS]=!1;function gS(e){return hn(e)&&Fs(e.length)&&!!er[cn(e)]}var mS=gS;function bS(e){return function(t){return e(t)}}var Hs=bS,ei=u(49),Ud=ei.a&&ei.a.isTypedArray,OS=Ud?Hs(Ud):mS,Gs=OS,ES=Object.prototype,SS=ES.hasOwnProperty;function xS(e,t){var r=Ir(e),n=!r&&_i(e),i=!r&&!n&&Object(ea.a)(e),a=!r&&!n&&!i&&Gs(e),l=r||n||i||a,d=l?BE(e.length,String):[],p=d.length;for(var O in e)(t||SS.call(e,O))&&!(l&&(O=="length"||i&&(O=="offset"||O=="parent")||a&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||uu(O,p)))&&d.push(O);return d}var $d=xS,PS=Object.prototype;function MS(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||PS;return e===r}var lu=MS;function TS(e,t){return function(r){return e(t(r))}}var kd=TS,wS=kd(Object.keys,Object),AS=wS,NS=Object.prototype,DS=NS.hasOwnProperty;function jS(e){if(!lu(e))return AS(e);var t=[];for(var r in Object(e))DS.call(e,r)&&r!="constructor"&&t.push(r);return t}var CS=jS;function RS(e){return e!=null&&Fs(e.length)&&!Vo(e)}var go=RS;function IS(e){return go(e)?$d(e):CS(e)}var ti=IS;function BS(e){return Ld(e,ti,zs)}var Us=BS,LS=1,zS=Object.prototype,FS=zS.hasOwnProperty;function HS(e,t,r,n,i,a){var l=r&LS,d=Us(e),p=d.length,O=Us(t),N=O.length;if(p!=N&&!l)return!1;for(var B=p;B--;){var $=d[B];if(!(l?$ in t:FS.call(t,$)))return!1}var J=a.get(e),fe=a.get(t);if(J&&fe)return J==t&&fe==e;var pe=!0;a.set(e,t),a.set(t,e);for(var he=l;++B<p;){$=d[B];var Ne=e[$],Fe=t[$];if(n)var Le=l?n(Fe,Ne,$,t,e,a):n(Ne,Fe,$,e,t,a);if(!(Le===void 0?Ne===Fe||i(Ne,Fe,r,n,a):Le)){pe=!1;break}he||(he=$=="constructor")}if(pe&&!he){var ke=e.constructor,rt=t.constructor;ke!=rt&&"constructor"in e&&"constructor"in t&&!(typeof ke=="function"&&ke instanceof ke&&typeof rt=="function"&&rt instanceof rt)&&(pe=!1)}return a.delete(e),a.delete(t),pe}var GS=HS,US=pn(zr.a,"DataView"),$s=US,$S=pn(zr.a,"Promise"),ks=$S,kS=pn(zr.a,"Set"),Xs=kS,XS=pn(zr.a,"WeakMap"),Ys=XS,Xd="[object Map]",YS="[object Object]",Yd="[object Promise]",Wd="[object Set]",Kd="[object WeakMap]",Vd="[object DataView]",WS=dn($s),KS=dn(Vn),VS=dn(ks),ZS=dn(Xs),JS=dn(Ys),mo=cn;($s&&mo(new $s(new ArrayBuffer(1)))!=Vd||Vn&&mo(new Vn)!=Xd||ks&&mo(ks.resolve())!=Yd||Xs&&mo(new Xs)!=Wd||Ys&&mo(new Ys)!=Kd)&&(mo=function(e){var t=cn(e),r=t==YS?e.constructor:void 0,n=r?dn(r):"";if(n)switch(n){case WS:return Vd;case KS:return Xd;case VS:return Yd;case ZS:return Wd;case JS:return Kd}return t});var ta=mo,QS=1,Zd="[object Arguments]",Jd="[object Array]",su="[object Object]",qS=Object.prototype,Qd=qS.hasOwnProperty;function _S(e,t,r,n,i,a){var l=Ir(e),d=Ir(t),p=l?Jd:ta(e),O=d?Jd:ta(t);p=p==Zd?su:p,O=O==Zd?su:O;var N=p==su,B=O==su,$=p==O;if($&&Object(ea.a)(e)){if(!Object(ea.a)(t))return!1;l=!0,N=!1}if($&&!N)return a||(a=new dt),l||Gs(e)?_e(e,t,r,n,i,a):PE(e,t,p,r,n,i,a);if(!(r&QS)){var J=N&&Qd.call(e,"__wrapped__"),fe=B&&Qd.call(t,"__wrapped__");if(J||fe){var pe=J?e.value():e,he=fe?t.value():t;return a||(a=new dt),i(pe,he,r,n,a)}}return $?(a||(a=new dt),GS(e,t,r,n,i,a)):!1}var ex=_S;function qd(e,t,r,n,i){return e===t?!0:e==null||t==null||!hn(e)&&!hn(t)?e!==e&&t!==t:ex(e,t,r,n,qd,i)}var Ws=qd,tx=1,rx=2;function nx(e,t,r,n){var i=r.length,a=i,l=!n;if(e==null)return!a;for(e=Object(e);i--;){var d=r[i];if(l&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++i<a;){d=r[i];var p=d[0],O=e[p],N=d[1];if(l&&d[2]){if(O===void 0&&!(p in e))return!1}else{var B=new dt;if(n)var $=n(O,N,p,e,t,B);if(!($===void 0?Ws(N,O,tx|rx,n,B):$))return!1}}return!0}var ox=nx;function ix(e){return e===e&&!Tr(e)}var _d=ix;function ax(e){for(var t=ti(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,_d(i)]}return t}var ux=ax;function lx(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var ep=lx;function sx(e){var t=ux(e);return t.length==1&&t[0][2]?ep(t[0][0],t[0][1]):function(r){return r===e||ox(r,e,t)}}var fx=sx,cx="[object Symbol]";function dx(e){return typeof e=="symbol"||hn(e)&&cn(e)==cx}var fu=dx,px=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vx=/^\w*$/;function hx(e,t){if(Ir(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||fu(e)?!0:vx.test(e)||!px.test(e)||t!=null&&e in Object(t)}var Ks=hx,yx="Expected a function";function Vs(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(yx);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var l=e.apply(this,n);return r.cache=a.set(i,l)||a,l};return r.cache=new(Vs.Cache||Ee),r}Vs.Cache=Ee;var gx=Vs,mx=500;function bx(e){var t=gx(e,function(n){return r.size===mx&&r.clear(),n}),r=t.cache;return t}var Ox=bx,Ex=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sx=/\\(\\)?/g,xx=Ox(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ex,function(r,n,i,a){t.push(i?a.replace(Sx,"$1"):n||r)}),t}),Px=xx,Mx=1/0,tp=xr?xr.prototype:void 0,rp=tp?tp.toString:void 0;function np(e){if(typeof e=="string")return e;if(Ir(e))return Dr(e,np)+"";if(fu(e))return rp?rp.call(e):"";var t=e+"";return t=="0"&&1/e==-Mx?"-0":t}var Tx=np;function wx(e){return e==null?"":Tx(e)}var Ax=wx;function Nx(e,t){return Ir(e)?e:Ks(e,t)?[e]:Px(Ax(e))}var cu=Nx,Dx=1/0;function jx(e){if(typeof e=="string"||fu(e))return e;var t=e+"";return t=="0"&&1/e==-Dx?"-0":t}var ra=jx;function Cx(e,t){t=cu(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[ra(t[r++])];return r&&r==n?e:void 0}var Zs=Cx;function Rx(e,t,r){var n=e==null?void 0:Zs(e,t);return n===void 0?r:n}var op=Rx;function Ix(e,t){return e!=null&&t in Object(e)}var Bx=Ix;function Lx(e,t,r){t=cu(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var l=ra(t[n]);if(!(a=e!=null&&r(e,l)))break;e=e[l]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&Fs(i)&&uu(l,i)&&(Ir(e)||_i(e)))}var zx=Lx;function Fx(e,t){return e!=null&&zx(e,t,Bx)}var ip=Fx,Hx=1,Gx=2;function Ux(e,t){return Ks(e)&&_d(t)?ep(ra(e),t):function(r){var n=op(r,e);return n===void 0&&n===t?ip(r,e):Ws(t,n,Hx|Gx)}}var $x=Ux;function kx(e){return e}var Js=kx;function Xx(e){return function(t){return t==null?void 0:t[e]}}var Yx=Xx;function Wx(e){return function(t){return Zs(t,e)}}var Kx=Wx;function Vx(e){return Ks(e)?Yx(ra(e)):Kx(e)}var Zx=Vx;function Jx(e){return typeof e=="function"?e:e==null?Js:typeof e=="object"?Ir(e)?$x(e[0],e[1]):fx(e):Zx(e)}var Qx=Jx;function qx(e){return function(t,r,n){for(var i=-1,a=Object(t),l=n(t),d=l.length;d--;){var p=l[e?d:++i];if(r(a[p],p,a)===!1)break}return t}}var _x=qx,eP=_x(),ap=eP;function tP(e,t){return e&&ap(e,t,ti)}var rP=tP;function nP(e,t){return function(r,n){if(r==null)return r;if(!go(r))return e(r,n);for(var i=r.length,a=t?i:-1,l=Object(r);(t?a--:++a<i)&&n(l[a],a,l)!==!1;);return r}}var oP=nP,iP=oP(rP),aP=iP;function uP(e,t){var r=-1,n=go(e)?Array(e.length):[];return aP(e,function(i,a,l){n[++r]=t(i,a,l)}),n}var lP=uP;function sP(e,t){var r=Ir(e)?Dr:lP;return r(e,Qx(t,3))}var du=sP,fP=function(){try{var e=pn(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),pu=fP;function cP(e,t,r){t=="__proto__"&&pu?pu(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Qs=cP,dP=Object.prototype,pP=dP.hasOwnProperty;function vP(e,t,r){var n=e[t];(!(pP.call(e,t)&&xn(n,r))||r===void 0&&!(t in e))&&Qs(e,t,r)}var vu=vP;function hP(e,t,r,n){var i=!r;r||(r={});for(var a=-1,l=t.length;++a<l;){var d=t[a],p=n?n(r[d],e[d],d,r,e):void 0;p===void 0&&(p=e[d]),i?Qs(r,d,p):vu(r,d,p)}return r}var ri=hP;function yP(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var gP=yP,up=Math.max;function mP(e,t,r){return t=up(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=up(n.length-t,0),l=Array(a);++i<a;)l[i]=n[t+i];i=-1;for(var d=Array(t+1);++i<t;)d[i]=n[i];return d[t]=r(l),gP(e,this,d)}}var lp=mP;function bP(e){return function(){return e}}var OP=bP,EP=pu?function(e,t){return pu(e,"toString",{configurable:!0,enumerable:!1,value:OP(t),writable:!0})}:Js,SP=EP,xP=800,PP=16,MP=Date.now;function TP(e){var t=0,r=0;return function(){var n=MP(),i=PP-(n-r);if(r=n,i>0){if(++t>=xP)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var wP=TP,AP=wP(SP),sp=AP;function NP(e,t){return sp(lp(e,t,Js),e+"")}var DP=NP;function jP(e,t,r){if(!Tr(r))return!1;var n=typeof t;return(n=="number"?go(r)&&uu(t,r.length):n=="string"&&t in r)?xn(r[t],e):!1}var CP=jP;function RP(e){return DP(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,l=i>2?r[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,l&&CP(r[0],r[1],l)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var d=r[n];d&&e(t,d,n,a)}return t})}var fp=RP,IP=Object.prototype,BP=IP.hasOwnProperty,LP=fp(function(e,t){if(lu(t)||go(t)){ri(t,ti(t),e);return}for(var r in t)BP.call(t,r)&&vu(e,r,t[r])}),Br=LP;function zP(e,t,r,n){if(!Tr(e))return e;t=cu(t,e);for(var i=-1,a=t.length,l=a-1,d=e;d!=null&&++i<a;){var p=ra(t[i]),O=r;if(p==="__proto__"||p==="constructor"||p==="prototype")return e;if(i!=l){var N=d[p];O=n?n(N,p,d):void 0,O===void 0&&(O=Tr(N)?N:uu(t[i+1])?[]:{})}vu(d,p,O),d=d[p]}return e}var FP=zP;function HP(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var l=t[n],d=Zs(e,l);r(d,l)&&FP(a,cu(l,e),d)}return a}var GP=HP;function UP(e,t){return GP(e,t,function(r,n){return ip(e,n)})}var $P=UP,cp=xr?xr.isConcatSpreadable:void 0;function kP(e){return Ir(e)||_i(e)||!!(cp&&e&&e[cp])}var XP=kP;function dp(e,t,r,n,i){var a=-1,l=e.length;for(r||(r=XP),i||(i=[]);++a<l;){var d=e[a];t>0&&r(d)?t>1?dp(d,t-1,r,n,i):Ls(i,d):n||(i[i.length]=d)}return i}var YP=dp;function WP(e){var t=e==null?0:e.length;return t?YP(e,1):[]}var KP=WP;function VP(e){return sp(lp(e,void 0,KP),e+"")}var ZP=VP,JP=ZP(function(e,t){return e==null?{}:$P(e,t)}),na=JP,lr,pp,vp,hp,yp,gp,mp,bp,Op,Ep,Sp,xp,Pp,Mp,Tp,wp,Ap,Np;function Pr(e,t,r,n){!r||Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function QP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qP(e,t,r){return t&&Dp(e.prototype,t),r&&Dp(e,r),e}function jp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sr(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(l,d){return d(e,t,l)||l},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,t,a),a=null),a}function _C(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var _P={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},qs=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Cp=(lr=function(){function e(t){QP(this,e),Pr(this,"isSilentMode",pp,this),Pr(this,"stopZoomGraph",vp,this),Pr(this,"stopScrollGraph",hp,this),Pr(this,"stopMoveGraph",yp,this),Pr(this,"adjustEdge",gp,this),Pr(this,"adjustEdgeMiddle",mp,this),Pr(this,"adjustEdgeStartAndEnd",bp,this),Pr(this,"adjustNodePosition",Op,this),Pr(this,"hideAnchors",Ep,this),Pr(this,"hoverOutline",Sp,this),Pr(this,"nodeSelectedOutline",xp,this),Pr(this,"edgeSelectedOutline",Pp,this),Pr(this,"nodeTextEdit",Mp,this),Pr(this,"edgeTextEdit",Tp,this),Pr(this,"nodeTextDraggable",wp,this),Pr(this,"edgeTextDraggable",Ap,this),Pr(this,"autoExpand",Np,this),jp(this,"multipleSelectKey",""),jp(this,"defaultConfig",{}),Br(this,this.getConfigDetail(t))}return qP(e,[{key:"updateEditConfig",value:function(r){var n=this.getConfigDetail(r);Br(this,n)}},{key:"getConfigDetail",value:function(r){var n=r.isSilentMode,i=r.textEdit,a={};if(n===!1&&Br(a,this.defaultConfig),n===!0){var l=na(_P,qs);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},Br(a,l)}i===!1&&Br(a,{nodeTextEdit:!1,edgeTextEdit:!1});var d=na(r,qs);return Br(a,d)}},{key:"getConfig",value:function(){return na(this,qs)}}]),e}(),pp=Sr(lr.prototype,"isSilentMode",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vp=Sr(lr.prototype,"stopZoomGraph",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hp=Sr(lr.prototype,"stopScrollGraph",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yp=Sr(lr.prototype,"stopMoveGraph",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gp=Sr(lr.prototype,"adjustEdge",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),mp=Sr(lr.prototype,"adjustEdgeMiddle",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bp=Sr(lr.prototype,"adjustEdgeStartAndEnd",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Op=Sr(lr.prototype,"adjustNodePosition",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ep=Sr(lr.prototype,"hideAnchors",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Sp=Sr(lr.prototype,"hoverOutline",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xp=Sr(lr.prototype,"nodeSelectedOutline",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Pp=Sr(lr.prototype,"edgeSelectedOutline",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Mp=Sr(lr.prototype,"nodeTextEdit",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Tp=Sr(lr.prototype,"edgeTextEdit",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wp=Sr(lr.prototype,"nodeTextDraggable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ap=Sr(lr.prototype,"edgeTextDraggable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Np=Sr(lr.prototype,"autoExpand",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Sr(lr.prototype,"updateEditConfig",[c.k],Object.getOwnPropertyDescriptor(lr.prototype,"updateEditConfig"),lr.prototype),lr),eR=u(77),Kt;(function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(Kt||(Kt={}));var Rp;(function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"})(Rp||(Rp={}));var zt;(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"})(zt||(zt={}));var Or;(function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"})(Or||(Or={}));var Mt;(function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"})(Mt||(Mt={}));var Jt;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(Jt||(Jt={}));var Ip=9999,Wr;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(Wr||(Wr={}));var dr,Bp,Lp,zp,Fp,Hp,Gp,Up;function hu(e,t){return nM(e)||rM(e,t)||tM(e,t)||eM()}function eM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tM(e,t){if(!!e){if(typeof e=="string")return $p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $p(e,t)}}function $p(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rM(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function nM(e){if(Array.isArray(e))return e}function bo(e,t,r,n){!r||Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function oM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iM(e,t,r){return t&&kp(e.prototype,t),r&&kp(e,r),e}function _s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function on(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(l,d){return d(e,t,l)||l},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,t,a),a=null),a}function tR(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var aM=(dr=function(){function e(t){oM(this,e),_s(this,"MINI_SCALE_SIZE",.2),_s(this,"MAX_SCALE_SIZE",16),bo(this,"SCALE_X",Bp,this),bo(this,"SKEW_Y",Lp,this),bo(this,"SKEW_X",zp,this),bo(this,"SCALE_Y",Fp,this),bo(this,"TRANSLATE_X",Hp,this),bo(this,"TRANSLATE_Y",Gp,this),bo(this,"ZOOM_SIZE",Up,this),_s(this,"eventCenter",void 0),this.eventCenter=t}return iM(e,[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var n=hu(r,2),i=n[0],a=n[1];return[(i-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var n=hu(r,2),i=n[0],a=n[1];return[i*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,n,i){var a=hu(r,2),l=a[0],d=a[1];return[l+n/this.SCALE_X,d+i/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,n){return[r/this.SCALE_X,n/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1?arguments[1]:void 0,i=this.SCALE_X,a=this.SCALE_Y;return r===!0?(i+=this.ZOOM_SIZE,a+=this.ZOOM_SIZE):r===!1?(i-=this.ZOOM_SIZE,a-=this.ZOOM_SIZE):typeof r=="number"&&(i=r,a=r),i<this.MINI_SCALE_SIZE||i>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(n&&(this.TRANSLATE_X-=(i-this.SCALE_X)*n[0],this.TRANSLATE_Y-=(a-this.SCALE_Y)*n[1]),this.SCALE_X=i,this.SCALE_Y=a,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(Mt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,n){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=n,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,n,i,a){var l=this.CanvasPointToHtmlPoint([r,n]),d=hu(l,2),p=d[0],O=d[1],N=i/2-p,B=a/2-O;this.TRANSLATE_X+=N,this.TRANSLATE_Y+=B,this.emitGraphTransform("focusOn")}}]),e}(),Bp=on(dr.prototype,"SCALE_X",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Lp=on(dr.prototype,"SKEW_Y",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zp=on(dr.prototype,"SKEW_X",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fp=on(dr.prototype,"SCALE_Y",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Hp=on(dr.prototype,"TRANSLATE_X",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Gp=on(dr.prototype,"TRANSLATE_Y",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Up=on(dr.prototype,"ZOOM_SIZE",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),on(dr.prototype,"zoom",[c.k],Object.getOwnPropertyDescriptor(dr.prototype,"zoom"),dr.prototype),on(dr.prototype,"resetZoom",[c.k],Object.getOwnPropertyDescriptor(dr.prototype,"resetZoom"),dr.prototype),on(dr.prototype,"translate",[c.k],Object.getOwnPropertyDescriptor(dr.prototype,"translate"),dr.prototype),on(dr.prototype,"focusOn",[c.k],Object.getOwnPropertyDescriptor(dr.prototype,"focusOn"),dr.prototype),dr);function uM(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var lM=uM;function sM(e,t){return e&&ri(t,ti(t),e)}var fM=sM;function cM(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var dM=cM,pM=Object.prototype,vM=pM.hasOwnProperty;function hM(e){if(!Tr(e))return dM(e);var t=lu(e),r=[];for(var n in e)n=="constructor"&&(t||!vM.call(e,n))||r.push(n);return r}var yM=hM;function gM(e){return go(e)?$d(e,!0):yM(e)}var oa=gM;function mM(e,t){return e&&ri(t,oa(t),e)}var bM=mM,Xp=u(106);function OM(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Yp=OM;function EM(e,t){return ri(e,zs(e),t)}var SM=EM,xM=kd(Object.getPrototypeOf,Object),ef=xM,PM=Object.getOwnPropertySymbols,MM=PM?function(e){for(var t=[];e;)Ls(t,zs(e)),e=ef(e);return t}:zd,Wp=MM;function TM(e,t){return ri(e,Wp(e),t)}var wM=TM;function AM(e){return Ld(e,oa,Wp)}var NM=AM,DM=Object.prototype,jM=DM.hasOwnProperty;function CM(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&jM.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var RM=CM;function IM(e){var t=new e.constructor(e.byteLength);return new wt(t).set(new wt(e)),t}var tf=IM;function BM(e,t){var r=t?tf(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var LM=BM,zM=/\w*$/;function FM(e){var t=new e.constructor(e.source,zM.exec(e));return t.lastIndex=e.lastIndex,t}var HM=FM,Kp=xr?xr.prototype:void 0,Vp=Kp?Kp.valueOf:void 0;function GM(e){return Vp?Object(Vp.call(e)):{}}var UM=GM;function $M(e,t){var r=t?tf(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Zp=$M,kM="[object Boolean]",XM="[object Date]",YM="[object Map]",WM="[object Number]",KM="[object RegExp]",VM="[object Set]",ZM="[object String]",JM="[object Symbol]",QM="[object ArrayBuffer]",qM="[object DataView]",_M="[object Float32Array]",eT="[object Float64Array]",tT="[object Int8Array]",rT="[object Int16Array]",nT="[object Int32Array]",oT="[object Uint8Array]",iT="[object Uint8ClampedArray]",aT="[object Uint16Array]",uT="[object Uint32Array]";function lT(e,t,r){var n=e.constructor;switch(t){case QM:return tf(e);case kM:case XM:return new n(+e);case qM:return LM(e,r);case _M:case eT:case tT:case rT:case nT:case oT:case iT:case aT:case uT:return Zp(e,r);case YM:return new n;case WM:case ZM:return new n(e);case KM:return HM(e);case VM:return new n;case JM:return UM(e)}}var sT=lT,Jp=Object.create,fT=function(){function e(){}return function(t){if(!Tr(t))return{};if(Jp)return Jp(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),cT=fT;function dT(e){return typeof e.constructor=="function"&&!lu(e)?cT(ef(e)):{}}var Qp=dT,pT="[object Map]";function vT(e){return hn(e)&&ta(e)==pT}var hT=vT,qp=ei.a&&ei.a.isMap,yT=qp?Hs(qp):hT,gT=yT,mT="[object Set]";function bT(e){return hn(e)&&ta(e)==mT}var OT=bT,_p=ei.a&&ei.a.isSet,ET=_p?Hs(_p):OT,ST=ET,xT=1,PT=2,MT=4,ev="[object Arguments]",TT="[object Array]",wT="[object Boolean]",AT="[object Date]",NT="[object Error]",tv="[object Function]",DT="[object GeneratorFunction]",jT="[object Map]",CT="[object Number]",rv="[object Object]",RT="[object RegExp]",IT="[object Set]",BT="[object String]",LT="[object Symbol]",zT="[object WeakMap]",FT="[object ArrayBuffer]",HT="[object DataView]",GT="[object Float32Array]",UT="[object Float64Array]",$T="[object Int8Array]",kT="[object Int16Array]",XT="[object Int32Array]",YT="[object Uint8Array]",WT="[object Uint8ClampedArray]",KT="[object Uint16Array]",VT="[object Uint32Array]",qt={};qt[ev]=qt[TT]=qt[FT]=qt[HT]=qt[wT]=qt[AT]=qt[GT]=qt[UT]=qt[$T]=qt[kT]=qt[XT]=qt[jT]=qt[CT]=qt[rv]=qt[RT]=qt[IT]=qt[BT]=qt[LT]=qt[YT]=qt[WT]=qt[KT]=qt[VT]=!0,qt[NT]=qt[tv]=qt[zT]=!1;function yu(e,t,r,n,i,a){var l,d=t&xT,p=t&PT,O=t&MT;if(r&&(l=i?r(e,n,i,a):r(e)),l!==void 0)return l;if(!Tr(e))return e;var N=Ir(e);if(N){if(l=RM(e),!d)return Yp(e,l)}else{var B=ta(e),$=B==tv||B==DT;if(Object(ea.a)(e))return Object(Xp.a)(e,d);if(B==rv||B==ev||$&&!i){if(l=p||$?{}:Qp(e),!d)return p?wM(e,bM(l,e)):SM(e,fM(l,e))}else{if(!qt[B])return i?e:{};l=sT(e,B,d)}}a||(a=new dt);var J=a.get(e);if(J)return J;a.set(e,l),ST(e)?e.forEach(function(he){l.add(yu(he,t,r,he,e,a))}):gT(e)&&e.forEach(function(he,Ne){l.set(Ne,yu(he,t,r,Ne,e,a))});var fe=O?p?NM:Us:p?oa:ti,pe=N?void 0:fe(e);return lM(pe||e,function(he,Ne){pe&&(Ne=he,he=e[Ne]),vu(l,Ne,yu(he,t,r,Ne,e,a))}),l}var ZT=yu,JT=1,QT=4;function qT(e){return ZT(e,JT|QT)}var ur=qT;function _T(e,t,r){(r!==void 0&&!xn(e[t],r)||r===void 0&&!(t in e))&&Qs(e,t,r)}var rf=_T;function ew(e){return hn(e)&&go(e)}var tw=ew,rw="[object Object]",nw=Function.prototype,ow=Object.prototype,nv=nw.toString,iw=ow.hasOwnProperty,aw=nv.call(Object);function uw(e){if(!hn(e)||cn(e)!=rw)return!1;var t=ef(e);if(t===null)return!0;var r=iw.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&nv.call(r)==aw}var lw=uw;function sw(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var nf=sw;function fw(e){return ri(e,oa(e))}var cw=fw;function dw(e,t,r,n,i,a,l){var d=nf(e,r),p=nf(t,r),O=l.get(p);if(O){rf(e,r,O);return}var N=a?a(d,p,r+"",e,t,l):void 0,B=N===void 0;if(B){var $=Ir(p),J=!$&&Object(ea.a)(p),fe=!$&&!J&&Gs(p);N=p,$||J||fe?Ir(d)?N=d:tw(d)?N=Yp(d):J?(B=!1,N=Object(Xp.a)(p,!0)):fe?(B=!1,N=Zp(p,!0)):N=[]:lw(p)||_i(p)?(N=d,_i(d)?N=cw(d):(!Tr(d)||Vo(d))&&(N=Qp(p))):B=!1}B&&(l.set(p,N),i(N,p,n,a,l),l.delete(p)),rf(e,r,N)}var pw=dw;function ov(e,t,r,n,i){e!==t&&ap(t,function(a,l){if(i||(i=new dt),Tr(a))pw(e,t,l,r,ov,n,i);else{var d=n?n(nf(e,l),a,l+"",e,t,i):void 0;d===void 0&&(d=a),rf(e,l,d)}},oa)}var vw=ov,hw=fp(function(e,t,r){vw(e,t,r)}),iv=hw,yw={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},av=function(t){var r=ur(yw);return t&&(r=iv(r,t)),r},rR=u(78),nR=u(158);function gw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mw(e,t,r){return t&&uv(e.prototype,t),r&&uv(e,r),e}function bw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ow="*",Ew=function(){function e(){gw(this,e),bw(this,"_events",{})}return mw(e,[{key:"on",value:function(r,n,i){var a=this;return r==null||r.split(",").forEach(function(l){l=l.trim(),a._events[l]||(a._events[l]=[]),a._events[l].push({callback:n,once:!!i})}),this}},{key:"once",value:function(r,n){var i=this;r==null||r.split(",").forEach(function(a){return a=a.trim(),i.on(a,n,!0)})}},{key:"emit",value:function(r,n){var i=this;r==null||r.split(",").forEach(function(a){var l=i._events[a]||[],d=i._events[Ow]||[],p=function(N){for(var B=N.length,$=0;$<B;$++)if(!!N[$]){var J=N[$],fe=J.callback,pe=J.once;pe&&(N.splice($,1),N.length===0&&delete i._events[a],B--,$--),fe.apply(i,[n])}};p(l),p(d)})}},{key:"off",value:function(r,n){var i=this;return r||(this._events={}),r.split(",").forEach(function(a){if(!n)delete i._events[a];else{for(var l=i._events[a]||[],d=l.length,p=0;p<d;p++)l[p].callback===n&&(l.splice(p,1),d--,p--);l.length===0&&delete i._events[a]}}),this}},{key:"getEvents",value:function(){return this._events}}]),e}();function Oo(e,t){return t*Math.round(e/t)||e}function lv(e,t){return e%t}function of(e,t){return Mw(e)||Pw(e,t)||xw(e,t)||Sw()}function Sw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xw(e,t){if(!!e){if(typeof e=="string")return sv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sv(e,t)}}function sv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pw(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function Mw(e){if(Array.isArray(e))return e}var oR=function(t,r){for(var n,i=0;i<r.length;i++)r[i].id===t&&(n=r[i]);return n},af=function(t,r,n){var i=of(t,2),a=i[0],l=i[1],d=of(r,2),p=d[0],O=d[1],N=of(n,2),B=N[0],$=N[1];return a>p&&a<B&&l>O&&l<$},fv=function(t,r){var n=r.multipleSelectKey,i=!1;switch(n){case"meta":i=t.metaKey;break;case"alt":i=t.altKey;break;case"shift":i=t.shiftKey;break;default:i=!1;break}return i},iR=u(79),aR=u(161),uR=u(125),lR=u(80),sR=u(30),fR=u(12),cR=u(13),dR=u(14),pR=u(47),gu,Tw=new Uint8Array(16);function ww(){if(!gu&&(gu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!gu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gu(Tw)}var Aw=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Nw(e){return typeof e=="string"&&Aw.test(e)}for(var Dw=Nw,Mr=[],uf=0;uf<256;++uf)Mr.push((uf+256).toString(16).substr(1));function jw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Mr[e[t+0]]+Mr[e[t+1]]+Mr[e[t+2]]+Mr[e[t+3]]+"-"+Mr[e[t+4]]+Mr[e[t+5]]+"-"+Mr[e[t+6]]+Mr[e[t+7]]+"-"+Mr[e[t+8]]+Mr[e[t+9]]+"-"+Mr[e[t+10]]+Mr[e[t+11]]+Mr[e[t+12]]+Mr[e[t+13]]+Mr[e[t+14]]+Mr[e[t+15]]).toLowerCase();if(!Dw(r))throw TypeError("Stringified UUID is invalid");return r}var Cw=jw;function Rw(e,t,r){e=e||{};var n=e.random||(e.rng||ww)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return Cw(n)}var lf=Rw,Eo=function(){var t=lf();return t},Iw=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(i,a){return i[a.id]=r+lf(),a.id=i[a.id],i},{});return t.edges.forEach(function(i){i.id=r+lf(),i.sourceNodeId=n[i.sourceNodeId],i.targetNodeId=n[i.targetNodeId]}),t},vR=u(104),hR=u(203),Bw=function(t,r,n,i){var a=(r.y-t.y)*(i.x-n.x)-(t.x-r.x)*(n.y-i.y);if(a===0)return!1;var l=((r.x-t.x)*(i.x-n.x)*(n.y-t.y)+(r.y-t.y)*(i.x-n.x)*t.x-(i.y-n.y)*(r.x-t.x)*n.x)/a,d=-((r.y-t.y)*(i.y-n.y)*(n.x-t.x)+(r.x-t.x)*(i.y-n.y)*t.y-(i.x-n.x)*(r.y-t.y)*n.y)/a;return(l-t.x)*(l-r.x)<=0&&(d-t.y)*(d-r.y)<=0&&(l-n.x)*(l-i.x)<=0&&(d-n.y)*(d-i.y)<=0?{x:l,y:d}:!1},ia=function(t,r,n){var i=t.x,a=t.y;return(i-r.x)*(i-n.x)<=0&&(a-r.y)*(a-n.y)<=0};function mu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mu=function(r){return typeof r}:mu=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mu(e)}function cv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cv(Object(r),!0).forEach(function(n){Lw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sf=function(t){var r=t.anchors;return r},bu=function(t,r){for(var n=r.nodes,i,a=n.length-1;a>=0;a--){var l=n[a],d=Hw(t,l);if(d){var p=Fw(t,l);if(p){var O={node:l,anchorIndex:p.index,anchor:p.anchor};(!i||zw(l,i.node,r))&&(i=O)}}}return i},zw=function(t,r,n){return t.zIndex>r.zIndex||n.nodesMap[t.id].index>n.nodesMap[r.id].index},Fw=function(t,r){for(var n=sf(r),i,a=Number.MAX_SAFE_INTEGER,l=0;l<n.length;l++){var d=yn(t.x,t.y,n[l].x,n[l].y);d<a&&(a=d,i={index:l,anchor:dv(dv({},n[l]),{},{x:n[l].x,y:n[l].y,id:n[l].id})})}return i},yn=function(t,r,n,i){return Math.hypot(t-n,r-i)},Qn=function(t,r){var n=!1,i=0,a=Kr(r);return t.x>=a.minX-i&&t.x<=a.maxX+i&&t.y>=a.minY-i&&t.y<=a.maxY+i&&(n=!0),n},Hw=function(t,r){var n=!1,i=5,a=Kr(r);return t.x>=a.minX-i&&t.x<=a.maxX+i&&t.y>=a.minY-i&&t.y<=a.maxY+i&&(n=!0),n},Kr=function(t){var r=t.x,n=t.y,i=t.width,a=t.height,l={minX:r-i/2,minY:n-a/2,maxX:r+i/2,maxY:n+a/2,x:r,y:n,width:i,height:a,centerX:r,centerY:n};return l},Gw=function(t){var r=t,n=r.x,i=r.y,a=r.width,l=r.height,d=r.radius,p=[{x:n-a/2+d,y:i-l/2+d,r:d},{x:n+a/2-d,y:i-l/2+d,r:d},{x:n-a/2+d,y:i+l/2-d,r:d},{x:n+a/2-d,y:i+l/2-d,r:d}];return p},pv=function(t,r,n){var i=Gw(n),a,l=Number.MAX_SAFE_INTEGER;i.forEach(function(p){var O=yn(t.x,t.y,p.x,p.y);O<l&&(l=O,a=p)});var d=ff(t,r,a);return d},ff=function(t,r,n){var i,a=n,l=a.x,d=a.y,p=a.r;if(r===Jt.HORIZONTAL){var O=l-Math.sqrt(p*p-(t.y-d)*(t.y-d)),N=l+Math.sqrt(p*p-(t.y-d)*(t.y-d)),B=Math.abs(O-t.x)<Math.abs(N-t.x)?O:N;i={x:B,y:t.y}}else if(r===Jt.VERTICAL){var $=d-Math.sqrt(p*p-(t.x-l)*(t.x-l)),J=d+Math.sqrt(p*p-(t.x-l)*(t.x-l)),fe=Math.abs($-t.y)<Math.abs(J-t.y)?$:J;i={x:t.x,y:fe}}return i},yR=function(t,r){var n=Math.abs(t.x-r.x),i=Math.abs(t.y-r.y);return n/r.width>i/r.height?Jt.VERTICAL:Jt.HORIZONTAL},vv=function(t,r){var n=r,i=!1,a={minX:n.x-n.width/2+n.radius,maxX:n.x+n.width/2-n.radius,minY:n.y-n.height/2+n.radius,maxY:n.y+n.height/2-n.radius},l=n.x,d=n.y,p=n.width,O=n.height;return t.y===d+O/2||t.y===d-O/2?i=t.x>a.minX&&t.x<a.maxX:(t.x===l+p/2||t.x===l-p/2)&&(i=t.y>a.minY&&t.y<a.maxY),i},hv=function(t,r,n){var i,a=n,l=a.x,d=a.y,p=a.rx,O=a.ry;if(r===Jt.HORIZONTAL){var N=l-Math.sqrt(p*p-(t.y-d)*(t.y-d)*p*p/(O*O)),B=l+Math.sqrt(p*p-(t.y-d)*(t.y-d)*p*p/(O*O)),$=Math.abs(N-t.x)<Math.abs(B-t.x)?N:B;i={x:$,y:t.y}}else if(r===Jt.VERTICAL){var J=d-Math.sqrt(O*O-(t.x-l)*(t.x-l)*O*O/(p*p)),fe=d+Math.sqrt(O*O-(t.x-l)*(t.x-l)*O*O/(p*p)),pe=Math.abs(J-t.y)<Math.abs(fe-t.y)?J:fe;i={x:t.x,y:pe}}return i},Ou=function(t,r,n){for(var i=n,a=i.pointsPosition,l=Number.MAX_SAFE_INTEGER,d,p=[],O=0;O<a.length;O++)p.push({start:a[O],end:a[(O+1)%a.length]});return p.forEach(function(N){var B=N.start,$=N.end,J=B,fe=$;B.x>$.x&&(J=$,fe=B);var pe={x:t.x,y:t.y};if(J.x===fe.x&&r===Jt.HORIZONTAL&&(pe={x:J.x,y:t.y}),J.y===fe.y&&r===Jt.VERTICAL&&(pe={x:t.x,y:J.y}),J.x!==fe.x&&J.y!==fe.y){var he=(fe.y-J.y)/(fe.x-J.x),Ne=(J.x*fe.y-fe.x*J.y)/(J.x-fe.x);r===Jt.HORIZONTAL?pe={x:(t.y-Ne)/he,y:t.y}:r===Jt.VERTICAL&&(pe={x:t.x,y:he*t.x+Ne})}var Fe=ia(pe,B,$);if(Fe){var Le=yn(pe.x,pe.y,t.x,t.y);Le<l&&(l=Le,d=pe)}}),d},Uw=function(t){var r=na(t,["id","type","x","y","text","properties","virtual"]);return r},yv=function(t,r,n,i){var a=t.x,l=t.y;return r.x>t.x?a=t.x+n/2:r.x<t.x&&(a=t.x-n/2),r.y>t.y?l=t.y+i/2:r.y<t.y&&(l=t.y-i/2),{x:a,y:l}},gv=function(t){var r=t.rows,n=t.style,i=t.rowsLength,a=t.className,l=document.createElement("div");l.style.fontSize=n.fontSize,l.style.width=n.width,l.className=a,l.style.lineHeight=n.lineHeight,l.style.padding=n.padding,n.fontFamily&&(l.style.fontFamily=n.fontFamily),i>1?r.forEach(function(p){var O=document.createElement("div");O.textContent=p,l.appendChild(O)}):l.textContent=r,document.body.appendChild(l);var d=l.clientHeight;return document.body.removeChild(l),d},cf=function(t){var r=t.rows,n=t.rowsLength,i=t.fontSize,a=0;return r&&r.forEach(function(l){var d=uh(l);a=d>a?d:a}),{width:Math.ceil(a/2)*i+i/4,height:n*(i+2)+i/4}},Eu=function(t){return mu(t)!=="object"?{isAllPass:!!t,msg:t?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:t},mv={node:!1,edge:!1},$w={node:!0,edge:!0},kw={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},Nr=function(t){try{return JSON.parse(JSON.stringify(t))}catch(r){return t}},Xw=1e3,Yw=999,df=function(){return++Xw},Ww=function(){return--Yw},Ie,bv,Ov,Ev,Sv,xv,Pv,Mv,Tv,wv,Av,Nv,Dv,jv,Cv,Rv,Iv,Bv,Lv,zv;function Fv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fv(Object(r),!0).forEach(function(n){Vr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Er(e,t,r,n){!r||Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Kw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vw(e,t,r){return t&&Hv(e.prototype,t),r&&Hv(e,r),e}function Vr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Et(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(l,d){return d(e,t,l)||l},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,t,a),a=null),a}function gR(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var pf=(Ie=function(){function e(t,r){Kw(this,e),Vr(this,"id",Eo()),Er(this,"type",bv,this),Er(this,"sourceNodeId",Ov,this),Er(this,"targetNodeId",Ev,this),Er(this,"startPoint",Sv,this),Er(this,"endPoint",xv,this),Er(this,"text",Pv,this),Er(this,"properties",Mv,this),Er(this,"points",Tv,this),Er(this,"pointsList",wv,this),Er(this,"isSelected",Av,this),Er(this,"isHovered",Nv,this),Er(this,"isHitable",Dv,this),Er(this,"draggable",jv,this),Er(this,"visible",Cv,this),Vr(this,"virtual",!1),Er(this,"isAnimation",Rv,this),Vr(this,"graphModel",void 0),Er(this,"zIndex",Iv,this),Vr(this,"BaseType",Or.EDGE),Vr(this,"modelType",zt.EDGE),Er(this,"state",Bv,this),Vr(this,"additionStateData",void 0),Vr(this,"sourceAnchorId",""),Vr(this,"targetAnchorId",""),Vr(this,"menu",void 0),Vr(this,"customTextPosition",!1),Vr(this,"animationData",kw),Er(this,"style",Lv,this),Er(this,"arrowConfig",zv,this),this.graphModel=r,this.initEdgeData(t),this.setAttributes()}return Vw(e,[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var n=this.graphModel.idGenerator,i=n&&n(r.type);i&&(r.id=i);var a=this.createId();a&&(r.id=a)}Br(this,z0(r));var l=this.graphModel.overlapMode;l===Wr.INCREASE&&(this.zIndex=r.zIndex||df()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return an(an({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return ur(r)}},{key:"getAnimation",value:function(){var r=this.animationData;return ur(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return ur(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel,n=r.theme.outline;return ur(n)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,n;return(r=this.graphModel)===null||r===void 0||(n=r.nodesMap[this.sourceNodeId])===null||n===void 0?void 0:n.model}},{key:"targetNode",get:function(){var r,n;return(r=this.graphModel)===null||r===void 0||(n=r.nodesMap[this.targetNodeId])===null||n===void 0?void 0:n.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,n){var i,a,l=sf(r);return l.forEach(function(d){var p=fh(d,n);a?p<a&&(a=p,i=d):(a=p,i=d)}),i}},{key:"getEndAnchor",value:function(r){var n=this,i,a,l=sf(r);return l.forEach(function(d){var p=fh(d,n.startPoint);a?p<a&&(a=p,i=d):(a=p,i=d)}),i}},{key:"getProperties",value:function(){return Object(c.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,n=r.x,i=r.y,a=r.value,l={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(c.I)(this.properties)};return a&&(l.text={x:n,y:i,value:a}),this.graphModel.overlapMode===Wr.INCREASE&&(l.zIndex=this.zIndex),l}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,n){this.properties[r]=Nr(n),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=an(an({},this.properties),Nr(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var n=this.arrowConfig,i=n.markerEnd,a=n.markerStart;a&&a==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),i&&i==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,n){this.style=an(an({},this.style),{},Vr({},r,Nr(n)))}},{key:"setStyles",value:function(r){this.style=an(an({},this.style),Nr(r))}},{key:"updateStyles",value:function(r){this.style=an({},Nr(r))}},{key:"formatText",value:function(r){var n=this.textPosition,i=n.x,a=n.y;if(!r.text||typeof r.text=="string"){this.text={value:r.text||"",x:i,y:a,draggable:this.text.draggable,editable:this.text.editable};return}Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||i,y:r.text.y||a,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable})}},{key:"resetTextPosition",value:function(){var r=this.textPosition,n=r.x,i=r.y;this.text.x=n,this.text.y=i}},{key:"moveText",value:function(r,n){if(this.text){var i=this.text,a=i.x,l=i.y,d=i.value,p=i.draggable,O=i.editable;this.text={value:d,draggable:p,x:a+r,y:l+n,editable:O}}}},{key:"setText",value:function(r){r&&Br(this.text,r)}},{key:"updateText",value:function(r){this.text=an(an({},this.text),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var n=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:n.x,y:n.y}),this.targetAnchorId||(this.targetAnchorId=n.id)}}},{key:"setSelected",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=r}},{key:"setHovered",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=r}},{key:"setHitable",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,n){this.state=r,this.additionStateData=n}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,n){this.startPoint.x+=r,this.startPoint.y+=n}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,n){this.endPoint.x+=r,this.endPoint.y+=n}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){Br(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var n=r.startPoint,i=r.endPoint;this.updateStartPoint({x:n.x,y:n.y}),this.updateEndPoint({x:i.x,y:i.y})}}]),e}(),bv=Et(Ie.prototype,"type",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ov=Et(Ie.prototype,"sourceNodeId",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ev=Et(Ie.prototype,"targetNodeId",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Sv=Et(Ie.prototype,"startPoint",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xv=Et(Ie.prototype,"endPoint",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pv=Et(Ie.prototype,"text",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Mv=Et(Ie.prototype,"properties",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Tv=Et(Ie.prototype,"points",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),wv=Et(Ie.prototype,"pointsList",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Av=Et(Ie.prototype,"isSelected",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nv=Et(Ie.prototype,"isHovered",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Dv=Et(Ie.prototype,"isHitable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jv=Et(Ie.prototype,"draggable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Cv=Et(Ie.prototype,"visible",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Rv=Et(Ie.prototype,"isAnimation",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Iv=Et(Ie.prototype,"zIndex",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bv=Et(Ie.prototype,"state",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Lv=Et(Ie.prototype,"style",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),zv=Et(Ie.prototype,"arrowConfig",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),Et(Ie.prototype,"sourceNode",[c.m],Object.getOwnPropertyDescriptor(Ie.prototype,"sourceNode"),Ie.prototype),Et(Ie.prototype,"targetNode",[c.m],Object.getOwnPropertyDescriptor(Ie.prototype,"targetNode"),Ie.prototype),Et(Ie.prototype,"textPosition",[c.m],Object.getOwnPropertyDescriptor(Ie.prototype,"textPosition"),Ie.prototype),Et(Ie.prototype,"setProperty",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setProperty"),Ie.prototype),Et(Ie.prototype,"deleteProperty",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"deleteProperty"),Ie.prototype),Et(Ie.prototype,"setProperties",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setProperties"),Ie.prototype),Et(Ie.prototype,"changeEdgeId",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"changeEdgeId"),Ie.prototype),Et(Ie.prototype,"setStyle",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setStyle"),Ie.prototype),Et(Ie.prototype,"setStyles",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setStyles"),Ie.prototype),Et(Ie.prototype,"updateStyles",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateStyles"),Ie.prototype),Et(Ie.prototype,"formatText",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"formatText"),Ie.prototype),Et(Ie.prototype,"resetTextPosition",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"resetTextPosition"),Ie.prototype),Et(Ie.prototype,"moveText",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"moveText"),Ie.prototype),Et(Ie.prototype,"setText",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setText"),Ie.prototype),Et(Ie.prototype,"updateText",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateText"),Ie.prototype),Et(Ie.prototype,"setAnchors",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setAnchors"),Ie.prototype),Et(Ie.prototype,"setSelected",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setSelected"),Ie.prototype),Et(Ie.prototype,"setHovered",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setHovered"),Ie.prototype),Et(Ie.prototype,"setHitable",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setHitable"),Ie.prototype),Et(Ie.prototype,"openEdgeAnimation",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"openEdgeAnimation"),Ie.prototype),Et(Ie.prototype,"closeEdgeAnimation",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"closeEdgeAnimation"),Ie.prototype),Et(Ie.prototype,"setElementState",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setElementState"),Ie.prototype),Et(Ie.prototype,"updateStartPoint",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateStartPoint"),Ie.prototype),Et(Ie.prototype,"moveStartPoint",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"moveStartPoint"),Ie.prototype),Et(Ie.prototype,"updateEndPoint",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateEndPoint"),Ie.prototype),Et(Ie.prototype,"moveEndPoint",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"moveEndPoint"),Ie.prototype),Et(Ie.prototype,"setZIndex",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setZIndex"),Ie.prototype),Et(Ie.prototype,"initPoints",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"initPoints"),Ie.prototype),Et(Ie.prototype,"updateAttributes",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateAttributes"),Ie.prototype),Et(Ie.prototype,"getAdjustStart",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"getAdjustStart"),Ie.prototype),Et(Ie.prototype,"getAdjustEnd",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"getAdjustEnd"),Ie.prototype),Et(Ie.prototype,"updateAfterAdjustStartAndEnd",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateAfterAdjustStartAndEnd"),Ie.prototype),Ie),vf=pf;function Su(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Su=function(r){return typeof r}:Su=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Su(e)}function Gv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gv(Object(r),!0).forEach(function(n){Xv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jw(e,t,r){return t&&$v(e.prototype,t),r&&$v(e,r),e}function xu(){return typeof Reflect!="undefined"&&Reflect.get?xu=Reflect.get:xu=function(t,r,n){var i=Qw(t,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?t:n):a.value}},xu.apply(this,arguments)}function Qw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ni(e),e!==null););return e}function qw(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hf(e,t)}function hf(e,t){return hf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},hf(e,t)}function _w(e){var t=t0();return function(){var n=ni(e),i;if(t){var a=ni(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return e0(this,i)}}function e0(e,t){if(t&&(Su(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kv(e)}function kv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t0(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ni(e){return ni=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ni(e)}function Xv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var aa=function(e){qw(r,e);var t=_w(r);function r(){var n;Zw(this,r);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=t.call.apply(t,[this].concat(a)),Xv(kv(n),"modelType",zt.LINE_EDGE),n}return Jw(r,[{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.line,a=xu(ni(r.prototype),"getEdgeStyle",this).call(this);return Uv(Uv({},a),ur(i))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),r}(vf);function Pu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pu=function(r){return typeof r}:Pu=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pu(e)}var Tt,Yv;function r0(e,t){return a0(e)||i0(e,t)||o0(e,t)||n0()}function n0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o0(e,t){if(!!e){if(typeof e=="string")return Wv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wv(e,t)}}function Wv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i0(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function a0(e){if(Array.isArray(e))return e}function Kv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kv(Object(r),!0).forEach(function(n){gf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u0(e,t,r,n){!r||Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function l0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s0(e,t,r){return t&&Zv(e.prototype,t),r&&Zv(e,r),e}function oi(){return typeof Reflect!="undefined"&&Reflect.get?oi=Reflect.get:oi=function(t,r,n){var i=f0(t,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?t:n):a.value}},oi.apply(this,arguments)}function f0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=qn(e),e!==null););return e}function c0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yf(e,t)}function yf(e,t){return yf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},yf(e,t)}function d0(e){var t=v0();return function(){var n=qn(e),i;if(t){var a=qn(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return p0(this,i)}}function p0(e,t){if(t&&(Pu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ua(e)}function ua(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v0(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function qn(e){return qn=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},qn(e)}function gf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lr(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(l,d){return d(e,t,l)||l},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,t,a),a=null),a}function mR(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var Mu=(Tt=function(e){c0(r,e);var t=d0(r);function r(){var n;l0(this,r);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=t.call.apply(t,[this].concat(a)),gf(ua(n),"modelType",zt.POLYLINE_EDGE),gf(ua(n),"draginngPointList",void 0),u0(ua(n),"dbClickPosition",Yv,ua(n)),n}return s0(r,[{key:"initEdgeData",value:function(i){this.offset=30,oi(qn(r.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.polyline,a=oi(qn(r.prototype),"getEdgeStyle",this).call(this);return Vv(Vv({},a),ur(i))}},{key:"getTextPosition",value:function(){var i,a=(i=this.text)===null||i===void 0?void 0:i.value;if(this.dbClickPosition&&!a){var l=this.dbClickPosition,d=l.x,p=l.y;return{x:d,y:p}}var O=ii(this.points),N=R0(O),B=r0(N,2),$=B[0],J=B[1];return{x:($.x+J.x)/2,y:($.y+J.y)/2}}},{key:"getAfterAnchor",value:function(i,a,l){var d,p;return l.forEach(function(O){var N;i===Jt.HORIZONTAL?N=Math.abs(a.y-O.y):i===Jt.VERTICAL&&(N=Math.abs(a.x-O.x)),(!p||p>N)&&(p=N,d=O)}),d}},{key:"getCorssPoint",value:function(i,a,l){var d;return i===Jt.HORIZONTAL?d={x:l.x,y:a.y}:i===Jt.VERTICAL&&(d={x:a.x,y:l.y}),d}},{key:"removeCrossPoints",value:function(i,a,l){var d=l.map(function(lt){return lt});if(i===1){var p=d[i],O=d[a],N=d[i-1],B=nh(N,p,this.sourceNode);if(B){var $=oh(p,O,this.sourceNode);if($){var J=ih(p,O,this.sourceNode);J&&(d[i]=J,d.splice(i-1,1),i--,a--)}}else{var fe=this.sourceNode.anchors;fe.forEach(function(lt){if(lt.x===N.x&&lt.x===p.x||lt.y===N.y&&lt.y===p.y){var Pt=yn(lt.x,lt.y,p.x,p.y),Ot=yn(N.x,N.y,p.x,p.y);Pt<Ot&&(d[i-1]=lt)}})}}if(a===l.length-2){var pe=d[i],he=d[a],Ne=d[a+1],Fe=nh(he,Ne,this.targetNode);if(Fe){var Le=oh(pe,he,this.targetNode);if(Le){var ke=ih(pe,he,this.targetNode);ke&&(d[a]=ke,d.splice(a+1,1))}}else{var rt=this.targetNode.anchors;rt.forEach(function(lt){if(lt.x===Ne.x&&lt.x===he.x||lt.y===Ne.y&&lt.y===he.y){var Pt=yn(lt.x,lt.y,he.x,he.y),Ot=yn(Ne.x,Ne.y,he.x,he.y);Pt<Ot&&(d[a+1]=lt)}})}}return d}},{key:"getDragingPoints",value:function(i,a,l,d,p){var O=p.map(function($){return $}),N=this.getAfterAnchor(i,l,d),B=this.getCorssPoint(i,l,N);return a==="start"?(O.unshift(B),O.unshift(N)):(O.push(B),O.push(N)),O}},{key:"updateCrossPoints",value:function(i){var a=i.map(function(ke){return ke}),l=i[0],d=i[1],p=i[a.length-2],O=i[a.length-1],N=this.sourceNode,B=this.targetNode,$=N.modelType,J=B.modelType,fe=Ru(l,d),pe=a[0];switch($){case zt.RECT_NODE:if(N.radius!==0){var he=vv(l,N);he||(pe=pv(l,fe,N))}break;case zt.CIRCLE_NODE:pe=ff(l,fe,N);break;case zt.ELLIPSE_NODE:pe=hv(l,fe,N);break;case zt.DIAMOND_NODE:pe=Ou(l,fe,N);break;case zt.POLYGON_NODE:pe=Ou(l,fe,N);break;default:break}a[0]=pe;var Ne=Ru(p,O),Fe=a[a.length-1];switch(J){case zt.RECT_NODE:if(B.radius!==0){var Le=vv(O,B);Le||(Fe=pv(O,Ne,B))}break;case zt.CIRCLE_NODE:Fe=ff(O,Ne,B);break;case zt.ELLIPSE_NODE:Fe=hv(O,Ne,B);break;case zt.DIAMOND_NODE:Fe=Ou(O,Ne,B);break;case zt.POLYGON_NODE:Fe=Ou(O,Ne,B);break;default:break}return a[a.length-1]=Fe,a}},{key:"getData",value:function(){var i=oi(qn(r.prototype),"getData",this).call(this),a=this.pointsList.map(function(l){var d=l.x,p=l.y;return{x:d,y:p}});return Object.assign({},i,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var i=rh({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=i,this.points=i.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,a){this.startPoint.x+=i,this.startPoint.y+=a,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveEndPoint",value:function(i,a){this.endPoint.x+=i,this.endPoint.y+=a,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(i){return i})}},{key:"dragAppendSimple",value:function(i,a){this.isDragging=!0;var l=i.start,d=i.end,p=i.startIndex,O=i.endIndex,N=i.direction,B=this.pointsList,$=B;return N===Jt.HORIZONTAL?(B[p]={x:l.x,y:l.y+a.y},B[O]={x:d.x,y:d.y+a.y},$=this.pointsList.map(function(J){return J})):N===Jt.VERTICAL&&(B[p]={x:l.x+a.x,y:l.y},B[O]={x:d.x+a.x,y:d.y},$=this.pointsList.map(function(J){return J})),this.updatePointsAfterDrage($),this.draginngPointList=$,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},B[p]),end:Object.assign({},B[O]),startIndex:p,endIndex:O,direction:N}}},{key:"dragAppend",value:function(i,a){this.isDragging=!0;var l=i.start,d=i.end,p=i.startIndex,O=i.endIndex,N=i.direction,B=this.pointsList;if(N===Jt.HORIZONTAL){B[p]={x:l.x,y:l.y+a.y},B[O]={x:d.x,y:d.y+a.y};var $=this.pointsList.map(function(Vt){return Vt});if(p!==0&&O!==this.pointsList.length-1&&($=this.removeCrossPoints(p,O,$)),p===0){var J={x:l.x,y:l.y+a.y},fe=Qn(J,this.sourceNode);if(!fe){var pe=this.sourceNode.anchors;$=this.getDragingPoints(N,"start",J,pe,$)}}if(O===this.pointsList.length-1){var he={x:d.x,y:d.y+a.y},Ne=Qn(he,this.targetNode);if(!Ne){var Fe=this.targetNode.anchors;$=this.getDragingPoints(N,"end",he,Fe,$)}}$=Ef($),this.updatePointsAfterDrage($),this.draginngPointList=$}else if(N===Jt.VERTICAL){B[p]={x:l.x+a.x,y:l.y},B[O]={x:d.x+a.x,y:d.y};var Le=this.pointsList.map(function(Vt){return Vt});if(p!==0&&O!==this.pointsList.length-1&&(Le=this.removeCrossPoints(p,O,Le)),p===0){var ke={x:l.x+a.x,y:l.y},rt=Qn(ke,this.sourceNode);if(!rt){var lt=this.sourceNode.anchors;Le=this.getDragingPoints(N,"start",ke,lt,Le)}}if(O===this.pointsList.length-1){var Pt={x:d.x+a.x,y:d.y},Ot=Qn(Pt,this.targetNode);if(!Ot){var St=this.targetNode.anchors;Le=this.getDragingPoints(N,"end",Pt,St,Le)}}Le=Ef(Le),this.updatePointsAfterDrage(Le),this.draginngPointList=Le}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},B[p]),end:Object.assign({},B[O]),startIndex:p,endIndex:O,direction:N}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var i=ii(this.points);this.pointsList=i.map(function(d){return d}),this.draginngPointList=[];var a=i[0];this.startPoint=Object.assign({},a);var l=i[i.length-1];this.endPoint=Object.assign({},l)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(i){var a=this.updateCrossPoints(i);this.points=a.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var a=i.startPoint,l=i.endPoint,d=i.sourceNode,p=i.targetNode,O=rh({x:a.x,y:a.y},{x:l.x,y:l.y},d,p,this.offset||0);this.pointsList=O,this.initPoints()}}]),r}(vf),Yv=Lr(Tt.prototype,"dbClickPosition",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lr(Tt.prototype,"initPoints",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"initPoints"),Tt.prototype),Lr(Tt.prototype,"updatePoints",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"updatePoints"),Tt.prototype),Lr(Tt.prototype,"updateStartPoint",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"updateStartPoint"),Tt.prototype),Lr(Tt.prototype,"moveStartPoint",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"moveStartPoint"),Tt.prototype),Lr(Tt.prototype,"updateEndPoint",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"updateEndPoint"),Tt.prototype),Lr(Tt.prototype,"moveEndPoint",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"moveEndPoint"),Tt.prototype),Lr(Tt.prototype,"dragAppendStart",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"dragAppendStart"),Tt.prototype),Lr(Tt.prototype,"dragAppendSimple",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"dragAppendSimple"),Tt.prototype),Lr(Tt.prototype,"dragAppend",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"dragAppend"),Tt.prototype),Lr(Tt.prototype,"dragAppendEnd",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"dragAppendEnd"),Tt.prototype),Lr(Tt.prototype,"updatePointsAfterDrage",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"updatePointsAfterDrage"),Tt.prototype),Lr(Tt.prototype,"getAdjustStart",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"getAdjustStart"),Tt.prototype),Lr(Tt.prototype,"getAdjustEnd",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"getAdjustEnd"),Tt.prototype),Lr(Tt.prototype,"updateAfterAdjustStartAndEnd",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"updateAfterAdjustStartAndEnd"),Tt.prototype),Tt),la=function(t){var r=t.start,n=t.end,i=t.offset,a=t.verticalLength,l=t.type,d={leftX:0,leftY:0,rightX:0,rightY:0},p=Math.atan((n.y-r.y)/(n.x-r.x)),O=Math.atan(i/a),N=Math.sqrt(a*a+i*i);return l==="start"?n.x>=r.x?(d.leftX=r.x+N*Math.sin(p+O),d.leftY=r.y-N*Math.cos(p+O),d.rightX=r.x-N*Math.sin(p-O),d.rightY=r.y+N*Math.cos(p-O)):(d.leftX=r.x-N*Math.sin(p+O),d.leftY=r.y+N*Math.cos(p+O),d.rightX=r.x+N*Math.sin(p-O),d.rightY=r.y-N*Math.cos(p-O)):l==="end"&&(n.x>=r.x?(d.leftX=n.x+N*Math.sin(p-O),d.leftY=n.y-N*Math.cos(p-O),d.rightX=n.x-N*Math.sin(p+O),d.rightY=n.y+N*Math.cos(p+O)):(d.leftX=n.x-N*Math.sin(p-O),d.leftY=n.y+N*Math.cos(p-O),d.rightX=n.x+N*Math.sin(p+O),d.rightY=n.y-N*Math.cos(p+O))),d};function Jv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jv(Object(r),!0).forEach(function(n){h0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h0(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y0(e){return b0(e)||m0(e)||Qv(e)||g0()}function g0(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m0(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function b0(e){if(Array.isArray(e))return bf(e)}function wu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wu=function(r){return typeof r}:wu=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wu(e)}function mf(e,t){return S0(e)||E0(e,t)||Qv(e,t)||O0()}function O0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qv(e,t){if(!!e){if(typeof e=="string")return bf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bf(e,t)}}function bf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E0(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function S0(e){if(Array.isArray(e))return e}var bR=function(t,r){var n;switch(t.type){case"line":n=new aa(t,r);break;case"polyline":n=new Mu(t,r);break;default:n=new aa(t,r);break}return n},x0=function(t,r){return Math.abs(t.centerX-r.centerX)*2<t.width+r.width&&Math.abs(t.centerY-r.centerY)*2<t.height+r.height},Au=function(t){var r=[],n={};return t.forEach(function(i){var a="".concat(i.x,"-").concat(i.y);i.id=a,n[a]=i}),Object.keys(n).forEach(function(i){r.push(n[i])}),r},OR=function(t,r){var n=[t,{x:t.x,y:r.y},r];return Au(n)},Nu=function(t,r){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-r,minY:t.minY-r,maxX:t.maxX+r,maxY:t.maxY+r,height:t.height+2*r,width:t.width+2*r}},P0=function(t,r){var n=Math.abs(t.x-r.centerX),i=Math.abs(t.y-r.centerY);return n/r.width>i/r.height?Jt.HORIZONTAL:Jt.VERTICAL},Du=function(t,r){var n=P0(r,t);return n===Jt.HORIZONTAL?{x:r.x>t.centerX?t.maxX:t.minX,y:r.y}:{x:r.x,y:r.y>t.centerY?t.maxY:t.minY}},qv=function(t,r){var n=Math.min(t.minX,r.minX),i=Math.min(t.minY,r.minY),a=Math.max(t.maxX,r.maxX),l=Math.max(t.maxY,r.maxY);return{centerX:(n+a)/2,centerY:(i+l)/2,minX:n,minY:i,maxX:a,maxY:l,height:l-i,width:a-n}},sa=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,n=[],i=[];t.forEach(function(B){n.push(B.x),i.push(B.y)});var a=Math.min.apply(Math,n),l=Math.max.apply(Math,n),d=Math.min.apply(Math,i),p=Math.max.apply(Math,i),O=l-a,N=p-d;return r&&(O+=r,N+=r),{centerX:(a+l)/2,centerY:(d+p)/2,maxX:l,maxY:p,minX:a,minY:d,x:(a+l)/2,y:(d+p)/2,height:N,width:O}},ju=function(t){var r=t.minX,n=t.minY,i=t.maxX,a=t.maxY;return[{x:r,y:n},{x:i,y:n},{x:i,y:a},{x:r,y:a}]},Cu=function(t,r){var n=t.x,i=t.y;return n<r.minX||n>r.maxX||i<r.minY||i>r.maxY},M0=function(t,r){return r<t.minX||r>t.maxX?[]:[{x:r,y:t.minY},{x:r,y:t.maxY}]},T0=function(t,r){return r<t.minY||r>t.maxY?[]:[{x:t.minX,y:r},{x:t.maxX,y:r}]},w0=function(t,r){return M0(t,r.x).concat(T0(t,r.y))},Of=function(t,r){return Math.abs(t.x-r.x)+Math.abs(t.y-r.y)},A0=function(t,r){var n=-2,i=0;return r.forEach(function(a){a&&(t.x===a.x&&(i+=n),t.y===a.y&&(i+=n))}),i},_v=function(t,r,n,i,a){return Of(t,r)+Of(t,n)+A0(t,[r,n,i,a])},N0=function e(t,r,n,i,a){a||(a=0),t.unshift(r[i]),n[i]&&n[i]!==i&&a<=100&&e(t,r,n,n[i],a+1)},D0=function(t,r){var n=t.indexOf(r);n>-1&&t.splice(n,1)},fa=function(t,r,n,i){var a=r.x-t.x,l=r.y-t.y,d=i.x-n.x,p=i.y-n.y,O=(-l*(t.x-n.x)+a*(t.y-n.y))/(-d*l+a*p),N=(d*(t.y-n.y)-p*(t.x-n.x))/(-d*l+a*p);return O>=0&&O<=1&&N>=0&&N<=1},eh=function(t,r,n){if(n.width===0&&n.height===0)return!1;var i=ju(n),a=mf(i,4),l=a[0],d=a[1],p=a[2],O=a[3];return fa(t,r,l,d)||fa(t,r,l,O)||fa(t,r,d,p)||fa(t,r,p,O)},j0=function(t,r,n,i){var a=[];return t.forEach(function(l){l!==r&&(l.x===r.x||l.y===r.y)&&!eh(l,r,n)&&!eh(l,r,i)&&a.push(l)}),Au(a)},C0=function(t,r,n,i,a,l,d){var p=[],O=[r],N={},B={},$={};B[r.id]=0,$[r.id]=_v(r,n,r);var J={};t.forEach(function(he){J[he.id]=he});for(var fe=function(){var Ne=void 0,Fe=Infinity;if(O.forEach(function(ke){$[ke.id]<Fe&&(Fe=$[ke.id],Ne=ke)}),Ne===n){var Le=[];return N0(Le,J,N,n.id),{v:Le}}D0(O,Ne),p.push(Ne),j0(t,Ne,i,a).forEach(function(ke){if(p.indexOf(ke)===-1){O.indexOf(ke)===-1&&O.push(ke);var rt=$[Ne.id]+Of(Ne,ke);B[ke.id]&&rt>=B[ke.id]||(N[ke.id]=Ne.id,B[ke.id]=rt,$[ke.id]=B[ke.id]+_v(ke,n,r,l,d))}})};O.length;){var pe=fe();if(wu(pe)==="object")return pe.v}return[r,n]},th=function(t){var r=Kr(t);return r},Ef=function(t){for(var r=t,n=1;n<r.length-1;){var i=r[n-1],a=r[n],l=r[n+1];i.x===a.x&&a.x===l.x||i.y===a.y&&a.y===l.y?r.splice(n,1):n++}return r},rh=function(t,r,n,i,a){var l=th(n),d=th(i),p=Nu(l,a),O=Nu(d,a),N=Du(p,t),B=Du(O,r);if(x0(p,O)){var $=I0(t,r,N,B);return[t,N].concat(y0($),[B,r])}var J=sa([N,B]),fe=qv(p,J),pe=qv(O,J),he=[];he=he.concat(ju(fe)),he=he.concat(ju(pe));var Ne={x:(t.x+r.x)/2,y:(t.y+r.y)/2};[J,fe,pe].forEach(function(Le){he=he.concat(w0(Le,Ne).filter(function(ke){return Cu(ke,p)&&Cu(ke,O)}))}),[{x:N.x,y:B.y},{x:B.x,y:N.y}].forEach(function(Le){Cu(Le,p)&&Cu(Le,O)&&he.push(Le)}),he.unshift(N),he.push(B),he=Au(he);var Fe=C0(he,N,B,l,d,t,r);return Fe.unshift(t),Fe.push(r),Fe.length>2&&(Fe=Ef(Fe)),Au(Fe)},R0=function(t){var r;if(t.length===1)r=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],i=t[1],a=yn(n.x,n.y,i.x,i.y),l=1;l<t.length-1;l++){var d=t[l],p=t[l+1],O=yn(d.x,d.y,p.x,p.y);O>a&&(a=O,n=d,i=p)}r=[n,i]}return r},nh=function(t,r,n){var i=Qn(t,n),a=Qn(r,n);return i&&a},oh=function(t,r,n){var i=Qn(t,n),a=Qn(r,n),l=i&&a,d=i||a;return!l&&d},ih=function(t,r,n){for(var i,a,l=Kr(n),d=ju(l),p=0;p<d.length;p++){var O=fa(t,r,d[p],d[(p+1)%d.length]);O&&(a=[d[p],d[(p+1)%d.length]])}return a&&(i=Bw(t,r,a[0],a[1])),i},Ru=function(t,r){var n;return t.x===r.x?n=Jt.VERTICAL:t.y===r.y&&(n=Jt.HORIZONTAL),n},ii=function(t){var r=t.split(" "),n=[];return r&&r.forEach(function(i){var a=i.split(","),l=mf(a,2),d=l[0],p=l[1];n.push({x:Number(d),y:Number(p)})}),n},I0=function(t,r,n,i){var a=[],l=Ru(t,n),d=Ru(r,i);if(l===d)t.y===n.y?(a.push({x:n.x,y:(n.y+i.y)/2}),a.push({x:i.x,y:(n.y+i.y)/2})):(a.push({x:(n.x+i.x)/2,y:n.y}),a.push({x:(n.x+i.x)/2,y:i.y}));else{var p={x:n.x,y:i.y},O=ia(p,t,n),N=ia(p,r,i);if(O||N)p={x:i.x,y:n.y};else{var B=ah(p,t,n),$=ah(p,r,i);B&&$&&(p={x:i.x,y:n.y})}a.push(p)}return a},ah=function(t,r,n){return t.x===r.x&&t.x===n.x||t.y===r.y&&t.y===n.y},uh=function(t){if(!t)return 0;for(var r=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);t.match(/[A-Z]/)?r+=1.5:i>=1&&i<=126||i>=65376&&i<=65439?r+=1:r+=2}return r},Sf=null,ER=function(t,r){Sf||(Sf=document.createElement("canvas"));var n=Sf.getContext("2d");n.font=r;var i=n.measureText(t);return i.width},B0=function(t){var r=t.start,n=t.end,i;if(r.x===n.x&&r.y===n.y)i="";else{var a={start:r,end:n,offset:10,verticalLength:5},l=la(Tu(Tu({},a),{},{type:"start"})),d=la(Tu(Tu({},a),{},{type:"end"}));i="M".concat(l.leftX," ").concat(l.leftY,` 
    L`).concat(l.rightX," ").concat(l.rightY,` 
    L`).concat(d.rightX," ").concat(d.rightY,`
    L`).concat(d.leftX," ").concat(d.leftY," z")}return{d:i,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},lh=function(t){var r=t.start,n=t.end,i=t.sourceNode,a=t.targetNode,l=t.offset,d=Kr(i),p=Kr(a),O=Nu(d,l),N=Nu(p,l),B=Du(O,r),$=Du(N,n);return{sNext:B,ePre:$}},Iu=function(t){var r=t.replace(/M/g,"").replace(/C/g,",").split(","),n=Bu(r[0]),i=Bu(r[1]),a=Bu(r[2]),l=Bu(r[3]);return[n,i,a,l]},Bu=function(t){var r=t.replace(/(^\s*)/g,"").split(" "),n=mf(r,2),i=n[0],a=n[1];return{x:+i,y:+a}},L0=function(t){var r=Iu(t);return[r[2],r[3]]},sh=function(t,r){for(var n=t.x,i=t.y,a=ii(r),l=Number.MAX_SAFE_INTEGER,d,p=[],O=0;O<a.length;O++)p.push({start:a[O],end:a[(O+1)%a.length]});if(p.forEach(function(J){var fe=J.start,pe=J.end;if(fe.x===pe.x){var he={x:fe.x,y:i},Ne=ia(he,fe,pe);if(Ne){var Fe=Math.abs(fe.x-n);Fe<l&&(l=Fe,d=he)}}else if(fe.y===pe.y){var Le={x:n,y:fe.y},ke=ia(Le,fe,pe);if(ke){var rt=Math.abs(fe.y-i);rt<l&&(l=rt,d=Le)}}}),!d){var N=p[0],B=N.start,$=N.end;d={x:B.x+($.x-B.x)/2,y:B.y+($.y-B.y)/2}}return d},z0=function(t){return na(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},fh=function(t,r){return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))};function F0(e,t){return typeof t!="function"?function(r,n,i){return Object.assign({type:e.edgeType},i)}:function(r,n,i){var a=t(r,n,i);return a?typeof a=="string"?Object.assign({},i,{type:a}):Object.assign({type:a},i):{type:e.edgeType}}}var SR=u(204);function H0(){}var ai=H0;function G0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ch(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U0(e,t,r){return t&&ch(e.prototype,t),r&&ch(e,r),e}function vr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gn=window.document,dh=0;function xf(e){var t=e.onDragStart,r=t===void 0?ai:t,n=e.onDraging,i=n===void 0?ai:n,a=e.onDragEnd,l=a===void 0?ai:a,d=e.step,p=d===void 0?1:d,O=e.isStopPropagation,N=O===void 0?!0:O,B=!1,$=!1,J=0,fe=0,pe=0,he=0;function Ne(ke){if(N&&ke.stopPropagation(),!!$&&(B=!0,pe+=ke.clientX-J,he+=ke.clientY-fe,J=ke.clientX,fe=ke.clientY,Math.abs(pe)>p||Math.abs(he)>p)){var rt=pe%p,lt=he%p,Pt=pe-rt,Ot=he-lt;pe=rt,he=lt,i({deltaX:Pt,deltaY:Ot,event:ke})}}function Fe(ke){if(N&&ke.stopPropagation(),$=!1,gn.removeEventListener("mousemove",Ne,!1),gn.removeEventListener("mouseup",Fe,!1),!!B)return B=!1,l({event:ke})}function Le(ke){if(ke.button===dh)return N&&ke.stopPropagation(),$=!0,J=ke.clientX,fe=ke.clientY,gn.addEventListener("mousemove",Ne,!1),gn.addEventListener("mouseup",Fe,!1),r({event:ke})}return Le}var So=function(){function e(t){var r=this,n=t.onDragStart,i=n===void 0?ai:n,a=t.onDraging,l=a===void 0?ai:a,d=t.onDragEnd,p=d===void 0?ai:d,O=t.eventType,N=O===void 0?"":O,B=t.eventCenter,$=B===void 0?null:B,J=t.step,fe=J===void 0?1:J,pe=t.isStopPropagation,he=pe===void 0?!0:pe,Ne=t.model,Fe=Ne===void 0?null:Ne;G0(this,e),vr(this,"onDragStart",void 0),vr(this,"onDraging",void 0),vr(this,"onDragEnd",void 0),vr(this,"step",void 0),vr(this,"isStopPropagation",void 0),vr(this,"isDraging",!1),vr(this,"isStartDraging",!1),vr(this,"startX",0),vr(this,"startY",0),vr(this,"sumDeltaX",0),vr(this,"sumDeltaY",0),vr(this,"eventType",void 0),vr(this,"eventCenter",void 0),vr(this,"model",void 0),vr(this,"startTime",void 0),vr(this,"isGrag",void 0),vr(this,"handleMouseDown",function(Le){var ke,rt;if(Le.button===dh){r.isStopPropagation&&Le.stopPropagation(),r.isStartDraging=!0,r.startX=Le.clientX,r.startY=Le.clientY,gn.addEventListener("mousemove",r.handleMouseMove,!1),gn.addEventListener("mouseup",r.handleMouseUp,!1);var lt=(ke=r.model)===null||ke===void 0?void 0:ke.getData();(rt=r.eventCenter)===null||rt===void 0||rt.emit(Mt["".concat(r.eventType,"_MOUSEDOWN")],{e:Le,data:lt}),r.startTime=new Date().getTime()}}),vr(this,"handleMouseMove",function(Le){if(r.isStopPropagation&&Le.stopPropagation(),!!r.isStartDraging&&(r.sumDeltaX+=Le.clientX-r.startX,r.sumDeltaY+=Le.clientY-r.startY,r.startX=Le.clientX,r.startY=Le.clientY,r.step<=1||Math.abs(r.sumDeltaX)>r.step||Math.abs(r.sumDeltaY)>r.step)){var ke,rt=r.sumDeltaX%r.step,lt=r.sumDeltaY%r.step,Pt=r.sumDeltaX-rt,Ot=r.sumDeltaY-lt;r.sumDeltaX=rt,r.sumDeltaY=lt;var St=(ke=r.model)===null||ke===void 0?void 0:ke.getData();if(!r.isDraging){var Vt;(Vt=r.eventCenter)===null||Vt===void 0||Vt.emit(Mt["".concat(r.eventType,"_DRAGSTART")],{e:Le,data:St}),r.onDragStart({event:Le})}r.isDraging=!0,Promise.resolve().then(function(){var Cr,tn;r.onDraging({deltaX:Pt,deltaY:Ot,event:Le}),(Cr=r.eventCenter)===null||Cr===void 0||Cr.emit(Mt["".concat(r.eventType,"_MOUSEMOVE")],{e:Le,data:St}),(tn=r.eventCenter)===null||tn===void 0||tn.emit(Mt["".concat(r.eventType,"_DRAG")],{e:Le,data:St})})}}),vr(this,"handleMouseUp",function(Le){r.isStartDraging=!1,r.isStopPropagation&&Le.stopPropagation(),Promise.resolve().then(function(){var ke,rt,lt;gn.removeEventListener("mousemove",r.handleMouseMove,!1),gn.removeEventListener("mouseup",r.handleMouseUp,!1);var Pt=(ke=r.model)===null||ke===void 0?void 0:ke.getData();(rt=r.eventCenter)===null||rt===void 0||rt.emit(Mt["".concat(r.eventType,"_MOUSEUP")],{e:Le,data:Pt}),!!r.isDraging&&(r.isDraging=!1,r.onDragEnd({event:Le}),(lt=r.eventCenter)===null||lt===void 0||lt.emit(Mt["".concat(r.eventType,"_DROP")],{e:Le,data:Pt}))})}),vr(this,"cancelDrag",function(){gn.removeEventListener("mousemove",r.handleMouseMove,!1),gn.removeEventListener("mouseup",r.handleMouseUp,!1),r.onDragEnd({event:null}),r.isDraging=!1}),this.onDragStart=i,this.onDraging=l,this.onDragEnd=p,this.step=fe,this.isStopPropagation=he,this.eventType=N,this.eventCenter=$,this.model=Fe}return U0(e,[{key:"setStep",value:function(r){this.step=r}}]),e}(),$0=function(t){return!t||typeof t=="boolean"?ur(t===!0?$w:mv):iv(ur(mv),t)},xe,ph,vh,hh,yh,gh,mh,bh,Oh,Eh,Sh,xh,Ph;function Mh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mh(Object(r),!0).forEach(function(n){mn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pf(e,t){return Y0(e)||X0(e,t)||Th(e,t)||k0()}function k0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X0(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function Y0(e){if(Array.isArray(e))return e}function ui(e){return V0(e)||K0(e)||Th(e)||W0()}function W0(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Th(e,t){if(!!e){if(typeof e=="string")return Mf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mf(e,t)}}function K0(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V0(e){if(Array.isArray(e))return Mf(e)}function Mf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ca(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ca=function(r){return typeof r}:ca=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ca(e)}function Qr(e,t,r,n){!r||Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Z0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J0(e,t,r){return t&&wh(e.prototype,t),r&&wh(e,r),e}function mn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gt(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(l,d){return d(e,t,l)||l},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,t,a),a=null),a}function xR(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var zu=200,Ah=(xe=function(){function e(t){Z0(this,e),mn(this,"rootEl",void 0),Qr(this,"width",ph,this),Qr(this,"height",vh,this),mn(this,"theme",void 0),mn(this,"eventCenter",void 0),mn(this,"modelMap",new Map),mn(this,"topElement",void 0),mn(this,"animation",void 0),mn(this,"idGenerator",void 0),mn(this,"edgeGenerator",void 0),mn(this,"nodeMoveRules",[]),Qr(this,"edgeType",hh,this),Qr(this,"nodes",yh,this),Qr(this,"edges",gh,this),Qr(this,"overlapMode",mh,this),Qr(this,"background",bh,this),Qr(this,"transformModel",Oh,this),Qr(this,"editConfigModel",Eh,this),Qr(this,"gridSize",Sh,this),Qr(this,"partial",xh,this),Qr(this,"fakerNode",Ph,this);var r=t.container,n=t.background,i=n===void 0?{}:n,a=t.grid,l=t.idGenerator,d=t.edgeGenerator,p=t.animation;this.background=i,ca(a)==="object"&&(this.gridSize=a.size),this.rootEl=r,this.editConfigModel=new Cp(t),this.eventCenter=new Ew,this.transformModel=new aM(this.eventCenter),this.theme=av(t.style),this.edgeType=t.edgeType||"polyline",this.width=t.width,this.height=t.height,this.animation=$0(p),this.partial=t.partial,this.overlapMode=t.overlapMode||0,this.idGenerator=l,this.edgeGenerator=F0(this,d),this.width=t.width||this.rootEl.getBoundingClientRect().width,this.height=t.height||this.rootEl.getBoundingClientRect().height}return J0(e,[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,n,i){return r[n.id]={index:i,model:n},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,n,i){return r[n.id]={index:i,model:n},r},{})}},{key:"modelsMap",get:function(){return[].concat(ui(this.nodes),ui(this.edges)).reduce(function(r,n){return r[n.id]=n,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(N){return r.push(N)}),this.edges.forEach(function(N){return r.push(N)}),r=r.sort(function(N,B){return N.zIndex-B.zIndex});for(var n=[],i=-1,a=[-zu,-zu],l=[this.width+zu,this.height+zu],d=0;d<r.length;d++){var p=r[d];p.visible&&(!this.partial||p.isSelected||this.isElementInArea(p,a,l,!1,!1))&&(p.zIndex===Ip&&(i=n.length),n.push(p))}if(i!==-1){var O=n[n.length-1];n[n.length-1]=n[i],n[i]=O}return n}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(i){return i.state===Kt.TEXT_EDIT}),n=this.edges.find(function(i){return i.state===Kt.TEXT_EDIT});return r||n}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(n){n.isSelected&&r.set(n.id,n)}),this.edges.forEach(function(n){n.isSelected&&r.set(n.id,n)}),r}},{key:"getAreaElement",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,d=[],p=[];this.nodes.forEach(function(B){return p.push(B)}),this.edges.forEach(function(B){return p.push(B)});for(var O=0;O<p.length;O++){var N=p[O];(!l||N.visible)&&this.isElementInArea(N,r,n,i,a)&&d.push(N)}return d}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var n;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(n=this.nodesMap[r])===null||n===void 0?void 0:n.model}},{key:"getPointByClient",value:function(r){var n=r.x,i=r.y,a=this.rootEl.getBoundingClientRect(),l={x:n-a.left,y:i-a.top},d=this.transformModel.HtmlPointToCanvasPoint([l.x,l.y]),p=Pf(d,2),O=p[0],N=p[1];return{domOverlayPosition:l,canvasOverlayPosition:{x:O,y:N}}}},{key:"isElementInArea",value:function(r,n,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(r.BaseType===Or.NODE){r=r;for(var d=Kr(r),p=d.minX,O=d.minY,N=d.maxX,B=d.maxY,$=[{x:p,y:O},{x:N,y:O},{x:N,y:B},{x:p,y:B}],J=l,fe=0;fe<$.length;fe++){var pe=$[fe],he=pe.x,Ne=pe.y,Fe=this.transformModel.CanvasPointToHtmlPoint([he,Ne]),Le=Pf(Fe,2);if(he=Le[0],Ne=Le[1],af([he,Ne],n,i)!==l){J=!l;break}}return J}if(r.BaseType===Or.EDGE){r=r;var ke=r,rt=ke.startPoint,lt=ke.endPoint,Pt=this.transformModel.CanvasPointToHtmlPoint([rt.x,rt.y]),Ot=this.transformModel.CanvasPointToHtmlPoint([lt.x,lt.y]),St=af(Pt,n,i),Vt=af(Ot,n,i);return a?St&&Vt:St||Vt}return!1}},{key:"graphDataToModel",value:function(r){var n=this;(!this.width||!this.height)&&this.resize(),this.nodes=du(r.nodes,function(i){var a=n.getModel(i.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var l=i.x,d=i.y;return l&&d&&(i.x=Oo(l,n.gridSize),i.y=Oo(d,n.gridSize),ca(i.text)==="object"&&(i.text.x-=lv(l,n.gridSize),i.text.y-=lv(d,n.gridSize))),new a(i,n)}),this.edges=du(r.edges,function(i){var a=n.getModel(i.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new a(i,n)})}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(i){var a=i.getData();a&&!i.virtual&&r.push(a)});var n=[];return this.nodes.forEach(function(i){var a=i.getData();a&&!i.virtual&&n.push(a)}),{nodes:n,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,n=[],i=0;i<this.nodes.length;i++){var a=this.nodes[i];if(a.isDragging){r=!0;break}else n.push(a.getHistoryData())}if(r)return!1;for(var l=!1,d=[],p=0;p<this.edges.length;p++){var O=this.edges[p];if(O.isDragging){l=!0;break}else d.push(O.getHistoryData())}return l?!1:{nodes:n,edges:d}}},{key:"getEdgeModelById",value:function(r){var n;return(n=this.edgesMap[r])===null||n===void 0?void 0:n.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var n=[],i=0;i<this.edges.length;i++){var a=this.edges[i],l=this.edges[i].sourceNodeId===r,d=this.edges[i].targetNodeId===r;(l||d)&&n.push(a)}return n}},{key:"getSelectElements",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=this.selectElements,i={nodes:[],edges:[]};return n.forEach(function(a){if(a.BaseType===Or.NODE&&i.nodes.push(a.getData()),a.BaseType===Or.EDGE){var l=a.getData(),d=n.get(l.sourceNodeId)&&n.get(l.targetNodeId);(r||d)&&i.edges.push(l)}}),i}},{key:"updateAttributes",value:function(r,n){var i=this.getElement(r);i.updateAttributes(n)}},{key:"changeNodeId",value:function(r,n){return n||(n=Eo()),this.nodesMap[n]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(n,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[r]?(this.edges.forEach(function(i){i.sourceNodeId===r&&(i.sourceNodeId=n),i.targetNodeId===r&&(i.targetNodeId=n)}),this.nodesMap[r].model.id=n,n):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(n,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(r,n){return n||(n=Eo()),this.edgesMap[n]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(n,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[r]?(this.edges.forEach(function(i){i.id===r&&i.changeEdgeId(n)}),n):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(n,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,n){return this.modelMap.set(r,n)}},{key:"toFront",value:function(r){var n,i,a=((n=this.nodesMap[r])===null||n===void 0?void 0:n.model)||((i=this.edgesMap[r])===null||i===void 0?void 0:i.model);if(a){if(this.overlapMode===Wr.DEFAULT){var l;(l=this.topElement)===null||l===void 0||l.setZIndex(),a.setZIndex(Ip),this.topElement=a}this.overlapMode===Wr.INCREASE&&this.setElementZIndex(r,"top")}}},{key:"setElementZIndex",value:function(r,n){var i,a,l=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((a=this.edgesMap[r])===null||a===void 0?void 0:a.model);if(l){var d;typeof n=="number"&&(d=n),n==="top"&&(d=df()),n==="bottom"&&(d=Ww()),l.setZIndex(d)}}},{key:"deleteNode",value:function(r){var n=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(Mt.NODE_DELETE,{data:n})}},{key:"addNode",value:function(r){var n=Nr(r);n.id&&this.nodesMap[r.id]&&delete n.id;var i=this.getModel(n.type);if(!i)throw new Error("\u627E\u4E0D\u5230".concat(n.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));n.x=Oo(n.x,this.gridSize),n.y=Oo(n.y,this.gridSize);var a=new i(n,this);this.nodes.push(a);var l=a.getData();return this.eventCenter.emit(Mt.NODE_ADD,{data:l}),a}},{key:"cloneNode",value:function(r){var n=this.getNodeModelById(r),i=n.getData();i.x+=30,i.y+=30,delete i.id,i.text&&(i.text.x+=30,i.text.y+=30);var a=this.addNode(i);return a.setSelected(!0),n.setSelected(!1),a.getData()}},{key:"moveNode",value:function(r,n,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,l=this.nodesMap[r];if(!l){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"));return}var d=l.model,p=d.getMoveDistance(n,i,a),O=Pf(p,2);n=O[0],i=O[1],this.moveEdge(r,n,i)}},{key:"moveNode2Coordinate",value:function(r,n,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,l=this.nodesMap[r];if(!l){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"));return}var d=l.model,p=d.x,O=d.y,N=n-p,B=i-O;this.moveNode(r,N,B,a)}},{key:"editText",value:function(r){this.setElementStateById(r,Kt.TEXT_EDIT)}},{key:"addEdge",value:function(r){var n=Nr(r),i=n.type;i||(i=this.edgeType),n.id&&this.edgesMap[n.id]&&delete n.id;var a=this.getModel(i);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var l=new a(Lu(Lu({},n),{},{type:i}),this),d=l.getData();return this.edges.push(l),this.eventCenter.emit(Mt.EDGE_ADD,{data:d}),l}},{key:"moveEdge",value:function(r,n,i){for(var a=0;a<this.edges.length;a++){var l=this.edges[a],d=l.textPosition,p=d.x,O=d.y,N=this.edges[a].sourceNodeId===r,B=this.edges[a].targetNodeId===r;if(N&&l.moveStartPoint(n,i),B&&l.moveEndPoint(n,i),N||B){var $;if(l.customTextPosition===!0)l.resetTextPosition();else if(l.modelType===zt.POLYLINE_EDGE&&($=l.text)!==null&&$!==void 0&&$.value){var J=l.text,fe=sh(J,l.points);l.moveText(fe.x-J.x,fe.y-J.y)}else{var pe=l.textPosition,he=pe.x,Ne=pe.y;l.moveText(he-p,Ne-O)}}}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,n){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r&&this.edges[i].targetNodeId===n){var a=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(Mt.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeById",value:function(r){var n=this.edgesMap[r];if(!!n){var i=this.edgesMap[r].index,a=this.edgesMap[r].model.getData();this.edges.splice(i,1),this.eventCenter.emit(Mt.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeBySource",value:function(r){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===r){var i=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(Mt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeByTarget",value:function(r){for(var n=0;n<this.edges.length;n++)if(this.edges[n].targetNodeId===r){var i=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(Mt.EDGE_DELETE,{data:i})}}},{key:"setElementStateById",value:function(r,n,i){this.nodes.forEach(function(a){a.id===r?a.setElementState(n,i):a.setElementState(Kt.DEFAULT)}),this.edges.forEach(function(a){a.id===r?a.setElementState(n,i):a.setElementState(Kt.DEFAULT)})}},{key:"updateText",value:function(r,n){this.nodes.forEach(function(i){i.id===r&&i.updateText(n)}),this.edges.forEach(function(i){i.id===r&&i.updateText(n)})}},{key:"selectNodeById",value:function(r){var n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i||this.clearSelectElements();var a=(n=this.nodesMap[r])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i||this.clearSelectElements();var a=(n=this.edgesMap[r])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectElementById",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||this.clearSelectElements();var i=this.getElement(r);i==null||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){if(this.selectElements.forEach(function(n){n==null||n.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Wr.DEFAULT){var r;(r=this.topElement)===null||r===void 0||r.setZIndex()}}},{key:"moveNodes",value:function(r,n,i){var a=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;r.forEach(function(d){return a.moveNode(d,n,i,l)})}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,n){var i=this.getNodeModelById(r);if(!i){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8282\u70B9"));return}var a=i.getData();a.type=n;var l=this.getModel(n);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var d=new l(a,this);this.nodes.splice(this.nodesMap[r].index,1,d);var p=this.getNodeEdges(r);p.forEach(function(O){if(O.sourceNodeId===r){var N=yv(d,O.startPoint,d.width,d.height);O.updateStartPoint(N)}if(O.targetNodeId===r){var B=yv(d,O.endPoint,d.width,d.height);O.updateEndPoint(B)}})}},{key:"changeEdgeType",value:function(r,n){var i=this.getEdgeModelById(r);if(!i){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8FB9"));return}if(i.type!==n){var a=i.getData();a.type=n;var l=this.getModel(n);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete a.pointsList;var d=new l(a,this);this.edges.splice(this.edgesMap[r].index,1,d)}}},{key:"getNodeIncomingEdge",value:function(r){var n=[];return this.edges.forEach(function(i){i.targetNodeId===r&&n.push(i)}),n}},{key:"getNodeOutgoingEdge",value:function(r){var n=[];return this.edges.forEach(function(i){i.sourceNodeId===r&&n.push(i)}),n}},{key:"getNodeIncomingNode",value:function(r){var n=this,i=[];return this.edges.forEach(function(a){a.targetNodeId===r&&i.push(n.nodesMap[a.sourceNodeId].model)}),i}},{key:"getNodeOutgoingNode",value:function(r){var n=this,i=[];return this.edges.forEach(function(a){a.sourceNodeId===r&&i.push(n.nodesMap[a.targetNodeId].model)}),i}},{key:"setTheme",value:function(r){this.theme=av(Lu(Lu({},this.theme),r))}},{key:"resize",value:function(r,n){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=n||this.rootEl.getBoundingClientRect().height,(!this.width||!this.height)&&console.warn("\u6E32\u67D3\u753B\u5E03\u7684\u65F6\u5019\u65E0\u6CD5\u83B7\u53D6\u753B\u5E03\u5BBD\u9AD8\uFF0C\u8BF7\u786E\u8BA4\u5728container\u5DF2\u6302\u8F7D\u5230DOM\u3002@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,n=[],i=[];r.forEach(function(J){var fe=J.x,pe=J.y,he=J.width,Ne=J.height,Fe=J.getNodeStyle(),Le=Fe.strokeWidth,ke=Le===void 0?0:Le;n=n.concat([fe+he/2+ke,fe-he/2-ke]),i=i.concat([pe+Ne/2+ke,pe-Ne/2-ke])});var a=Math.min.apply(Math,ui(n)),l=Math.max.apply(Math,ui(n)),d=Math.min.apply(Math,ui(i)),p=Math.max.apply(Math,ui(i)),O=l-a||0,N=p-d||0,B=a+O/2,$=d+N/2;return{virtualRectWidth:O,virtualRectHeight:N,virtualRectCenterPositionX:B,virtualRectCenterPositionY:$}}},{key:"translateCenter",value:function(){var r=this.nodes,n=this.width,i=this.height,a=this.rootEl,l=this.transformModel;if(!!r.length){var d=n||a.clientWidth,p=i||a.clientHeight,O=this.getVirtualRectSize(),N=O.virtualRectCenterPositionX,B=O.virtualRectCenterPositionY;l.focusOn(N,B,d,p)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,i=this.nodes,a=this.width,l=this.height,d=this.rootEl,p=this.transformModel;if(!!i.length){var O=a||d.clientWidth,N=l||d.clientHeight,B=this.getVirtualRectSize(),$=B.virtualRectWidth,J=B.virtualRectHeight,fe=B.virtualRectCenterPositionX,pe=B.virtualRectCenterPositionY,he=($+n)/O,Ne=(J+r)/N,Fe=0;Fe=1/Math.max(he,Ne);var Le=[O/2,N/2];p.zoom(Fe,Le),p.focusOn(fe,pe,O,N)}}},{key:"openEdgeAnimation",value:function(r){var n=this.getEdgeModelById(r);n.openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){var n=this.getEdgeModelById(r);n.closeEdgeAnimation()}}]),e}(),ph=gt(xe.prototype,"width",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vh=gt(xe.prototype,"height",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hh=gt(xe.prototype,"edgeType",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yh=gt(xe.prototype,"nodes",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gh=gt(xe.prototype,"edges",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mh=gt(xe.prototype,"overlapMode",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wr.DEFAULT}}),bh=gt(xe.prototype,"background",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oh=gt(xe.prototype,"transformModel",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eh=gt(xe.prototype,"editConfigModel",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sh=gt(xe.prototype,"gridSize",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),xh=gt(xe.prototype,"partial",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ph=gt(xe.prototype,"fakerNode",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt(xe.prototype,"nodesMap",[c.m],Object.getOwnPropertyDescriptor(xe.prototype,"nodesMap"),xe.prototype),gt(xe.prototype,"edgesMap",[c.m],Object.getOwnPropertyDescriptor(xe.prototype,"edgesMap"),xe.prototype),gt(xe.prototype,"modelsMap",[c.m],Object.getOwnPropertyDescriptor(xe.prototype,"modelsMap"),xe.prototype),gt(xe.prototype,"sortElements",[c.m],Object.getOwnPropertyDescriptor(xe.prototype,"sortElements"),xe.prototype),gt(xe.prototype,"textEditElement",[c.m],Object.getOwnPropertyDescriptor(xe.prototype,"textEditElement"),xe.prototype),gt(xe.prototype,"selectElements",[c.m],Object.getOwnPropertyDescriptor(xe.prototype,"selectElements"),xe.prototype),gt(xe.prototype,"setFakerNode",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"setFakerNode"),xe.prototype),gt(xe.prototype,"removeFakerNode",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"removeFakerNode"),xe.prototype),gt(xe.prototype,"setModel",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"setModel"),xe.prototype),gt(xe.prototype,"toFront",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"toFront"),xe.prototype),gt(xe.prototype,"setElementZIndex",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"setElementZIndex"),xe.prototype),gt(xe.prototype,"deleteNode",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteNode"),xe.prototype),gt(xe.prototype,"addNode",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"addNode"),xe.prototype),gt(xe.prototype,"cloneNode",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"cloneNode"),xe.prototype),gt(xe.prototype,"moveNode",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"moveNode"),xe.prototype),gt(xe.prototype,"moveNode2Coordinate",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"moveNode2Coordinate"),xe.prototype),gt(xe.prototype,"editText",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"editText"),xe.prototype),gt(xe.prototype,"addEdge",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"addEdge"),xe.prototype),gt(xe.prototype,"moveEdge",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"moveEdge"),xe.prototype),gt(xe.prototype,"deleteEdgeBySourceAndTarget",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteEdgeBySourceAndTarget"),xe.prototype),gt(xe.prototype,"deleteEdgeById",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteEdgeById"),xe.prototype),gt(xe.prototype,"deleteEdgeBySource",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteEdgeBySource"),xe.prototype),gt(xe.prototype,"deleteEdgeByTarget",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteEdgeByTarget"),xe.prototype),gt(xe.prototype,"setElementStateById",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"setElementStateById"),xe.prototype),gt(xe.prototype,"updateText",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"updateText"),xe.prototype),gt(xe.prototype,"selectNodeById",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"selectNodeById"),xe.prototype),gt(xe.prototype,"selectEdgeById",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"selectEdgeById"),xe.prototype),gt(xe.prototype,"selectElementById",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"selectElementById"),xe.prototype),gt(xe.prototype,"clearSelectElements",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"clearSelectElements"),xe.prototype),gt(xe.prototype,"moveNodes",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"moveNodes"),xe.prototype),gt(xe.prototype,"setDefaultEdgeType",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"setDefaultEdgeType"),xe.prototype),gt(xe.prototype,"changeNodeType",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"changeNodeType"),xe.prototype),gt(xe.prototype,"changeEdgeType",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"changeEdgeType"),xe.prototype),gt(xe.prototype,"getNodeIncomingEdge",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"getNodeIncomingEdge"),xe.prototype),gt(xe.prototype,"getNodeOutgoingEdge",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"getNodeOutgoingEdge"),xe.prototype),gt(xe.prototype,"getNodeIncomingNode",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"getNodeIncomingNode"),xe.prototype),gt(xe.prototype,"getNodeOutgoingNode",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"getNodeOutgoingNode"),xe.prototype),gt(xe.prototype,"setTheme",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"setTheme"),xe.prototype),gt(xe.prototype,"resize",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"resize"),xe.prototype),gt(xe.prototype,"clearData",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"clearData"),xe.prototype),gt(xe.prototype,"translateCenter",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"translateCenter"),xe.prototype),gt(xe.prototype,"fitView",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"fitView"),xe.prototype),gt(xe.prototype,"openEdgeAnimation",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"openEdgeAnimation"),xe.prototype),gt(xe.prototype,"closeEdgeAnimation",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"closeEdgeAnimation"),xe.prototype),xe),Q0=Ah;function Fu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fu=function(r){return typeof r}:Fu=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fu(e)}var Nh;function Tf(){return Tf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tf.apply(this,arguments)}function q0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _0(e,t,r){return t&&Dh(e.prototype,t),r&&Dh(e,r),e}function eA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wf(e,t)}function wf(e,t){return wf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},wf(e,t)}function tA(e){var t=nA();return function(){var n=Hu(e),i;if(t){var a=Hu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return rA(this,i)}}function rA(e,t){if(t&&(Fu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bn(e)}function bn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Hu(e){return Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Hu(e)}function Rn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oA=Gi(Nh=function(e){eA(r,e);var t=tA(r);function r(n){var i;q0(this,r),i=t.call(this),Rn(bn(i),"stepDrag",void 0),Rn(bn(i),"stepScrollX",0),Rn(bn(i),"stepScrollY",0),Rn(bn(i),"onDraging",function(p){var O=p.deltaX,N=p.deltaY;i.setState({isDraging:!0});var B=i.props.graphModel,$=B.transformModel,J=B.editConfigModel;J.stopMoveGraph||$.translate(O,N)}),Rn(bn(i),"onDragEnd",function(){i.setState({isDraging:!1})}),Rn(bn(i),"zoomHandler",function(p){var O=i.props,N=O.graphModel,B=N.editConfigModel,$=N.transformModel,J=N.gridSize,fe=O.graphModel,pe=p.deltaX,he=p.deltaY;if(!B.stopScrollGraph&&p.ctrlKey!==!0){if(p.preventDefault(),i.stepScrollX+=pe,i.stepScrollY+=he,Math.abs(i.stepScrollX)>=J){var Ne=i.stepScrollX%J,Fe=i.stepScrollX-Ne;$.translate(-Fe*$.SCALE_X,0),i.stepScrollX=Ne}if(Math.abs(i.stepScrollY)>=J){var Le=i.stepScrollY%J,ke=i.stepScrollY-Le;$.translate(0,-ke*$.SCALE_Y),i.stepScrollY=Le}return}if(!B.stopZoomGraph){p.preventDefault();var rt=fe.getPointByClient({x:p.clientX,y:p.clientY}),lt=rt.canvasOverlayPosition,Pt=lt.x,Ot=lt.y;$.zoom(p.deltaY<0,[Pt,Ot])}}),Rn(bn(i),"clickHandler",function(p){var O=p.target;if(O.getAttribute("name")==="canvas-overlay"){var N=i.props.graphModel,B=N.selectElements;B.size>0&&N.clearSelectElements(),N.eventCenter.emit(Mt.BLANK_CLICK,{e:p})}}),Rn(bn(i),"handleContextMenu",function(p){var O=p.target;if(O.getAttribute("name")==="canvas-overlay"){p.preventDefault();var N=i.props.graphModel,B=N.getPointByClient({x:p.clientX,y:p.clientY});N.eventCenter.emit(Mt.BLANK_CONTEXTMENU,{e:p,position:B})}}),Rn(bn(i),"mouseDownHandler",function(p){var O=i.props.graphModel,N=O.eventCenter,B=O.editConfigModel,$=O.transformModel.SCALE_X,J=O.gridSize,fe=p.target,pe=!B.adjustEdge&&!B.adjustNodePosition;(fe.getAttribute("name")==="canvas-overlay"||pe)&&(B.stopMoveGraph?N.emit(Mt.BLANK_MOUSEDOWN,{e:p}):(i.stepDrag.setStep(J*$),i.stepDrag.handleMouseDown(p)),i.clickHandler(p))});var a=n.graphModel,l=a.gridSize,d=a.eventCenter;return i.stepDrag=new So({onDraging:i.onDraging,onDragEnd:i.onDragEnd,step:l,eventType:"BLANK",isStopPropagation:!1,eventCenter:d,model:null}),i.state={isDraging:!1},i}return _0(r,[{key:"render",value:function(){var i=this.props.graphModel.transformModel,a=i.getTransformStyle(),l=a.transform,d=this.props,p=d.children,O=d.dnd,N=this.state.isDraging;return Object(Se.g)("svg",Tf({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:N?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},O.eventMap()),Object(Se.g)("g",{transform:l},p))}}]),r}(Se.a))||Nh,iA=oA;function Gu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gu=function(r){return typeof r}:Gu=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gu(e)}var jh;function aA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ch(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uA(e,t,r){return t&&Ch(e.prototype,t),r&&Ch(e,r),e}function lA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Af(e,t)}function Af(e,t){return Af=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Af(e,t)}function sA(e){var t=cA();return function(){var n=Uu(e),i;if(t){var a=Uu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return fA(this,i)}}function fA(e,t){if(t&&(Gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rh(e)}function Rh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Uu(e){return Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Uu(e)}function dA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pA=Gi(jh=function(e){lA(r,e);var t=sA(r);function r(){var n;aA(this,r);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=t.call.apply(t,[this].concat(a)),dA(Rh(n),"setToolOverlayRef",function(d){var p=n.props.tool,O=p.getInstance();O.components.forEach(function(N){return N(O,d)}),O.components=[]}),n}return uA(r,[{key:"getTools",value:function(){var i=this.props,a=i.tool,l=i.graphModel,d=a.getTools(),p=d.map(function(O){return Object(Se.g)(O,{graphModel:l,logicFlow:a.instance})});return a.components=p,p}},{key:"render",value:function(){return Object(Se.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}]),r}(Se.a))||jh;function $u(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$u=function(r){return typeof r}:$u=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$u(e)}function vA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ih(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hA(e,t,r){return t&&Ih(e.prototype,t),r&&Ih(e,r),e}function yA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nf(e,t)}function Nf(e,t){return Nf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Nf(e,t)}function gA(e){var t=OA();return function(){var n=ku(e),i;if(t){var a=ku(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return mA(this,i)}}function mA(e,t){if(t&&($u(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bA(e)}function bA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ku(e){return ku=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ku(e)}var EA=function(e){yA(r,e);var t=gA(r);function r(){return vA(this,r),t.apply(this,arguments)}return hA(r,[{key:"render",value:function(){var i=this.props.background;return Object(Se.g)("div",{className:"lf-background"},Object(Se.g)("div",{style:i,className:"lf-background-area"}))}}]),r}(Se.a);function Xu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xu=function(r){return typeof r}:Xu=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xu(e)}var Bh;function SA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xA(e,t,r){return t&&Lh(e.prototype,t),r&&Lh(e,r),e}function PA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Df(e,t)}function Df(e,t){return Df=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Df(e,t)}function MA(e){var t=wA();return function(){var n=Yu(e),i;if(t){var a=Yu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return TA(this,i)}}function TA(e,t){if(t&&(Xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zh(e)}function zh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Yu(e){return Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Yu(e)}function AA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fh=Gi(Bh=function(e){PA(r,e);var t=MA(r);function r(){var n;SA(this,r);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=t.call.apply(t,[this].concat(a)),AA(zh(n),"id",Eo()),n}return xA(r,[{key:"renderDot",value:function(){var i=this.props,a=i.config,l=a.color,d=a.thickness,p=d===void 0?2:d,O=i.size,N=i.visible,B=Math.min(Math.max(2,p),O/2),$=1;return N||($=0),Object(Se.g)("rect",{width:B,height:B,rx:B/2,ry:B/2,fill:l,opacity:$})}},{key:"renderMesh",value:function(){var i=this.props,a=i.config,l=a.color,d=a.thickness,p=d===void 0?1:d,O=i.size,N=i.visible,B=Math.min(Math.max(1,p),O/2),$="M ".concat(O," 0 H0 M0 0 V0 ").concat(O),J=1;return N||(J=0),Object(Se.g)("path",{d:$,stroke:l,strokeWidth:B,opacity:J})}},{key:"render",value:function(){var i=this.props,a=i.type,l=i.size,d=i.graphModel.transformModel,p=d.SCALE_X,O=d.SKEW_Y,N=d.SKEW_X,B=d.SCALE_Y,$=d.TRANSLATE_X,J=d.TRANSLATE_Y,fe=[p,O,N,B,$,J].join(","),pe="matrix(".concat(fe,")");return Object(Se.g)("div",{className:"lf-grid"},Object(Se.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(Se.g)("defs",null,Object(Se.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:pe,x:"0",y:"0",width:l,height:l},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),Object(Se.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),r}(Se.a))||Bh;Fh.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}};var PR=u(52);function Wu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wu=function(r){return typeof r}:Wu=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wu(e)}function NA(e,t){return RA(e)||CA(e,t)||jA(e,t)||DA()}function DA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jA(e,t){if(!!e){if(typeof e=="string")return Hh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hh(e,t)}}function Hh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CA(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function RA(e){if(Array.isArray(e))return e}function IA(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(r){var n=NA(r,2),i=n[0],a=n[1];if(i==="style")t[i]=a;else{var l=Wu(a);l!=="object"&&(t[i]=a)}}),Object(Se.g)("line",t)}var xo=IA;function Ku(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ku=function(r){return typeof r}:Ku=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ku(e)}var Gh;function Uh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uh(Object(r),!0).forEach(function(n){BA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zA(e,t,r){return t&&$h(e.prototype,t),r&&$h(e,r),e}function FA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jf(e,t)}function jf(e,t){return jf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},jf(e,t)}function HA(e){var t=$A();return function(){var n=Zu(e),i;if(t){var a=Zu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return GA(this,i)}}function GA(e,t){if(t&&(Ku(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UA(e)}function UA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $A(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Zu(e){return Zu=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Zu(e)}var kA=Gi(Gh=function(e){FA(r,e);var t=HA(r);function r(){return LA(this,r),t.apply(this,arguments)}return zA(r,[{key:"render",value:function(){var i=this.props.snaplineModel,a=i.position,l=i.isShowHorizontal,d=i.isShowVertical,p=i.getStyle(),O=a.x,N=O===void 0?0:O,B=a.y,$=B===void 0?0:B,J=Vu(Vu({x1:-1e5,y1:$,x2:1e5,y2:$},p),{},{stroke:l?p.stroke:"none"}),fe=Vu(Vu({x1:N,y1:-1e5,x2:N,y2:1e5},p),{},{stroke:d?p.stroke:"none"});return Object(Se.g)("g",{className:"lf-snapline"},Object(Se.g)(xo,J),Object(Se.g)(xo,fe))}}]),r}(Se.a))||Gh;function Ju(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ju=function(r){return typeof r}:Ju=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ju(e)}function XA(e,t){return VA(e)||KA(e,t)||WA(e,t)||YA()}function YA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WA(e,t){if(!!e){if(typeof e=="string")return kh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kh(e,t)}}function kh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KA(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function VA(e){if(Array.isArray(e))return e}function _n(e){var t=e.x,r=e.y,n=e.width,i=e.height,a=e.className,l=e.radius,d=t-n/2,p=r-i/2,O={};return Object.entries(e).forEach(function(N){var B=XA(N,2),$=B[0],J=B[1],fe=Ju(J);fe!=="object"&&(O[$]=J)}),a?O.className="lf-basic-shape ".concat(a):O.className="lf-basic-shape",l&&(O.rx=l,O.ry=l),O.x=d,O.y=p,Object(Se.g)("rect",O)}_n.defaultProps={className:"",radius:""};function Qu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qu=function(r){return typeof r}:Qu=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qu(e)}var Xh;function li(){return li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},li.apply(this,arguments)}function Yh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yh(Object(r),!0).forEach(function(n){ZA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function QA(e,t,r){return t&&Kh(e.prototype,t),r&&Kh(e,r),e}function qA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cf(e,t)}function Cf(e,t){return Cf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Cf(e,t)}function _A(e){var t=rN();return function(){var n=qu(e),i;if(t){var a=qu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return eN(this,i)}}function eN(e,t){if(t&&(Qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tN(e)}function tN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function qu(e){return qu=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},qu(e)}var nN=Gi(Xh=function(e){qA(r,e);var t=_A(r);function r(){return JA(this,r),t.apply(this,arguments)}return QA(r,[{key:"getNodesOutline",value:function(){var i=this.props.graphModel,a=i.nodes,l=i.editConfigModel,d=l.hoverOutline,p=l.nodeSelectedOutline,O=[];return a.forEach(function(N){if(N.isHovered||N.isSelected){var B=N.isHovered,$=N.isSelected,J=N.x,fe=N.y,pe=N.width,he=N.height;if(p&&$||d&&B){var Ne=N.getOutlineStyle(),Fe={};if(Object.keys(Ne).forEach(function(ke){ke!=="hover"&&(Fe[ke]=Ne[ke])}),B){var Le=Ne.hover;Fe=Wh(Wh({},Fe),Le)}O.push(Object(Se.g)(_n,li({className:"lf-outline-node",x:J,y:fe,width:pe+10,height:he+10},Fe)))}}}),O}},{key:"getEdgeOutline",value:function(){for(var i=this.props.graphModel,a=i.edges,l=i.editConfigModel,d=l.edgeSelectedOutline,p=l.hoverOutline,O=[],N=0;N<a.length;N++){var B=a[N];(d&&B.isSelected||p&&B.isHovered)&&(B.modelType===zt.LINE_EDGE?O.push(this.getLineOutline(B)):B.modelType===zt.POLYLINE_EDGE?O.push(this.getPolylineOutline(B)):B.modelType===zt.BEZIER_EDGE&&O.push(this.getBezierOutline(B)))}return O}},{key:"getLineOutline",value:function(i){var a=i.startPoint,l=i.endPoint,d=(a.x+l.x)/2,p=(a.y+l.y)/2,O=Math.abs(a.x-l.x)+10,N=Math.abs(a.y-l.y)+10,B=i.getOutlineStyle();return Object(Se.g)(_n,li({className:"lf-outline-edge",x:d,y:p,width:O,height:N},B))}},{key:"getPolylineOutline",value:function(i){var a=i.points,l=ii(a),d=sa(l,8),p=d.x,O=d.y,N=d.width,B=d.height,$=i.getOutlineStyle();return Object(Se.g)(_n,li({className:"lf-outline",x:p,y:O,width:N,height:B},$))}},{key:"getBezierOutline",value:function(i){var a=i.path,l=Iu(a),d=sa(l,8),p=d.x,O=d.y,N=d.width,B=d.height,$=i.getOutlineStyle();return Object(Se.g)(_n,li({className:"lf-outline",x:p,y:O,width:N,height:B},$))}},{key:"render",value:function(){return Object(Se.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),r}(Se.a))||Xh;function _u(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_u=function(r){return typeof r}:_u=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_u(e)}function oN(e,t){return lN(e)||uN(e,t)||aN(e,t)||iN()}function iN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aN(e,t){if(!!e){if(typeof e=="string")return Vh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vh(e,t)}}function Vh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uN(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function lN(e){if(Array.isArray(e))return e}function da(e){var t=e.x,r=t===void 0?0:t,n=e.y,i=n===void 0?0:n,a=e.r,l=a===void 0?4:a,d=e.className,p={cx:r,cy:i,r:l,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(O){var N=oN(O,2),B=N[0],$=N[1],J=_u($);J!=="object"&&(p[B]=$)}),d?p.className="lf-basic-shape ".concat(d):p.className="lf-basic-shape",Object(Se.g)("circle",p)}function el(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?el=function(r){return typeof r}:el=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},el(e)}var Zh;function sN(e,t){return pN(e)||dN(e,t)||cN(e,t)||fN()}function fN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cN(e,t){if(!!e){if(typeof e=="string")return Jh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jh(e,t)}}function Jh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dN(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function pN(e){if(Array.isArray(e))return e}function pa(){return pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pa.apply(this,arguments)}function Qh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _h(e,t,r){return t&&qh(e.prototype,t),r&&qh(e,r),e}function ey(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rf(e,t)}function Rf(e,t){return Rf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Rf(e,t)}function ty(e){var t=hN();return function(){var n=rl(e),i;if(t){var a=rl(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return vN(this,i)}}function vN(e,t){if(t&&(el(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tl(e)}function tl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function rl(e){return rl=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},rl(e)}function If(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ry=function(e){ey(r,e);var t=ty(r);function r(){var n;return Qh(this,r),n=t.call(this),If(tl(n),"dragHandler",void 0),If(tl(n),"onDraging",function(i){var a=i.event,l=n.props,d=l.graphModel,p=l.bezierModel,O=l.type,N=d.getPointByClient({x:a.clientX,y:a.clientY}),B=N.canvasOverlayPosition,$=B.x,J=B.y;p.updateAdjustAnchor({x:$,y:J},O)}),If(tl(n),"onDragEnd",function(){var i=n.props.bezierModel;i.isDragging=!1}),n.dragHandler=new So({onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return _h(r,[{key:"render",value:function(){var i=this,a=this.props.position,l=a.x,d=a.y,p=this.props.bezierModel,O=p.getEdgeStyle(),N=O.adjustAnchor;return Object(Se.g)(da,pa({className:"lf-bezier-adjust-anchor",x:l,y:d},N,{onMouseDown:function($){i.dragHandler.handleMouseDown($)}}))}}]),r}(Se.a),yN=Gi(Zh=function(e){ey(r,e);var t=ty(r);function r(){return Qh(this,r),t.apply(this,arguments)}return _h(r,[{key:"getBezierAdjust",value:function(i,a){var l=i.path,d=i.id,p=Iu(l),O=sN(p,4),N=O[0],B=O[1],$=O[2],J=O[3],fe=i.getEdgeStyle(),pe=fe.adjustLine,he=[];return he.push(Object(Se.g)(xo,pa({x1:N.x,y1:N.y,x2:B.x,y2:B.y},pe))),he.push(Object(Se.g)(ry,{position:B,bezierModel:i,graphModel:a,key:"".concat(d,"_ePre"),type:"sNext"})),he.push(Object(Se.g)(xo,pa({x1:J.x,y1:J.y,x2:$.x,y2:$.y},pe))),he.push(Object(Se.g)(ry,{position:$,bezierModel:i,graphModel:a,key:"".concat(d,"_sNext"),type:"ePre"})),he}},{key:"selectedBezierEdge",value:function(){for(var i=this.props.graphModel,a=i.edges,l=[],d=0;d<a.length;d++){var p=a[d];p.isSelected&&p.modelType===zt.BEZIER_EDGE&&p.draggable&&l.push(this.getBezierAdjust(p,i))}return l}},{key:"render",value:function(){return Object(Se.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),r}(Se.a))||Zh;function nl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nl=function(r){return typeof r}:nl=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},nl(e)}var ny;function gN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mN(e,t,r){return t&&oy(e.prototype,t),r&&oy(e,r),e}function bN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bf(e,t)}function Bf(e,t){return Bf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Bf(e,t)}function ON(e){var t=xN();return function(){var n=ol(e),i;if(t){var a=ol(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return EN(this,i)}}function EN(e,t){if(t&&(nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SN(e)}function SN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ol(e){return ol=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ol(e)}var PN=Gi(ny=function(e){bN(r,e);var t=ON(r);function r(){return gN(this,r),t.apply(this,arguments)}return mN(r,[{key:"render",value:function(){var i=this.props.graphModel.transformModel,a=i.getTransformStyle(),l=a.transform,d=this.props.children;return Object(Se.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(Se.g)("g",{transform:l},d))}}]),r}(Se.a))||ny;function il(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?il=function(r){return typeof r}:il=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},il(e)}var iy;function Lf(){return Lf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lf.apply(this,arguments)}function MN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ay(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TN(e,t,r){return t&&ay(e.prototype,t),r&&ay(e,r),e}function wN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zf(e,t)}function zf(e,t){return zf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},zf(e,t)}function AN(e){var t=jN();return function(){var n=al(e),i;if(t){var a=al(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return NN(this,i)}}function NN(e,t){if(t&&(il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DN(e)}function DN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function al(e){return al=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},al(e)}var CN=Gi(iy=function(e){wN(r,e);var t=AN(r);function r(){return MN(this,r),t.apply(this,arguments)}return TN(r,[{key:"getComponent",value:function(i,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",d=this.props.getView,p=d(i.type);return Object(Se.g)(p,{key:i.id,model:i,graphModel:a,overlay:l})}},{key:"render",value:function(){var i=this,a=this.props,l=a.graphModel,d=a.tool,p=a.options,O=a.dnd,N=a.snaplineModel,B={};p.width&&(B.width="".concat(l.width,"px")),p.height&&(B.height="".concat(l.height,"px"));var $=l.fakerNode,J=l.editConfigModel,fe=J.adjustEdge;return Object(Se.g)("div",{className:"lf-graph",style:B},Object(Se.g)(iA,{graphModel:l,dnd:O},Object(Se.g)("g",{className:"lf-base"},du(l.sortElements,function(pe){return i.getComponent(pe,l)})),$?this.getComponent($,l):""),Object(Se.g)(PN,{graphModel:l},Object(Se.g)(nN,{graphModel:l}),fe?Object(Se.g)(yN,{graphModel:l}):"",!p.isSilentMode&&p.snapline!==!1?Object(Se.g)(kA,{snaplineModel:N}):""),Object(Se.g)(pA,{graphModel:l,tool:d}),p.background&&Object(Se.g)(EA,{background:p.background}),p.grid&&Object(Se.g)(Fh,Lf({},p.grid,{graphModel:l})))}}]),r}(Se.a))||iy,RN=CN;function uy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ul(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uy(Object(r),!0).forEach(function(n){In(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ly(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BN(e,t,r){return t&&ly(e.prototype,t),r&&ly(e,r),e}function In(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var LN=function(){function e(t){var r=this;IN(this,e),In(this,"nodeConfig",void 0),In(this,"lf",void 0),In(this,"fakerNode",void 0),In(this,"stopDrag",function(){r.nodeConfig=null,window.document.removeEventListener("mouseup",r.stopDrag)}),In(this,"dragEnter",function(i){!r.nodeConfig||r.fakerNode||(r.fakerNode=r.lf.createFakerNode(ul(ul({},r.nodeConfig),r.clientToLocalPoint({x:i.clientX,y:i.clientY}))))}),In(this,"onDragOver",function(i){if(i.preventDefault(),r.fakerNode){var a=r.clientToLocalPoint({x:i.clientX,y:i.clientY}),l=a.x,d=a.y;r.fakerNode.moveTo(l,d);var p=r.fakerNode.getData();r.lf.setNodeSnapLine(p),r.lf.graphModel.eventCenter.emit(Mt.NODE_DND_DRAG,{data:p})}return!1}),In(this,"onDragLeave",function(){r.fakerNode&&(r.lf.removeNodeSnapLine(),r.lf.graphModel.removeFakerNode(),r.fakerNode=null)}),In(this,"onDrop",function(i){if(!(!r.lf.graphModel||!i||!r.nodeConfig)){var a=r.lf.addNode(ul(ul({},r.nodeConfig),r.clientToLocalPoint({x:i.clientX,y:i.clientY})));i.preventDefault(),i.stopPropagation(),r.nodeConfig=null,r.lf.removeNodeSnapLine(),r.lf.graphModel.removeFakerNode(),r.fakerNode=null;var l=a.getData();r.lf.graphModel.eventCenter.emit(Mt.NODE_DND_ADD,{data:l})}});var n=t.lf;this.lf=n}return BN(e,[{key:"clientToLocalPoint",value:function(r){var n=r.x,i=r.y,a=op(this.lf.options,["grid","size"]),l=this.lf.graphModel.getPointByClient({x:n,y:i}),d=l.canvasOverlayPosition,p=d.x,O=d.y;return{x:Oo(p,a),y:Oo(O,a)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),e}();function sy(e){var t=e.container,r=e.grid,n=e.width,i=e.height;if(!t)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof n=="string"||typeof i=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return r&&(e.grid=Br({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},r)),Br({},fy,e)}var fy={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function ll(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ll=function(r){return typeof r}:ll=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ll(e)}var $t,cy;function Ff(e,t){return GN(e)||HN(e,t)||FN(e,t)||zN()}function zN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FN(e,t){if(!!e){if(typeof e=="string")return dy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dy(e,t)}}function dy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HN(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function GN(e){if(Array.isArray(e))return e}function py(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?py(Object(r),!0).forEach(function(n){hy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):py(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UN(e,t,r,n){!r||Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function $N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kN(e,t,r){return t&&vy(e.prototype,t),r&&vy(e,r),e}function si(){return typeof Reflect!="undefined"&&Reflect.get?si=Reflect.get:si=function(t,r,n){var i=XN(t,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?t:n):a.value}},si.apply(this,arguments)}function XN(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=eo(e),e!==null););return e}function YN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hf(e,t)}function Hf(e,t){return Hf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Hf(e,t)}function WN(e){var t=VN();return function(){var n=eo(e),i;if(t){var a=eo(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return KN(this,i)}}function KN(e,t){if(t&&(ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fl(e)}function fl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function eo(e){return eo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},eo(e)}function hy(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function un(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(l,d){return d(e,t,l)||l},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,t,a),a=null),a}function MR(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var Gf=($t=function(e){YN(r,e);var t=WN(r);function r(){var n;$N(this,r);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=t.call.apply(t,[this].concat(a)),hy(fl(n),"modelType",zt.BEZIER_EDGE),UN(fl(n),"path",cy,fl(n)),n}return kN(r,[{key:"initEdgeData",value:function(i){this.offset=100,si(eo(r.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.bezier,a=si(eo(r.prototype),"getEdgeStyle",this).call(this);return sl(sl({},a),ur(i))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var i=0,a=0;return this.pointsList.forEach(function(l){var d=l.x,p=l.y;i+=d,a+=p}),{x:i/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var i=si(eo(r.prototype),"getData",this).call(this),a=this.pointsList.map(function(l){var d=l.x,p=l.y;return{x:d,y:p}});return sl(sl({},i),{},{pointsList:a})}},{key:"getControls",value:function(){var i=this.startPoint,a=this.endPoint,l=lh({start:i,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return l}},{key:"getPath",value:function(i){var a=Ff(i,4),l=a[0],d=a[1],p=a[2],O=a[3];return"M ".concat(l.x," ").concat(l.y,`
    C `).concat(d.x," ").concat(d.y,`,
    `).concat(p.x," ").concat(p.y,`,
    `).concat(O.x," ").concat(O.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var i=this.getControls(),a=i.sNext,l=i.ePre;this.updatePath(a,l)}},{key:"updatePath",value:function(i,a){var l={x:this.startPoint.x,y:this.startPoint.y},d={x:this.endPoint.x,y:this.endPoint.y};if(!i||!a){var p=this.getControls();i=p.sNext,a=p.ePre}this.pointsList=[l,i,a,d],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,a){this.startPoint.x+=i,this.startPoint.y+=a;var l=Ff(this.pointsList,3),d=l[1],p=l[2];d.x+=i,d.y+=a,this.updatePath(d,p)}},{key:"moveEndPoint",value:function(i,a){this.endPoint.x+=i,this.endPoint.y+=a;var l=Ff(this.pointsList,3),d=l[1],p=l[2];p.x+=i,p.y+=a,this.updatePath(d,p)}},{key:"updateAdjustAnchor",value:function(i,a){a==="sNext"?this.pointsList[1]=i:a==="ePre"&&(this.pointsList[2]=i),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var a=i.startPoint,l=i.endPoint,d=i.sourceNode,p=i.targetNode,O=lh({start:a,end:l,sourceNode:d,targetNode:p,offset:this.offset}),N=O.sNext,B=O.ePre;this.pointsList=[a,N,B,l],this.initPoints()}}]),r}(vf),cy=un($t.prototype,"path",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),un($t.prototype,"initPoints",[c.k],Object.getOwnPropertyDescriptor($t.prototype,"initPoints"),$t.prototype),un($t.prototype,"updatePoints",[c.k],Object.getOwnPropertyDescriptor($t.prototype,"updatePoints"),$t.prototype),un($t.prototype,"updateStartPoint",[c.k],Object.getOwnPropertyDescriptor($t.prototype,"updateStartPoint"),$t.prototype),un($t.prototype,"updateEndPoint",[c.k],Object.getOwnPropertyDescriptor($t.prototype,"updateEndPoint"),$t.prototype),un($t.prototype,"moveStartPoint",[c.k],Object.getOwnPropertyDescriptor($t.prototype,"moveStartPoint"),$t.prototype),un($t.prototype,"moveEndPoint",[c.k],Object.getOwnPropertyDescriptor($t.prototype,"moveEndPoint"),$t.prototype),un($t.prototype,"updateAdjustAnchor",[c.k],Object.getOwnPropertyDescriptor($t.prototype,"updateAdjustAnchor"),$t.prototype),un($t.prototype,"getAdjustStart",[c.k],Object.getOwnPropertyDescriptor($t.prototype,"getAdjustStart"),$t.prototype),un($t.prototype,"getAdjustEnd",[c.k],Object.getOwnPropertyDescriptor($t.prototype,"getAdjustEnd"),$t.prototype),un($t.prototype,"updateAfterAdjustStartAndEnd",[c.k],Object.getOwnPropertyDescriptor($t.prototype,"updateAfterAdjustStartAndEnd"),$t.prototype),$t);function ZN(e){return e==null}var JN=ZN,Ze,yy,gy,my,by,Oy,Ey,Sy,xy,Py,My,Ty,wy,Ay,Ny,Dy,jy,Cy,Ry,Uf;function cc(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cc=function(r){return typeof r}:cc=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cc(e)}function QN(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Zm(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(O){throw O},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,l=!1,d;return{s:function(){r=r.call(e)},n:function(){var O=r.next();return a=O.done,O},e:function(O){l=!0,d=O},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(l)throw d}}}}function Zm(e,t){if(!!e){if(typeof e=="string")return Iy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iy(e,t)}}function Iy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gn(Object(r),!0).forEach(function(n){_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function On(e,t,r,n){!r||Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Jm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lo(e,t,r){return t&&Qm(e.prototype,t),r&&Qm(e,r),e}function _t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hr(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(l,d){return d(e,t,l)||l},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,t,a),a=null),a}function Da(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var zo=(Ze=function(){function e(t,r){Jm(this,e),_t(this,"id",Eo()),On(this,"type",yy,this),On(this,"x",gy,this),On(this,"y",my,this),On(this,"text",by,this),On(this,"properties",Oy,this),On(this,"_width",Ey,this),On(this,"_height",Sy,this),On(this,"anchorsOffset",xy,this),On(this,"isSelected",Py,this),On(this,"isHovered",My,this),On(this,"isShowAnchor",Ty,this),On(this,"isDragging",wy,this),On(this,"isHitable",Ay,this),On(this,"draggable",Ny,this),On(this,"visible",Dy,this),_t(this,"virtual",!1),_t(this,"graphModel",void 0),On(this,"zIndex",jy,this),On(this,"state",Cy,this),On(this,"autoToFront",Ry,this),On(this,"style",Uf,this),_t(this,"BaseType",Or.NODE),_t(this,"modelType",zt.NODE),_t(this,"additionStateData",void 0),_t(this,"targetRules",[]),_t(this,"sourceRules",[]),_t(this,"moveRules",[]),_t(this,"hasSetTargetRules",!1),_t(this,"hasSetSourceRules",!1),this.graphModel=r,this.initNodeData(t),this.setAttributes()}return lo(e,[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var n=this.graphModel.idGenerator,i=n&&n(r.type);i&&(r.id=i);var a=this.createId();a&&(r.id=a)}this.formatText(r),Br(this,Uw(r));var l=this.graphModel.overlapMode;l===Wr.INCREASE&&(this.zIndex=r.zIndex||df())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,n=r.x,i=r.y,a=r.value,l=this.properties;Object(c.x)(l)&&(l=Object(c.I)(l));var d={id:this.id,type:this.type,x:this.x,y:this.y,properties:l};return this.graphModel.overlapMode===Wr.INCREASE&&(d.zIndex=this.zIndex),a&&(d.text={x:n,y:i,value:a}),d}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(c.I)(this.properties)}},{key:"getNodeStyle",value:function(){return wr(wr({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return ur(r)}},{key:"getAnchorStyle",value:function(r){var n=this.graphModel.theme.anchor;return ur(n)}},{key:"getAnchorLineStyle",value:function(r){var n=this.graphModel.theme.anchorLine;return ur(n)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return ur(r)}},{key:"isAllowConnectedAsSource",value:function(r,n,i){var a=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var l=!0,d,p=0;p<a.length;p++){var O=a[p];if(!O.validate.call(this,this,r,n,i)){l=!1,d=O.message;break}}return{isAllPass:l,msg:d}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,n,i){var a=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var l=!0,d,p=0;p<a.length;p++){var O=a[p];if(!O.validate.call(this,r,this,n,i)){l=!1,d=O.message;break}}return{isAllPass:l,msg:d}}},{key:"isAllowMoveNode",value:function(r,n){var i=!0,a=!0,l=this.moveRules.concat(this.graphModel.nodeMoveRules),d=QN(l),p;try{for(d.s();!(p=d.n()).done;){var O=p.value,N=O(this,r,n);if(!N)return!1;if(cc(N)==="object"){var B=N;if(B.x===!1&&B.y===!1)return!1;i=i&&B.x,a=a&&B.y}}}catch($){d.e($)}finally{d.f()}return{x:i,y:a}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,n=this.id,i=this.x,a=this.y;return r&&r.length>0?r.map(function(l,d){return l.length?(l=l,{id:"".concat(n,"_").concat(d),x:i+l[0],y:a+l[1]}):(l=l,wr(wr({},l),{},{x:i+l.x,y:a+l.y,id:l.id||"".concat(n,"_").concat(d)}))}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(r){if(!JN(r))for(var n=0;n<this.anchors.length;n++){var i=this.anchors[n];if(i.id===r)return i}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,l=!1;if(i)a=!0,l=!0;else{var d=this.isAllowMoveNode(r,n);typeof d=="boolean"?(a=d,l=d):(a=d.x,l=d.y)}if(a){var p=this.x+r;this.x=p,this.text&&this.moveText(r,0)}if(l){var O=this.y+n;this.y=O,this.text&&this.moveText(0,n)}return a||l}},{key:"getMoveDistance",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,l=!1,d=0,p=0;if(i)a=!0,l=!0;else{var O=this.isAllowMoveNode(r,n);typeof O=="boolean"?(a=O,l=O):(a=O.x,l=O.y)}if(a&&r){var N=this.x+r;this.x=N,this.text&&this.moveText(r,0),d=r}if(l&&n){var B=this.y+n;this.y=B,this.text&&this.moveText(0,n),p=n}return[d,p]}},{key:"moveTo",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=r-this.x,l=n-this.y;return!i&&!this.isAllowMoveNode(a,l)?!1:(this.text&&this.text&&this.moveText(a,l),this.x=r,this.y=n,!0)}},{key:"moveText",value:function(r,n){var i=this.text,a=i.x,l=i.y,d=i.value,p=i.draggable,O=i.editable;this.text={value:d,editable:O,draggable:p,x:a+r,y:l+n}}},{key:"updateText",value:function(r){this.text=wr(wr({},this.text),{},{value:r})}},{key:"setSelected",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=r}},{key:"setHovered",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isShowAnchor=r}},{key:"setHitable",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=r}},{key:"setElementState",value:function(r,n){this.state=r,this.additionStateData=n}},{key:"setProperty",value:function(r,n){this.properties=wr(wr({},this.properties),{},_t({},r,Nr(n))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=wr(wr({},this.properties),Nr(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,n){this.style=wr(wr({},this.style),{},_t({},r,Nr(n)))}},{key:"setStyles",value:function(r){this.style=wr(wr({},this.style),Nr(r))}},{key:"updateStyles",value:function(r){this.style=wr({},Nr(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){Br(this,r)}}]),e}(),yy=hr(Ze.prototype,"type",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),gy=hr(Ze.prototype,"x",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),my=hr(Ze.prototype,"y",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),by=hr(Ze.prototype,"text",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Oy=hr(Ze.prototype,"properties",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ey=hr(Ze.prototype,"_width",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Sy=hr(Ze.prototype,"_height",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),xy=hr(Ze.prototype,"anchorsOffset",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Py=hr(Ze.prototype,"isSelected",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),My=hr(Ze.prototype,"isHovered",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ty=hr(Ze.prototype,"isShowAnchor",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wy=hr(Ze.prototype,"isDragging",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ay=hr(Ze.prototype,"isHitable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ny=hr(Ze.prototype,"draggable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Dy=hr(Ze.prototype,"visible",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jy=hr(Ze.prototype,"zIndex",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Cy=hr(Ze.prototype,"state",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ry=hr(Ze.prototype,"autoToFront",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Uf=hr(Ze.prototype,"style",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),hr(Ze.prototype,"incoming",[c.m],Object.getOwnPropertyDescriptor(Ze.prototype,"incoming"),Ze.prototype),hr(Ze.prototype,"outgoing",[c.m],Object.getOwnPropertyDescriptor(Ze.prototype,"outgoing"),Ze.prototype),hr(Ze.prototype,"addNodeMoveRules",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"addNodeMoveRules"),Ze.prototype),hr(Ze.prototype,"move",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"move"),Ze.prototype),hr(Ze.prototype,"getMoveDistance",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"getMoveDistance"),Ze.prototype),hr(Ze.prototype,"moveTo",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"moveTo"),Ze.prototype),hr(Ze.prototype,"moveText",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"moveText"),Ze.prototype),hr(Ze.prototype,"updateText",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"updateText"),Ze.prototype),hr(Ze.prototype,"setSelected",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"setSelected"),Ze.prototype),hr(Ze.prototype,"setHovered",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"setHovered"),Ze.prototype),hr(Ze.prototype,"setIsShowAnchor",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"setIsShowAnchor"),Ze.prototype),hr(Ze.prototype,"setHitable",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"setHitable"),Ze.prototype),hr(Ze.prototype,"setElementState",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"setElementState"),Ze.prototype),hr(Ze.prototype,"setProperty",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"setProperty"),Ze.prototype),hr(Ze.prototype,"setProperties",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"setProperties"),Ze.prototype),hr(Ze.prototype,"deleteProperty",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"deleteProperty"),Ze.prototype),hr(Ze.prototype,"setStyle",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"setStyle"),Ze.prototype),hr(Ze.prototype,"setStyles",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"setStyles"),Ze.prototype),hr(Ze.prototype,"updateStyles",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"updateStyles"),Ze.prototype),hr(Ze.prototype,"setZIndex",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"setZIndex"),Ze.prototype),hr(Ze.prototype,"updateAttributes",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"updateAttributes"),Ze.prototype),Ze);function Fo(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fo=function(r){return typeof r}:Fo=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fo(e)}var Ni,By;function Ly(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ly(Object(r),!0).forEach(function(n){yc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ly(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qN(e,t,r,n){!r||Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dc(e,t,r){return t&&eb(e.prototype,t),r&&eb(e,r),e}function pc(){return typeof Reflect!="undefined"&&Reflect.get?pc=Reflect.get:pc=function(t,r,n){var i=_N(t,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?t:n):a.value}},pc.apply(this,arguments)}function _N(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=cl(e),e!==null););return e}function zy(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fy(e,t)}function Fy(e,t){return Fy=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Fy(e,t)}function eD(e){var t=Cl();return function(){var n=cl(e),i;if(t){var a=cl(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return vc(this,i)}}function vc(e,t){if(t&&(Fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hc(e)}function hc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cl(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function cl(e){return cl=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},cl(e)}function yc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tb(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(l,d){return d(e,t,l)||l},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,t,a),a=null),a}function Hy(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var Gy=(Ni=function(e){zy(r,e);var t=eD(r);function r(){var n;_m(this,r);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=t.call.apply(t,[this].concat(a)),yc(hc(n),"modelType",zt.CIRCLE_NODE),qN(hc(n),"r",By,hc(n)),n}return dc(r,[{key:"width",get:function(){return this.r*2}},{key:"height",get:function(){return this.r*2}},{key:"getNodeStyle",value:function(){var i=pc(cl(r.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.circle;return qm(qm({},i),ur(a))}},{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,l=this.r;return[{x:i,y:a-l,id:"".concat(this.id,"_0")},{x:i+l,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+l,id:"".concat(this.id,"_2")},{x:i-l,y:a,id:"".concat(this.id,"_3")}]}}]),r}(zo),By=tb(Ni.prototype,"r",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),tb(Ni.prototype,"width",[c.m],Object.getOwnPropertyDescriptor(Ni.prototype,"width"),Ni.prototype),tb(Ni.prototype,"height",[c.m],Object.getOwnPropertyDescriptor(Ni.prototype,"height"),Ni.prototype),Ni),TR=Gy,Uy=u(127);function En(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?En=function(r){return typeof r}:En=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},En(e)}var Bn,$y,gc;function ky(e,t){return ob(e)||rD(e,t)||rb(e,t)||tD()}function tD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rb(e,t){if(!!e){if(typeof e=="string")return nb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nb(e,t)}}function nb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rD(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function ob(e){if(Array.isArray(e))return e}function Xy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xy(Object(r),!0).forEach(function(n){pl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ib(e,t,r,n){!r||Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ab(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ub(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mc(e,t,r){return t&&ub(e.prototype,t),r&&ub(e,r),e}function bc(){return typeof Reflect!="undefined"&&Reflect.get?bc=Reflect.get:bc=function(t,r,n){var i=nD(t,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?t:n):a.value}},bc.apply(this,arguments)}function nD(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=dl(e),e!==null););return e}function Wy(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ky(e,t)}function Ky(e,t){return Ky=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ky(e,t)}function oD(e){var t=Bl();return function(){var n=dl(e),i;if(t){var a=dl(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Rl(this,i)}}function Rl(e,t){if(t&&(En(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Il(e)}function Il(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bl(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function dl(e){return dl=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},dl(e)}function pl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $f(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(l,d){return d(e,t,l)||l},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,t,a),a=null),a}function Vy(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var Zy=(Bn=function(e){Wy(r,e);var t=oD(r);function r(){var n;ab(this,r);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=t.call.apply(t,[this].concat(a)),pl(Il(n),"modelType",zt.DIAMOND_NODE),ib(Il(n),"rx",$y,Il(n)),ib(Il(n),"ry",gc,Il(n)),n}return mc(r,[{key:"getNodeStyle",value:function(){var i=bc(dl(r.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.diamond;return Yy(Yy({},i),ur(a))}},{key:"points",get:function(){var i=this.x,a=this.y,l=this.rx,d=this.ry;return[[i,a-d],[i+l,a],[i,a+d],[i-l,a]]}},{key:"pointsPosition",get:function(){var i=this.points.map(function(a){return{x:a[0],y:a[1]}});return i}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=ky(l,1),p=d[0];p<i&&(i=p),p>a&&(a=p)}),a-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=ky(l,2),p=d[1];p<i&&(i=p),p>a&&(a=p)}),a-i}},{key:"getDefaultAnchor",value:function(){var i=this;return this.points.map(function(a,l){var d=ky(a,2),p=d[0],O=d[1];return{x:p,y:O,id:"".concat(i.id,"_").concat(l)}})}}]),r}(zo),$y=$f(Bn.prototype,"rx",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),gc=$f(Bn.prototype,"ry",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),$f(Bn.prototype,"points",[c.m],Object.getOwnPropertyDescriptor(Bn.prototype,"points"),Bn.prototype),$f(Bn.prototype,"pointsPosition",[c.m],Object.getOwnPropertyDescriptor(Bn.prototype,"pointsPosition"),Bn.prototype),$f(Bn.prototype,"width",[c.m],Object.getOwnPropertyDescriptor(Bn.prototype,"width"),Bn.prototype),$f(Bn.prototype,"height",[c.m],Object.getOwnPropertyDescriptor(Bn.prototype,"height"),Bn.prototype),Bn),Jy=Zy;function Po(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Po=function(r){return typeof r}:Po=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Po(e)}var fi,Qy,qy;function _y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_y(Object(r),!0).forEach(function(n){kf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_y(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lb(e,t,r,n){!r||Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function sb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Oc(e,t,r){return t&&fb(e.prototype,t),r&&fb(e,r),e}function Ec(){return typeof Reflect!="undefined"&&Reflect.get?Ec=Reflect.get:Ec=function(t,r,n){var i=iD(t,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Ec.apply(this,arguments)}function iD(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=vl(e),e!==null););return e}function tg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rg(e,t)}function rg(e,t){return rg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},rg(e,t)}function aD(e){var t=Fl();return function(){var n=vl(e),i;if(t){var a=vl(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ll(this,i)}}function Ll(e,t){if(t&&(Po(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zl(e)}function zl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fl(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function vl(e){return vl=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},vl(e)}function kf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ng(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(l,d){return d(e,t,l)||l},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,t,a),a=null),a}function og(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var ig=(fi=function(e){tg(r,e);var t=aD(r);function r(){var n;sb(this,r);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=t.call.apply(t,[this].concat(a)),kf(zl(n),"modelType",zt.ELLIPSE_NODE),lb(zl(n),"rx",Qy,zl(n)),lb(zl(n),"ry",qy,zl(n)),n}return Oc(r,[{key:"getNodeStyle",value:function(){var i=Ec(vl(r.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.ellipse;return eg(eg({},i),ur(a))}},{key:"width",get:function(){return this.rx*2}},{key:"height",get:function(){return this.ry*2}},{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,l=this.rx,d=this.ry;return[{x:i,y:a-d,id:"".concat(this.id,"_0")},{x:i+l,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+d,id:"".concat(this.id,"_2")},{x:i-l,y:a,id:"".concat(this.id,"_3")}]}}]),r}(zo),Qy=ng(fi.prototype,"rx",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),qy=ng(fi.prototype,"ry",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),ng(fi.prototype,"width",[c.m],Object.getOwnPropertyDescriptor(fi.prototype,"width"),fi.prototype),ng(fi.prototype,"height",[c.m],Object.getOwnPropertyDescriptor(fi.prototype,"height"),fi.prototype),fi),ag=ig;function to(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?to=function(r){return typeof r}:to=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},to(e)}var Mo,Sc;function ug(e,t){return pb(e)||lD(e,t)||cb(e,t)||uD()}function uD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cb(e,t){if(!!e){if(typeof e=="string")return db(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return db(e,t)}}function db(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lD(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function pb(e){if(Array.isArray(e))return e}function lg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lg(Object(r),!0).forEach(function(n){Xf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sD(e,t,r,n){!r||Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function hb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xc(e,t,r){return t&&yb(e.prototype,t),r&&yb(e,r),e}function Pc(){return typeof Reflect!="undefined"&&Reflect.get?Pc=Reflect.get:Pc=function(t,r,n){var i=fD(t,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Pc.apply(this,arguments)}function fD(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=hl(e),e!==null););return e}function sg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fg(e,t)}function fg(e,t){return fg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},fg(e,t)}function cD(e){var t=Hl();return function(){var n=hl(e),i;if(t){var a=hl(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Mc(this,i)}}function Mc(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tc(e)}function Tc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hl(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function hl(e){return hl=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},hl(e)}function Xf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cg(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(l,d){return d(e,t,l)||l},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,t,a),a=null),a}function dg(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var pg=(Mo=function(e){sg(r,e);var t=cD(r);function r(){var n;hb(this,r);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=t.call.apply(t,[this].concat(a)),Xf(Tc(n),"modelType",zt.POLYGON_NODE),sD(Tc(n),"points",Sc,Tc(n)),n}return xc(r,[{key:"getNodeStyle",value:function(){var i=Pc(hl(r.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.polygon;return vb(vb({},i),ur(a))}},{key:"pointsPosition",get:function(){var i=this.x,a=this.y,l=this.width,d=this.height,p=this.points.map(function(O){return{x:O[0]+i-l/2,y:O[1]+a-d/2}});return p}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=ug(l,1),p=d[0];p<i&&(i=p),p>a&&(a=p)}),a-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=ug(l,2),p=d[1];p<i&&(i=p),p>a&&(a=p)}),a-i}},{key:"getDefaultAnchor",value:function(){var i=this,a=this.x,l=this.y,d=this.width,p=this.height,O=this.points;return O.map(function(N,B){var $=ug(N,2),J=$[0],fe=$[1];return{x:a+J-d/2,y:l+fe-p/2,id:"".concat(i.id,"_").concat(B)}})}}]),r}(zo),Sc=cg(Mo.prototype,"points",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),cg(Mo.prototype,"pointsPosition",[c.m],Object.getOwnPropertyDescriptor(Mo.prototype,"pointsPosition"),Mo.prototype),cg(Mo.prototype,"width",[c.m],Object.getOwnPropertyDescriptor(Mo.prototype,"width"),Mo.prototype),cg(Mo.prototype,"height",[c.m],Object.getOwnPropertyDescriptor(Mo.prototype,"height"),Mo.prototype),Mo),vg=pg;function Gl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gl=function(r){return typeof r}:Gl=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gl(e)}var wc,hg;function yg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yg(Object(r),!0).forEach(function(n){Ob(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dD(e,t,r,n){!r||Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function mb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ac(e,t,r){return t&&bb(e.prototype,t),r&&bb(e,r),e}function Nc(){return typeof Reflect!="undefined"&&Reflect.get?Nc=Reflect.get:Nc=function(t,r,n){var i=pD(t,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Nc.apply(this,arguments)}function pD(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=yl(e),e!==null););return e}function gg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mg(e,t)}function mg(e,t){return mg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},mg(e,t)}function vD(e){var t=Ul();return function(){var n=yl(e),i;if(t){var a=yl(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Dc(this,i)}}function Dc(e,t){if(t&&(Gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jc(e)}function jc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ul(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function yl(e){return yl=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},yl(e)}function Ob(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JC(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(l,d){return d(e,t,l)||l},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,t,a),a=null),a}function bg(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var Og=(wc=function(e){gg(r,e);var t=vD(r);function r(){var n;mb(this,r);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=t.call.apply(t,[this].concat(a)),Ob(jc(n),"modelType",zt.RECT_NODE),dD(jc(n),"radius",hg,jc(n)),n}return Ac(r,[{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,l=this.width,d=this.height;return[{x:i,y:a-d/2,id:"".concat(this.id,"_0")},{x:i+l/2,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+d/2,id:"".concat(this.id,"_2")},{x:i-l/2,y:a,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var i=Nc(yl(r.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.rect;return gb(gb({},i),ur(a))}}]),r}(zo),hg=JC(wc.prototype,"radius",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wc),Eg=Og;function ci(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ci=function(r){return typeof r}:ci=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ci(e)}var va;function Sg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Eb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sg(Object(r),!0).forEach(function(n){Mg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Cc(e,t,r){return t&&xb(e.prototype,t),r&&xb(e,r),e}function Rc(){return typeof Reflect!="undefined"&&Reflect.get?Rc=Reflect.get:Rc=function(t,r,n){var i=hD(t,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Rc.apply(this,arguments)}function hD(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=gl(e),e!==null););return e}function xg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pg(e,t)}function Pg(e,t){return Pg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Pg(e,t)}function yD(e){var t=$l();return function(){var n=gl(e),i;if(t){var a=gl(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Pb(this,i)}}function Pb(e,t){if(t&&(ci(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mb(e)}function Mb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $l(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function gl(e){return gl=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},gl(e)}function Mg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yf(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(l,d){return d(e,t,l)||l},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,t,a),a=null),a}var Tg=(va=function(e){xg(r,e);var t=yD(r);function r(){var n;Sb(this,r);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=t.call.apply(t,[this].concat(a)),Mg(Mb(n),"modelType",zt.TEXT_NODE),n}return Cc(r,[{key:"getTextStyle",value:function(){var i=Rc(gl(r.prototype),"getTextStyle",this).call(this),a=this.graphModel.theme.text;return Eb(Eb({},i),ur(a))}},{key:"width",get:function(){var i=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),l=a.fontSize,d=cf({rows:i,fontSize:l,rowsLength:i.length}),p=d.width;return p}},{key:"height",get:function(){var i=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),l=a.fontSize,d=cf({rows:i,fontSize:l,rowsLength:i.length}),p=d.height;return p}}]),r}(zo),Yf(va.prototype,"width",[c.m],Object.getOwnPropertyDescriptor(va.prototype,"width"),va.prototype),Yf(va.prototype,"height",[c.m],Object.getOwnPropertyDescriptor(va.prototype,"height"),va.prototype),va),wg=Tg;function Ic(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ic=function(r){return typeof r}:Ic=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ic(e)}function Tb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gD(e,t,r){return t&&wb(e.prototype,t),r&&wb(e,r),e}function Ag(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ng(e,t)}function Ng(e,t){return Ng=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ng(e,t)}function mD(e){var t=Bc();return function(){var n=Lc(e),i;if(t){var a=Lc(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ab(this,i)}}function Ab(e,t){if(t&&(Ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nb(e)}function Nb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Lc(e){return Lc=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Lc(e)}function zc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Dg=function(e){Ag(r,e);var t=mD(r);function r(){var n;Tb(this,r);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=t.call.apply(t,[this].concat(a)),zc(Nb(n),"modelType",zt.HTML_NODE),n}return gD(r,[{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,l=this.width,d=this.height;return[{x:i,y:a-d/2,id:"".concat(this.id,"_0")},{x:i+l/2,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+d/2,id:"".concat(this.id,"_2")},{x:i-l/2,y:a,id:"".concat(this.id,"_3")}]}}]),r}(zo),Di=Dg,Ho,jg,Cg,Rg;function Db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ig(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Db(Object(r),!0).forEach(function(n){kl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Db(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bg(e,t,r,n){!r||Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function jb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Rb(e,t,r){return t&&Cb(e.prototype,t),r&&Cb(e,r),e}function kl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fc(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(l,d){return d(e,t,l)||l},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,t,a),a=null),a}function bD(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var Xl=(Ho=function(){function e(t){jb(this,e),kl(this,"graphModel",void 0),Bg(this,"isShowHorizontal",jg,this),Bg(this,"isShowVertical",Cg,this),Bg(this,"position",Rg,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=t}return Rb(e,[{key:"getStyle",value:function(){return Ig({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,n){for(var i=r.x,a=r.y,l=!1,d=!1,p=0;p<n.length;p++){var O=n[p];if(O.id!==r.id&&(i===O.x&&(l=!0),a===O.y&&(d=!0),l&&d))break}return{isShowVertical:l,isShowHorizontal:d,position:{x:i,y:a}}}},{key:"getHorizontalSnapline",value:function(r,n){var i=!1,a,l=r.id,d;if(l){var p=this.graphModel.fakerNode;if(p&&p.id===l)d=Kr(p);else{var O=this.graphModel.getNodeModelById(l);d=Kr(O)}}for(var N=0;N<n.length;N++){var B=n[N];if(B.id!==r.id){var $=Kr(B);if($.minY===d.minY||$.maxY===d.minY){i=!0,a=d.minY;break}if($.minY===d.maxY||$.maxY===d.maxY){i=!0,a=d.maxY;break}}}return Br({isShowHorizontal:i,position:{y:a}})}},{key:"getVerticalSnapline",value:function(r,n){var i=!1,a,l=r.id,d;if(l){var p=this.graphModel.fakerNode;if(p&&p.id===l)d=Kr(p);else{var O=this.graphModel.getNodeModelById(l);d=Kr(O)}}for(var N=0;N<n.length;N++){var B=n[N];if(B.id!==r.id){var $=Kr(B);if($.minX===d.minX||$.maxX===d.minX){i=!0,a=d.minX;break}if($.minX===d.maxX||$.maxX===d.maxX){i=!0,a=d.maxX;break}}}return Br({isShowVertical:i,position:{x:a}})}},{key:"getSnapLinePosition",value:function(r,n){var i=this.getCenterSnapLine(r,n),a=i.isShowHorizontal,l=i.isShowVertical;if(!a){var d=this.getHorizontalSnapline(r,n);d.isShowHorizontal&&(i.isShowHorizontal=d.isShowHorizontal,i.position.y=d.position.y)}if(!l){var p=this.getVerticalSnapline(r,n);p.isShowVertical&&(i.isShowVertical=p.isShowVertical,i.position.x=p.position.x)}return i}},{key:"setSnaplineInfo",value:function(r){var n=r.isShowHorizontal,i=r.isShowVertical,a=r.position;this.position=a,this.isShowHorizontal=n,this.isShowVertical=i}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var n=this.graphModel.nodes,i=this.getSnapLinePosition(r,n);this.setSnaplineInfo(i)}}]),e}(),jg=Fc(Ho.prototype,"isShowHorizontal",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cg=Fc(Ho.prototype,"isShowVertical",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rg=Fc(Ho.prototype,"position",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fc(Ho.prototype,"clearSnapline",[c.k],Object.getOwnPropertyDescriptor(Ho.prototype,"clearSnapline"),Ho.prototype),Fc(Ho.prototype,"setNodeSnapLine",[c.k],Object.getOwnPropertyDescriptor(Ho.prototype,"setNodeSnapLine"),Ho.prototype),Ho),Yl=new Map,Wf=function(t){var r=Eo();function n(){t();var a=Yl.get(r);if(a){var l=window.requestAnimationFrame(n);Yl.set(r,l)}}var i=window.requestAnimationFrame(n);return Yl.set(r,i),r},ml=function(t){var r=Yl.get(t);r&&(window.cancelAnimationFrame(r),Yl.delete(t))};function ja(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ja=function(r){return typeof r}:ja=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ja(e)}function Wl(){return Wl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wl.apply(this,arguments)}function Kf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kf(Object(r),!0).forEach(function(n){Ri(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OD(e,t){return xD(e)||SD(e,t)||Ib(e,t)||ED()}function ED(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ib(e,t){if(!!e){if(typeof e=="string")return Bb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bb(e,t)}}function Bb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SD(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function xD(e){if(Array.isArray(e))return e}function Lb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PD(e,t,r){return t&&zb(e.prototype,t),r&&zb(e,r),e}function Lg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zg(e,t)}function zg(e,t){return zg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},zg(e,t)}function MD(e){var t=Gc();return function(){var n=To(e),i;if(t){var a=To(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return ji(this,i)}}function ji(e,t){if(t&&(ja(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ci(e)}function Ci(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function To(e){return To=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},To(e)}function Ri(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var TD=function(e){Lg(r,e);var t=MD(r);function r(){var n;return Lb(this,r),n=t.call(this),Ri(Ci(n),"preTargetNode",void 0),Ri(Ci(n),"sourceRuleResults",void 0),Ri(Ci(n),"targetRuleResults",void 0),Ri(Ci(n),"dragHandler",void 0),Ri(Ci(n),"t",void 0),Ri(Ci(n),"onDragStart",function(i){var a=i.event,l=n.props,d=l.anchorData,p=l.nodeModel,O=l.graphModel,N=O.overlapMode;O.selectNodeById(p.id),N!==Wr.INCREASE&&p.autoToFront&&O.toFront(p.id),O.eventCenter.emit(Mt.ANCHOR_DRAGSTART,{data:d,e:a,nodeModel:p}),n.setState({startX:d.x,startY:d.y,endX:d.x,endY:d.y})}),Ri(Ci(n),"onDraging",function(i){var a=i.event,l=n.props,d=l.graphModel,p=l.nodeModel,O=l.anchorData,N=d.transformModel,B=d.eventCenter,$=d.width,J=d.height,fe=d.editConfigModel,pe=fe.autoExpand,he=fe.stopMoveGraph,Ne=a.clientX,Fe=a.clientY,Le=d.getPointByClient({x:Ne,y:Fe}),ke=Le.domOverlayPosition,rt=ke.x,lt=ke.y,Pt=Le.canvasOverlayPosition,Ot=Pt.x,St=Pt.y;n.t&&ml(n.t);var Vt=[],Cr=10;rt<10?Vt=[Cr,0]:rt+10>$?Vt=[-Cr,0]:lt<10?Vt=[0,Cr]:lt+10>J&&(Vt=[0,-Cr]),n.setState({endX:Ot,endY:St,draging:!0}),n.moveAnchorEnd(Ot,St),Vt.length>0&&!he&&pe&&(n.t=Wf(function(){var tn=Vt,Sn=OD(tn,2),kn=Sn[0],$o=Sn[1];N.translate(kn,$o);var No=n.state,Do=No.endX,Ga=No.endY;n.setState({endX:Do-kn,endY:Ga-$o}),n.moveAnchorEnd(Do-kn,Ga-$o)})),B.emit(Mt.ANCHOR_DRAG,{data:O,e:a,nodeModel:p})}),Ri(Ci(n),"onDragEnd",function(i){n.t&&ml(n.t),n.checkEnd(i),n.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),n.sourceRuleResults.clear(),n.targetRuleResults.clear();var a=n.props,l=a.graphModel,d=a.nodeModel,p=a.anchorData;l.eventCenter.emit(Mt.ANCHOR_DRAGEND,{data:p,e:i,nodeModel:d})}),Ri(Ci(n),"checkEnd",function(i){var a=n.props,l=a.graphModel,d=a.nodeModel,p=a.anchorData,O=p.x,N=p.y,B=p.id,$=l.edgeType,J=n.state,fe=J.endX,pe=J.endY,he=J.draging,Ne=bu({x:fe,y:pe},l);if(n.preTargetNode&&n.preTargetNode.state!==Kt.DEFAULT&&n.preTargetNode.setElementState(Kt.DEFAULT),!!he&&Ne&&Ne.node){var Fe=Ne.node,Le=Ne.anchor.id,ke="".concat(d.id,"_").concat(Fe.id,"_").concat(Le,"_").concat(B),rt=n.sourceRuleResults.get(ke)||{},lt=rt.isAllPass,Pt=rt.msg,Ot=n.targetRuleResults.get(ke)||{},St=Ot.isAllPass,Vt=Ot.msg;if(lt&&St){Fe.setElementState(Kt.DEFAULT);var Cr=l.edgeGenerator(d.getData(),l.getNodeModelById(Ne.node.id).getData()),tn=l.addEdge(Hc(Hc({},Cr),{},{sourceNodeId:d.id,sourceAnchorId:B,startPoint:{x:O,y:N},targetNodeId:Ne.node.id,targetAnchorId:Ne.anchor.id,endPoint:{x:Ne.anchor.x,y:Ne.anchor.y}})),Sn=n.props.anchorData;l.eventCenter.emit(Mt.ANCHOR_DROP,{data:Sn,e:i,nodeModel:d,edgeModel:tn})}else{var kn=Fe.getData();l.eventCenter.emit(Mt.CONNECTION_NOT_ALLOWED,{data:kn,msg:Vt||Pt})}}}),n.sourceRuleResults=new Map,n.targetRuleResults=new Map,n.state={startX:0,startY:0,endX:0,endY:0,draging:!1},n.dragHandler=new So({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return PD(r,[{key:"getAnchorShape",value:function(){var i=this.props,a=i.anchorData,l=i.style,d=i.node,p=d.getAnchorShape(a);if(p)return p;var O=a.x,N=a.y,B=Hc(Hc({},l),l.hover);return Object(Se.g)("g",null,Object(Se.g)(da,Wl({className:"lf-node-anchor-hover"},B,{x:O,y:N})),Object(Se.g)(da,Wl({className:"lf-node-anchor"},l,{x:O,y:N})))}},{key:"moveAnchorEnd",value:function(i,a){var l=this.props,d=l.graphModel,p=l.nodeModel,O=l.anchorData,N=bu({x:i,y:a},d);if(N){var B=N.node,$=N.anchor.id;if(this.preTargetNode&&this.preTargetNode!==N.node&&this.preTargetNode.setElementState(Kt.DEFAULT),O.id===$)return;this.preTargetNode=B;var J="".concat(p.id,"_").concat(B.id,"_").concat($,"_").concat(O.id);if(!this.targetRuleResults.has(J)){var fe=N.anchor,pe=p.isAllowConnectedAsSource(B,O,fe),he=B.isAllowConnectedAsTarget(p,O,fe);this.sourceRuleResults.set(J,Eu(pe)),this.targetRuleResults.set(J,Eu(he))}var Ne=this.sourceRuleResults.get(J),Fe=Ne.isAllPass,Le=this.targetRuleResults.get(J),ke=Le.isAllPass;Fe&&ke?B.setElementState(Kt.ALLOW_CONNECT):B.setElementState(Kt.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Kt.DEFAULT&&this.preTargetNode.setElementState(Kt.DEFAULT)}},{key:"isShowLine",value:function(){var i=this.state,a=i.startX,l=i.startY,d=i.endX,p=i.endY,O=yn(a,l,d,p);return O>10}},{key:"render",value:function(){var i=this,a=this.state,l=a.startX,d=a.startY,p=a.endX,O=a.endY,N=this.props,B=N.anchorData.edgeAddable,$=N.edgeStyle;return Object(Se.g)("g",{className:"lf-anchor"},Object(Se.g)("g",{onMouseDown:function(fe){B!==!1&&i.dragHandler.handleMouseDown(fe)}},this.getAnchorShape()),this.isShowLine()&&Object(Se.g)(xo,Wl({x1:l,y1:d,x2:p,y2:O},$,{"pointer-events":"none"})))}}]),r}(Se.a),QC=TD,wD=u(63);function Fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fb(Object(r),!0).forEach(function(n){Uc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $c(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$c=function(r){return typeof r}:$c=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$c(e)}function ND(e,t){return Ub(e)||jD(e,t)||Hb(e,t)||DD()}function DD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hb(e,t){if(!!e){if(typeof e=="string")return Gb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gb(e,t)}}function Gb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jD(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function Ub(e){if(Array.isArray(e))return e}function $b(e){var t=e.x,r=t===void 0?0:t,n=e.y,i=n===void 0?0:n,a=e.value,l=e.fontSize,d=e.fill,p=d===void 0?"currentColor":d,O=e.overflowMode,N=O===void 0?"default":O,B=e.textWidth,$=B===void 0?"":B,J=e.model,fe={textAnchor:"middle","dominant-baseline":"middle",x:r,y:i,fill:p};if(Object.entries(e).forEach(function(ke){var rt=ND(ke,2),lt=rt[0],Pt=rt[1],Ot=$c(Pt);Ot!=="object"&&(fe[lt]=Pt)}),a){var pe=String(a).split(/[\r\n]/g),he=pe.length;if(N!=="default"){var Ne=J.BaseType,Fe=J.modelType;if(Ne===Or.NODE&&Fe!==zt.TEXT_NODE||Ne===Or.EDGE&&$)return kc(e)}if(he>1){var Le=pe.map(function(ke,rt){var lt=l+2,Pt=(rt-(he-1)/2)*lt;return Object(Se.g)("tspan",{className:"lf-text-tspan",x:r,y:i+Pt},ke)});return Object(Se.g)("text",fe,Le)}return Object(Se.g)("text",fe,a)}}function kc(e){var t=e.value,r=e.fontSize,n=e.model,i=e.fontFamily,a=i===void 0?"":i,l=e.lineHeight,d=e.wrapPadding,p=d===void 0?"0, 0":d,O=e.overflowMode,N=e.x,B=e.y,$=n.width,J=n.textHeight,fe=e.textWidth||$,pe=String(t).split(/[\r\n]/g),he=pe.length,Ne=gv({rows:pe,style:{fontSize:"".concat(r,"px"),width:"".concat(fe,"px"),fontFamily:a,lineHeight:l,padding:p},rowsLength:he,className:"lf-get-text-height"}),Fe=n.height>Ne?n.height:Ne;J&&(Fe=J);var Le=O==="ellipsis";return Object(Se.g)("g",null,Object(Se.g)("foreignObject",{width:fe,height:Fe,x:N-fe/2,y:B-Fe/2},Object(Se.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Fe,width:fe,padding:p}},Object(Se.g)("div",{className:Le?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:AD({},e)},pe.map(function(ke){return Object(Se.g)("div",{className:"lf-node-text--auto-wrap-inner"},ke)})))))}function Kl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kl=function(r){return typeof r}:Kl=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Kl(e)}function Fg(){return Fg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fg.apply(this,arguments)}function CD(e,t){return BD(e)||ID(e,t)||kb(e,t)||RD()}function RD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kb(e,t){if(!!e){if(typeof e=="string")return Xb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xb(e,t)}}function Xb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ID(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function BD(e){if(Array.isArray(e))return e}function Yb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LD(e,t,r){return t&&Wb(e.prototype,t),r&&Wb(e,r),e}function Hg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gg(e,t)}function Gg(e,t){return Gg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Gg(e,t)}function zD(e){var t=Xc();return function(){var n=Ii(e),i;if(t){var a=Ii(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ca(this,i)}}function Ca(e,t){if(t&&(Kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ra(e)}function Ra(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ii(e){return Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ii(e)}function Ia(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Kb=function(e){Hg(r,e);var t=zD(r);function r(n){var i;Yb(this,r),i=t.call(this),Ia(Ra(i),"dragHandler",void 0),Ia(Ra(i),"sumDeltaX",0),Ia(Ra(i),"sumDeltaY",0),Ia(Ra(i),"stepDrag",void 0),Ia(Ra(i),"onDraging",function(d){var p=d.deltaX,O=d.deltaY,N=i.props,B=N.model,$=N.graphModel.transformModel,J=$.fixDeltaXY(p,O),fe=CD(J,2),pe=fe[0],he=fe[1];B.moveText(pe,he)}),Ia(Ra(i),"dblClickHandler",function(){var d=i.props.editable;if(d){var p=i.props.model;p.setElementState(Kt.TEXT_EDIT)}}),Ia(Ra(i),"mouseDownHandle",function(d){var p=i.props,O=p.draggable,N=p.graphModel.editConfigModel.nodeTextDraggable;(O||N)&&i.stepDrag.handleMouseDown(d)});var a=n.model,l=n.draggable;return i.stepDrag=new So({onDraging:i.onDraging,step:1,model:a,isStopPropagation:l}),i}return LD(r,[{key:"getShape",value:function(){var i=this.props,a=i.model,l=i.graphModel,d=a.text,p=l.editConfigModel,O=d.value,N=d.x,B=d.y,$=d.editable,J=d.draggable,fe={x:N,y:B,className:"",value:O};$?fe.className="lf-element-text":J||p.nodeTextDraggable?fe.className="lf-text-draggable":fe.className="lf-text-disabled";var pe=a.getTextStyle();return Object(Se.g)($b,Fg({},fe,pe,{model:a}))}},{key:"render",value:function(){var i=this.props.model.text;if(i)return Object(Se.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),r}(Se.a),Yc=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function bl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bl=function(r){return typeof r}:bl=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},bl(e)}function Wc(e,t){return GD(e)||HD(e,t)||Vb(e,t)||FD()}function FD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vb(e,t){if(!!e){if(typeof e=="string")return Zb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zb(e,t)}}function Zb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HD(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function GD(e){if(Array.isArray(e))return e}function Jb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UD(e,t,r){return t&&Qb(e.prototype,t),r&&Qb(e,r),e}function Ug(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$g(e,t)}function $g(e,t){return $g=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},$g(e,t)}function $D(e){var t=Kc();return function(){var n=Mn(e),i;if(t){var a=Mn(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Un(this,i)}}function Un(e,t){if(t&&(bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $n(e)}function $n(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Mn(e){return Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Mn(e)}function qr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Go=function(e){Ug(r,e);var t=$D(r);function r(n){var i;Jb(this,r),i=t.call(this),qr($n(i),"t",void 0),qr($n(i),"moveOffset",void 0),qr($n(i),"stepDrag",void 0),qr($n(i),"contextMenuTime",void 0),qr($n(i),"startTime",void 0),qr($n(i),"clickTimer",void 0),qr($n(i),"onDragStart",function(O){var N=O.event,B=N.clientX,$=N.clientY,J=i.props,fe=J.model,pe=J.graphModel,he=pe.getPointByClient({x:B,y:$}),Ne=he.canvasOverlayPosition,Fe=Ne.x,Le=Ne.y;i.moveOffset={x:fe.x-Fe,y:fe.y-Le}}),qr($n(i),"onDraging",function(O){var N=O.event,B=i.props,$=B.model,J=B.graphModel,fe=J.editConfigModel,pe=fe.stopMoveGraph,he=fe.autoExpand,Ne=J.transformModel,Fe=J.width,Le=J.height,ke=J.gridSize;$.isDragging=!0;var rt=N.clientX,lt=N.clientY,Pt=J.getPointByClient({x:rt,y:lt}),Ot=Pt.canvasOverlayPosition,St=Ot.x,Vt=Ot.y,Cr=Ne.CanvasPointToHtmlPoint([St,Vt]),tn=Wc(Cr,2),Sn=tn[0],kn=tn[1];if(St=St+i.moveOffset.x,Vt=Vt+i.moveOffset.y,St=Oo(St,ke),Vt=Oo(Vt,ke),!Fe||!Le){J.moveNode2Coordinate($.id,St,Vt);return}var $o=Sn<0||kn<0||Sn>Fe||kn>Le;if(!(he&&!pe&&$o)){var No=Ne.CanvasPointToHtmlPoint([St-$.width/2,Vt-$.height/2]),Do=Wc(No,2),Ga=Do[0],Wm=Do[1],gE=Ne.CanvasPointToHtmlPoint([St+$.width/2,Vt+$.height/2]),mE=Wc(gE,2),ZC=mE[0],Cd=mE[1],ma=Math.max(ke,20),Ts=[];Ga<0?Ts=[ma,0]:ZC>J.width?Ts=[-ma,0]:Wm<0?Ts=[0,ma]:Cd>J.height&&(Ts=[0,-ma]),i.t&&ml(i.t),Ts.length>0&&!pe&&he?i.t=Wf(function(){var bE=Ts,Km=Wc(bE,2),Vm=Km[0],qC=Km[1];Ne.translate(Vm,qC),J.moveNode($.id,-Vm/Ne.SCALE_X,-qC/Ne.SCALE_X)}):J.moveNode2Coordinate($.id,St,Vt)}}),qr($n(i),"onDragEnd",function(){i.t&&ml(i.t);var O=i.props.model;O.isDragging=!1}),qr($n(i),"handleClick",function(O){if(!!i.startTime){var N=new Date().getTime()-i.startTime;if(!(N>200)){var B=i.props,$=B.model,J=B.graphModel,fe=$.getData(),pe=J.getPointByClient({x:O.clientX,y:O.clientY}),he={data:fe,e:O,position:pe},Ne=O.button===2,Fe=O.detail===2;if(!Ne){var Le=J.editConfigModel;J.selectNodeById($.id,fv(O,Le)),i.toFront(),Fe?(Le.nodeTextEdit&&$.text.editable&&($.setSelected(!1),J.setElementStateById($.id,Kt.TEXT_EDIT)),J.eventCenter.emit(Mt.NODE_DBCLICK,he)):(J.eventCenter.emit(Mt.ELEMENT_CLICK,he),J.eventCenter.emit(Mt.NODE_CLICK,he))}}}}),qr($n(i),"handleContextMenu",function(O){O.preventDefault();var N=i.props,B=N.model,$=N.graphModel,J=B.getData(),fe=$.getPointByClient({x:O.clientX,y:O.clientY});$.setElementStateById(B.id,Kt.SHOW_MENU,fe.domOverlayPosition),$.selectNodeById(B.id),$.eventCenter.emit(Mt.NODE_CONTEXTMENU,{data:J,e:O,position:fe}),i.toFront()}),qr($n(i),"handleMouseDown",function(O){var N=i.props,B=N.model,$=N.graphModel;i.startTime=new Date().getTime();var J=$.editConfigModel;J.adjustNodePosition&&B.draggable&&i.stepDrag&&i.stepDrag.handleMouseDown(O)}),qr($n(i),"setHoverON",function(O){var N=i.props,B=N.model,$=N.graphModel;if(!B.isHovered){var J=B.getData();B.setHovered(!0),$.eventCenter.emit(Mt.NODE_MOUSEENTER,{data:J,e:O})}}),qr($n(i),"setHoverOFF",function(O){var N=i.props,B=N.model,$=N.graphModel,J=B.getData();!B.isHovered||(B.setHovered(!1),$.eventCenter.emit(Mt.NODE_MOUSELEAVE,{data:J,e:O}))}),qr($n(i),"onMouseOut",function(O){Yc&&i.setHoverOFF(O)});var a=n.graphModel,l=a.gridSize,d=a.eventCenter,p=n.model;return i.stepDrag=new So({onDragStart:i.onDragStart,onDraging:i.onDraging,onDragEnd:i.onDragEnd,step:l,eventType:"NODE",isStopPropagation:!1,eventCenter:d,model:p}),i}return UD(r,[{key:"getAnchorShape",value:function(i){return null}},{key:"getAnchors",value:function(){var i=this,a=this.props,l=a.model,d=a.graphModel,p=l.isSelected,O=l.isHitable,N=l.isDragging,B=l.isShowAnchor;return O&&(p||B)&&!N?du(l.anchors,function($,J){var fe=l.getAnchorLineStyle($),pe=l.getAnchorStyle($);return Object(Se.g)(QC,{anchorData:$,node:i,style:pe,edgeStyle:fe,anchorIndex:J,nodeModel:l,graphModel:d,setHoverOFF:i.setHoverOFF})}):[]}},{key:"getText",value:function(){var i=this.props,a=i.model,l=i.graphModel;if(a.state===Kt.TEXT_EDIT)return"";if(a.text){var d=l.editConfigModel,p=!1;return(a.text.draggable||d.nodeTextDraggable)&&(p=!0),Object(Se.g)(Kb,{editable:d.nodeTextEdit&&a.text.editable,model:a,graphModel:l,draggable:p})}}},{key:"getStateClassName",value:function(){var i=this.props.model,a=i.state,l=i.isDraging,d=i.isSelected,p="lf-node";switch(a){case Kt.ALLOW_CONNECT:p+=" lf-node-allow";break;case Kt.NOT_ALLOW_CONNECT:p+=" lf-node-not-allow";break;default:p+=" lf-node-default";break}return l&&(p+=" lf-isDragging"),d&&(p+=" lf-node-selected"),p}},{key:"toFront",value:function(){var i=this.props,a=i.model,l=i.graphModel,d=l.overlapMode;d!==Wr.INCREASE&&a.autoToFront&&l.toFront(a.id)}},{key:"render",value:function(){var i=this.props,a=i.model,l=i.graphModel,d=l.editConfigModel,p=d.hideAnchors,O=d.adjustNodePosition,N=l.gridSize,B=l.transformModel.SCALE_X,$=a.isHitable,J=a.draggable,fe=Object(Se.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),p?null:this.getAnchors()),pe;return $?(O&&J&&this.stepDrag.setStep(N*B),pe=Object(Se.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},fe)):pe=Object(Se.g)("g",{className:this.getStateClassName()},fe),pe}}],[{key:"getModel",value:function(i){return i}}]),r}(Se.a);function Vl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vl=function(r){return typeof r}:Vl=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vl(e)}function kg(){return kg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kg.apply(this,arguments)}function qb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kD(e,t,r){return t&&_b(e.prototype,t),r&&_b(e,r),e}function Xg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yg(e,t)}function Yg(e,t){return Yg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Yg(e,t)}function XD(e){var t=Vc();return function(){var n=Zl(e),i;if(t){var a=Zl(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return YD(this,i)}}function YD(e,t){if(t&&(Vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WD(e)}function WD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Zl(e){return Zl=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Zl(e)}var Jl=function(e){Xg(r,e);var t=XD(r);function r(){return qb(this,r),t.apply(this,arguments)}return kD(r,[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(Se.g)(_n,kg({},a,{x:i.x,y:i.y,width:i.width,height:i.height,radius:i.radius}))}}]),r}(Go);function Ql(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ql=function(r){return typeof r}:Ql=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ql(e)}function Wg(){return Wg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wg.apply(this,arguments)}function eO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function KD(e,t,r){return t&&tO(e.prototype,t),r&&tO(e,r),e}function Kg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vg(e,t)}function Vg(e,t){return Vg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Vg(e,t)}function VD(e){var t=Zc();return function(){var n=ql(e),i;if(t){var a=ql(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return ZD(this,i)}}function ZD(e,t){if(t&&(Ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JD(e)}function JD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ql(e){return ql=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ql(e)}var _l=function(e){Kg(r,e);var t=VD(r);function r(){return eO(this,r),t.apply(this,arguments)}return KD(r,[{key:"getShape",value:function(){var i=this.props.model,a=i.x,l=i.y,d=i.r,p=i.getNodeStyle();return Object(Se.g)(da,Wg({},p,{x:a,y:l,r:d}))}}]),r}(Go);function Jc(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jc=function(r){return typeof r}:Jc=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Jc(e)}function QD(e,t){return oO(e)||_D(e,t)||rO(e,t)||qD()}function qD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rO(e,t){if(!!e){if(typeof e=="string")return nO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nO(e,t)}}function nO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _D(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function oO(e){if(Array.isArray(e))return e}function Vf(e){var t=e.points,r=e.className,n={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(i){var a=QD(i,2),l=a[0],d=a[1],p=Jc(d);p!=="object"&&(n[l]=d)}),r?n.className="lf-basic-shape ".concat(r):n.className="lf-basic-shape",n.points=t.map(function(i){return i.join(",")}).join(" "),Object(Se.g)("polygon",n)}function es(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?es=function(r){return typeof r}:es=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},es(e)}function Zg(){return Zg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zg.apply(this,arguments)}function iO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ej(e,t,r){return t&&aO(e.prototype,t),r&&aO(e,r),e}function Jg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qg(e,t)}function Qg(e,t){return Qg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Qg(e,t)}function tj(e){var t=Qc();return function(){var n=ts(e),i;if(t){var a=ts(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return rj(this,i)}}function rj(e,t){if(t&&(es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nj(e)}function nj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ts(e){return ts=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ts(e)}var rs=function(e){Jg(r,e);var t=tj(r);function r(){return iO(this,r),t.apply(this,arguments)}return ej(r,[{key:"getShape",value:function(){var i=this.props.model,a=i.x,l=i.y,d=i.width,p=i.height,O=i.points,N=i.getNodeStyle(),B={transform:"matrix(1 0 0 1 ".concat(a-d/2," ").concat(l-p/2,")")};return Object(Se.g)("g",B,Object(Se.g)(Vf,Zg({},N,{points:O,x:a,y:l})))}}]),r}(Go);function ns(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ns=function(r){return typeof r}:ns=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ns(e)}function qg(){return qg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(this,arguments)}function uO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oj(e,t,r){return t&&lO(e.prototype,t),r&&lO(e,r),e}function _g(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&em(e,t)}function em(e,t){return em=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},em(e,t)}function ij(e){var t=qc();return function(){var n=os(e),i;if(t){var a=os(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return aj(this,i)}}function aj(e,t){if(t&&(ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uj(e)}function uj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function os(e){return os=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},os(e)}var is=function(e){_g(r,e);var t=ij(r);function r(){return uO(this,r),t.apply(this,arguments)}return oj(r,[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(Se.g)("g",null,Object(Se.g)(Vf,qg({},a,{points:i.points,x:i.x,y:i.y})))}}]),r}(Go);function _c(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_c=function(r){return typeof r}:_c=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_c(e)}function lj(e,t){return cj(e)||fj(e,t)||sO(e,t)||sj()}function sj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sO(e,t){if(!!e){if(typeof e=="string")return fO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fO(e,t)}}function fO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fj(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function cj(e){if(Array.isArray(e))return e}function ed(e){var t=e.x,r=t===void 0?0:t,n=e.y,i=n===void 0?0:n,a=e.rx,l=a===void 0?4:a,d=e.ry,p=d===void 0?4:d,O=e.className,N={cx:r,cy:i,rx:l,ry:p,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(B){var $=lj(B,2),J=$[0],fe=$[1],pe=_c(fe);pe!=="object"&&(N[J]=fe)}),O?N.className="lf-basic-shape ".concat(O):N.className="lf-basic-shape",Object(Se.g)("ellipse",N)}function as(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?as=function(r){return typeof r}:as=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},as(e)}function tm(){return tm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tm.apply(this,arguments)}function cO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dj(e,t,r){return t&&dO(e.prototype,t),r&&dO(e,r),e}function rm(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nm(e,t)}function nm(e,t){return nm=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},nm(e,t)}function pj(e){var t=td();return function(){var n=us(e),i;if(t){var a=us(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return vj(this,i)}}function vj(e,t){if(t&&(as(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hj(e)}function hj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function td(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function us(e){return us=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},us(e)}var ls=function(e){rm(r,e);var t=pj(r);function r(){return cO(this,r),t.apply(this,arguments)}return dj(r,[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(Se.g)(ed,tm({},a,{x:i.x,y:i.y,rx:i.rx,ry:i.ry}))}}]),r}(Go);function Zf(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zf=function(r){return typeof r}:Zf=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zf(e)}function om(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?om(Object(r),!0).forEach(function(n){yj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):om(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yj(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gj(e,t,r){return t&&hO(e.prototype,t),r&&hO(e,r),e}function im(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&am(e,t)}function am(e,t){return am=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},am(e,t)}function mj(e){var t=rd();return function(){var n=ss(e),i;if(t){var a=ss(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return bj(this,i)}}function bj(e,t){if(t&&(Zf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oj(e)}function Oj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rd(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ss(e){return ss=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ss(e)}var fs=function(e){im(r,e);var t=mj(r);function r(){return vO(this,r),t.apply(this,arguments)}return gj(r,[{key:"getBackground",value:function(){var i=this.props.model,a=i.getTextStyle(),l=i.text;if(l&&l.value&&a.background&&a.background.fill!=="transparnet"){var d=l.x,p=l.y,O=i.width,N=i.height,B=pO(pO({},a.background),{},{x:d,y:p-1,width:O,height:N});return Object(Se.g)(_n,B)}}},{key:"getShape",value:function(){return Object(Se.g)("g",null,this.getBackground())}}]),r}(Go);function cs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cs=function(r){return typeof r}:cs=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cs(e)}function um(){return um=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},um.apply(this,arguments)}function yO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ej(e,t,r){return t&&gO(e.prototype,t),r&&gO(e,r),e}function lm(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sm(e,t)}function sm(e,t){return sm=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},sm(e,t)}function Sj(e){var t=nd();return function(){var n=Ol(e),i;if(t){var a=Ol(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Jf(this,i)}}function Jf(e,t){if(t&&(cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qf(e)}function Qf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nd(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ol(e){return Ol=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ol(e)}function ds(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ps=function(e){lm(r,e);var t=Sj(r);function r(){var n;yO(this,r);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=t.call.apply(t,[this].concat(a)),ds(Qf(n),"ref",void 0),ds(Qf(n),"currentProperties",void 0),ds(Qf(n),"preProperties",void 0),ds(Qf(n),"setRef",function(d){n.ref=d}),n}return Ej(r,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(i){i.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!(this.preProperties&&this.preProperties===this.currentProperties))return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var i=this.props.model,a=i.x,l=i.y,d=i.height,p=i.width,O=i.getNodeStyle();return this.currentProperties=JSON.stringify(i.properties),Object(Se.g)("foreignObject",um({},O,{x:a-p/2,y:l-d/2,width:p,height:d,ref:this.setRef}))}}]),r}(Go);function vs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vs=function(r){return typeof r}:vs=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vs(e)}function od(){return od=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},od.apply(this,arguments)}function Ba(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function El(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ba(Object(r),!0).forEach(function(n){vm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ba(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xj(e,t,r){return t&&bO(e.prototype,t),r&&bO(e,r),e}function fm(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cm(e,t)}function cm(e,t){return cm=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},cm(e,t)}function Pj(e){var t=id();return function(){var n=hs(e),i;if(t){var a=hs(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return dm(this,i)}}function dm(e,t){if(t&&(vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pm(e)}function pm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function id(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function hs(e){return hs=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},hs(e)}function vm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ad=function(e){fm(r,e);var t=Pj(r);function r(n){var i;return mO(this,r),i=t.call(this,n),vm(pm(i),"setHoverON",function(){i.setState({isHoverd:!0})}),vm(pm(i),"setHoverOFF",function(){i.setState({isHoverd:!1})}),i.state={isHoverd:!1},i}return xj(r,[{key:"getBackground",value:function(){var i=this.props.model,a=i.getTextStyle(),l=i.text,d=a.background||{},p=this.state.isHoverd;if(p&&a.hover&&a.hover.background&&(d=El(El({},d),a.hover.background)),l&&l.value&&d.fill!=="transparent"){var O=a.fontSize,N=a.overflowMode,B=a.lineHeight,$=a.wrapPadding,J=a.textWidth,fe=l.value,pe=l.x,he=l.y,Ne=String(fe).split(/[\r\n]/g),Fe=Ne.length,Le;if(N==="autoWrap"&&J){var ke=gv({rows:Ne,style:{fontSize:"".concat(O,"px"),width:"".concat(J,"px"),lineHeight:B,padding:$},rowsLength:Fe,className:"lf-get-text-height"});Le=El(El({},d),{},{x:pe-1,y:he-1,width:J,height:ke})}else{var rt=0;Ne&&Ne.forEach(function(Vt){var Cr=uh(Vt);rt=Cr>rt?Cr:rt});var lt=cf({rows:Ne,fontSize:O,rowsLength:Fe}),Pt=lt.width,Ot=lt.height;if(typeof d.wrapPadding=="string"){var St=d.wrapPadding.split(",").filter(function(Vt){return Vt.trim()}).map(function(Vt){return parseFloat(Vt.trim())});St.length>0&&St.length<=4&&(St.length===1?St=[St[0],St[0],St[0],St[0]]:St.length===2?St=[St[0],St[1],St[0],St[1]]:St.length===3&&(St=[St[0],St[1],St[2],St[1]]),Pt+=St[1]+St[3],Ot+=St[0]+St[2],pe=pe+(St[1]-St[3])/2,he=he+(St[2]-St[0])/2)}Le=El(El({},d),{},{x:pe-1,y:he-1,width:Pt,height:Ot})}return Object(Se.g)(_n,Le)}}},{key:"getShape",value:function(){var i=this.props.model,a=i.text,l=a.value,d=a.x,p=a.y;if(!!l){var O=i.getTextStyle(),N=El({x:d,y:p,className:"lf-element-text",value:l},O);return Object(Se.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(Se.g)($b,od({},N,{model:i})))}}}]),r}(Kb);function ys(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ys=function(r){return typeof r}:ys=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ys(e)}function ud(){return ud=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ud.apply(this,arguments)}function Bi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bi(Object(r),!0).forEach(function(n){vn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mj(e,t){return Aj(e)||wj(e,t)||OO(e,t)||Tj()}function Tj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OO(e,t){if(!!e){if(typeof e=="string")return EO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EO(e,t)}}function EO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wj(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function Aj(e){if(Array.isArray(e))return e}function SO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Nj(e,t,r){return t&&xO(e.prototype,t),r&&xO(e,r),e}function hm(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ym(e,t)}function ym(e,t){return ym=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ym(e,t)}function Dj(e){var t=ld();return function(){var n=so(e),i;if(t){var a=so(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return di(this,i)}}function di(e,t){if(t&&(ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pi(e)}function pi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ld(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function so(e){return so=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},so(e)}function vn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vi;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(vi||(vi={}));var qf=function(e){hm(r,e);var t=Dj(r);function r(){var n;return SO(this,r),n=t.call(this),vn(pi(n),"dragHandler",void 0),vn(pi(n),"oldEdge",void 0),vn(pi(n),"preTargetNode",void 0),vn(pi(n),"targetRuleResults",void 0),vn(pi(n),"sourceRuleResults",void 0),vn(pi(n),"onDragStart",function(){var i=n.props,a=i.x,l=i.y,d=i.edgeModel,p=d.startPoint,O=d.endPoint,N=d.pointsList;n.oldEdge={startPoint:p,endPoint:O,pointsList:N},n.setState({endX:a,endY:l,draging:!0}),d.isHitable=!1}),vn(pi(n),"onDraging",function(i){var a=i.deltaX,l=i.deltaY,d=n.state,p=d.endX,O=d.endY,N=n.props,B=N.graphModel,$=N.type,J=B.transformModel,fe=J.moveCanvasPointByHtml([p,O],a,l),pe=Mj(fe,2),he=pe[0],Ne=pe[1];n.setState({endX:he,endY:Ne,draging:!0});var Fe=n.props.edgeModel,Le=bu({x:p,y:O},B);if(Le&&Le.node&&n.isAllowAdjust(Le)){var ke,rt=Fe.startPoint,lt=Fe.endPoint,Pt=Fe.sourceNode,Ot=Fe.targetNode;$===vi.SOURCE?ke={startPoint:{x:Le.anchor.x,y:Le.anchor.y},endPoint:{x:lt.x,y:lt.y},sourceNode:Le.node,targetNode:Ot}:$===vi.TARGET&&(ke={startPoint:{x:rt.x,y:rt.y},endPoint:{x:Le.anchor.x,y:Le.anchor.y},sourceNode:Pt,targetNode:Le.node}),Fe.updateAfterAdjustStartAndEnd(ke)}else $===vi.SOURCE?Fe.updateStartPoint({x:he,y:Ne}):$===vi.TARGET&&Fe.updateEndPoint({x:he,y:Ne})}),vn(pi(n),"onDragEnd",function(){var i;n.setState({draging:!1});var a=n.props,l=a.graphModel,d=a.edgeModel,p=a.type;d.isHitable=!0;var O=n.state,N=O.endX,B=O.endY,$=O.draging,J=bu({x:N,y:B},l);if(!!$){if(J&&J.node&&n.isAllowAdjust(J)){var fe,pe=d.getData(),he=ha(ha({},pe),{},{sourceAnchorId:"",targetAnchorId:"",text:(pe==null||(fe=pe.text)===null||fe===void 0?void 0:fe.value)||""});if(p===vi.SOURCE){var Ne=l.edgeGenerator(l.getNodeModelById(J.node.id).getData(),l.getNodeModelById(d.targetNodeId).getData(),he);he=ha(ha({},Ne),{},{sourceNodeId:J.node.id,sourceAnchorId:J.anchor.id,startPoint:{x:J.anchor.x,y:J.anchor.y},targetNodeId:d.targetNodeId,endPoint:ha({},d.endPoint)})}else if(p===vi.TARGET){var Fe=l.edgeGenerator(l.getNodeModelById(d.sourceNodeId).getData(),l.getNodeModelById(J.node.id).getData(),he);he=ha(ha({},Fe),{},{sourceNodeId:d.sourceNodeId,startPoint:ha({},d.startPoint),targetNodeId:J.node.id,targetAnchorId:J.anchor.id,endPoint:{x:J.anchor.x,y:J.anchor.y}})}l.deleteEdgeById(d.id);var Le=l.addEdge(ha({},he));l.eventCenter.emit(Mt.EDGE_EXCHANGE_NODE,{data:{newEdge:Le.getData(),oldEdge:d.getData()}})}else n.recoveryEdge();(i=n.preTargetNode)===null||i===void 0||i.setElementState(Kt.DEFAULT)}}),vn(pi(n),"recoveryEdge",function(){var i=n.props.edgeModel,a=n.oldEdge,l=a.startPoint,d=a.endPoint,p=a.pointsList;i.updateStartPoint(l),i.updateEndPoint(d),i.modelType!==zt.LINE_EDGE&&(i.pointsList=p,i.initPoints())}),vn(pi(n),"getAdjustPointStyle",function(){var i=n.props.graphModel.theme,a=i.edgeAdjust;return a}),n.state={draging:!1,endX:0,endY:0},n.targetRuleResults=new Map,n.sourceRuleResults=new Map,n.dragHandler=xf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return Nj(r,[{key:"isAllowAdjust",value:function(i){var a=this.props,l=a.edgeModel,d=l.id,p=l.sourceNode,O=l.targetNode,N=l.sourceAnchorId,B=l.targetAnchorId,$=a.type,J=null,fe=null,pe=null,he=null;if($===vi.SOURCE?(J=i.node,fe=O,pe=i.anchor,he=O.getAnchorInfo(B)):(J=p,fe=i.node,he=i.anchor,pe=p.getAnchorInfo(N)),this.preTargetNode&&this.preTargetNode!==i.node&&this.preTargetNode.setElementState(Kt.DEFAULT),this.preTargetNode=i.node,he.id===pe.id)return!1;var Ne="".concat(J.id,"_").concat(fe.id,"_").concat(pe.id,"_").concat(he.id);if(!this.targetRuleResults.has(Ne)){var Fe=J.isAllowConnectedAsSource(fe,pe,he),Le=fe.isAllowConnectedAsTarget(J,pe,he);this.sourceRuleResults.set(Ne,Eu(Fe)),this.targetRuleResults.set(Ne,Eu(Le))}var ke=this.sourceRuleResults.get(Ne),rt=ke.isAllPass,lt=this.targetRuleResults.get(Ne),Pt=lt.isAllPass,Ot=rt&&Pt?Kt.ALLOW_CONNECT:Kt.NOT_ALLOW_CONNECT;return $===vi.SOURCE?J.setElementState(Ot):fe.setElementState(Ot),rt&&Pt}},{key:"render",value:function(){var i=this.props,a=i.x,l=i.y,d=this.state.draging,p=this.getAdjustPointStyle();return Object(Se.g)("g",null,Object(Se.g)(da,ud({className:"lf-edge-adjust-point"},p,{x:a,y:l,onMouseDown:this.dragHandler,"pointer-events":d?"none":""})))}}]),r}(Se.a);function Sl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sl=function(r){return typeof r}:Sl=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Sl(e)}function _f(){return _f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_f.apply(this,arguments)}function gm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gm(Object(r),!0).forEach(function(n){ro(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jj(e,t,r){return t&&TO(e.prototype,t),r&&TO(e,r),e}function mm(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bm(e,t)}function bm(e,t){return bm=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},bm(e,t)}function Cj(e){var t=sd();return function(){var n=fo(e),i;if(t){var a=fo(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return hi(this,i)}}function hi(e,t){if(t&&(Sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yi(e)}function yi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sd(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function fo(e){return fo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},fo(e)}function ro(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var La=function(e){mm(r,e);var t=Cj(r);function r(){var n;MO(this,r);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=t.call.apply(t,[this].concat(a)),ro(yi(n),"startTime",void 0),ro(yi(n),"contextMenuTime",void 0),ro(yi(n),"clickTimer",void 0),ro(yi(n),"handleHover",function(d,p){var O=n.props,N=O.model,B=O.graphModel.eventCenter;N.setHovered(d);var $=d?Mt.EDGE_MOUSEENTER:Mt.EDGE_MOUSELEAVE,J=N.getData();B.emit($,{data:J,e:p})}),ro(yi(n),"setHoverON",function(d){var p=n.props.model.isHovered;p||n.handleHover(!0,d)}),ro(yi(n),"setHoverOFF",function(d){n.handleHover(!1,d)}),ro(yi(n),"handleContextMenu",function(d){d.preventDefault(),n.contextMenuTime=new Date().getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var p=n.props,O=p.model,N=p.graphModel,B=N.getPointByClient({x:d.clientX,y:d.clientY});N.setElementStateById(O.id,Kt.SHOW_MENU,B.domOverlayPosition),n.toFront(),N.selectEdgeById(O.id);var $=O==null?void 0:O.getData();N.eventCenter.emit(Mt.EDGE_CONTEXTMENU,{data:$,e:d,position:B})}),ro(yi(n),"handleMouseDown",function(d){d.stopPropagation(),n.startTime=new Date().getTime()}),ro(yi(n),"handleMouseUp",function(d){if(!!n.startTime){var p=new Date().getTime()-n.startTime;if(!(p>200)){var O=d.button===2;if(!O){var N=d.detail===2,B=n.props,$=B.model,J=B.graphModel,fe=$==null?void 0:$.getData(),pe=J.getPointByClient({x:d.clientX,y:d.clientY});if(N){var he=J.editConfigModel,Ne=J.textEditElement;if(Ne&&Ne.id===$.id&&J.setElementStateById($.id,Kt.DEFAULT),he.edgeTextEdit&&$.text.editable&&J.setElementStateById($.id,Kt.TEXT_EDIT),$.modelType===zt.POLYLINE_EDGE){var Fe=$,Le=J.getPointByClient({x:d.x,y:d.y}),ke=Le.canvasOverlayPosition,rt=ke.x,lt=ke.y,Pt=sh({x:rt,y:lt},Fe.points);Fe.dbClickPosition=Pt}J.eventCenter.emit(Mt.EDGE_DBCLICK,{data:fe,e:d,position:pe})}else J.eventCenter.emit(Mt.ELEMENT_CLICK,{data:fe,e:d,position:pe}),J.eventCenter.emit(Mt.EDGE_CLICK,{data:fe,e:d,position:pe});var Ot=J.editConfigModel;J.selectEdgeById($.id,fv(d,Ot)),n.toFront()}}}}),ro(yi(n),"getIsDraging",function(){return!1}),n}return jj(r,[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var i=this.props,a=i.model,l=i.graphModel;if(a.state===Kt.TEXT_EDIT)return"";var d=!1,p=l.editConfigModel;return(a.text.draggable||p.edgeTextDraggable)&&(d=!0),Object(Se.g)(ad,{editable:p.edgeTextEdit&&a.text.editable,model:a,graphModel:l,draggable:d})}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=i.startPoint,l=i.endPoint,d=i.isSelected,p=this.state,O=p.hover;return{start:a,end:l,hover:O,isSelected:d}}},{key:"getArrowStyle",value:function(){var i=this.props,a=i.model,l=i.graphModel,d=a.getEdgeStyle(),p=a.getEdgeAnimationStyle(),O=l.theme.arrow,N=a.isAnimation?p.stroke:d.stroke;return PO(PO({},d),{},{fill:N,stroke:N},O)}},{key:"getArrow",value:function(){var i=this.props.model.id,a=this.getArrowStyle(),l=a.refY,d=l===void 0?0:l,p=a.refX,O=p===void 0?2:p;return Object(Se.g)("g",null,Object(Se.g)("defs",null,Object(Se.g)("marker",{id:"marker-start-".concat(i),refX:O,refY:d,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(Se.g)("marker",{id:"marker-end-".concat(i),refX:O,refY:d,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var i=this.getArrowStyle(),a=i.stroke,l=i.strokeWidth,d=i.offset,p=i.verticalLength;return Object(Se.g)("path",{stroke:a,fill:a,strokeWidth:l,d:"M 0 0 L ".concat(d," -").concat(p," L ").concat(d," ").concat(p," Z")})}},{key:"getEndArrow",value:function(){var i=this.getArrowStyle(),a=i.stroke,l=i.strokeWidth,d=i.offset,p=i.verticalLength;return Object(Se.g)("path",{stroke:a,fill:a,strokeWidth:l,transform:"rotate(180)",d:"M 0 0 L ".concat(d," -").concat(p," L ").concat(d," ").concat(p," Z")})}},{key:"getAdjustPoints",value:function(){var i=this.props,a=i.model,l=i.graphModel,d=a.getAdjustStart(),p=a.getAdjustEnd();return Object(Se.g)("g",null,Object(Se.g)(qf,_f({type:"SOURCE"},d,{edgeModel:a,graphModel:l})),Object(Se.g)(qf,_f({type:"TARGET"},p,{edgeModel:a,graphModel:l})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(Se.g)("g",null)}},{key:"getAppend",value:function(){return Object(Se.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var i=this.props,a=i.graphModel,l=i.model,d=a.overlapMode;d!==Wr.INCREASE&&a.toFront(l.id)}},{key:"render",value:function(){var i=this.props,a=i.model,l=a.isSelected,d=a.isHitable,p=i.graphModel,O=this.getIsDraging(),N=p.editConfigModel.adjustEdgeStartAndEnd,B=p.animation,$=l&&B.edge&&p.getSelectElements().edges.length===1;return Object(Se.g)("g",null,Object(Se.g)("g",{className:["lf-edge",!d&&"pointer-none",l&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),$&&this.getAnimation(),this.getText(),this.getArrow()),N&&l&&!O?this.getAdjustPoints():"")}}]),r}(Se.a);function fd(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fd=function(r){return typeof r}:fd=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fd(e)}function Rj(e,t){return Lj(e)||Bj(e,t)||wO(e,t)||Ij()}function Ij(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wO(e,t){if(!!e){if(typeof e=="string")return AO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AO(e,t)}}function AO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bj(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function Lj(e){if(Array.isArray(e))return e}function gs(e){var t={d:""};return Object.entries(e).forEach(function(r){var n=Rj(r,2),i=n[0],a=n[1],l=fd(a);(i==="style"||l!=="object")&&(t[i]=a)}),Object(Se.g)("path",t)}var ya=gs;function xl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xl=function(r){return typeof r}:xl=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xl(e)}function cd(){return cd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cd.apply(this,arguments)}function NO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zj(e,t,r){return t&&DO(e.prototype,t),r&&DO(e,r),e}function Om(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Em(e,t)}function Em(e,t){return Em=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Em(e,t)}function Fj(e){var t=dd();return function(){var n=ms(e),i;if(t){var a=ms(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Hj(this,i)}}function Hj(e,t){if(t&&(xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gj(e)}function Gj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dd(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ms(e){return ms=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ms(e)}var bs=function(e){Om(r,e);var t=Fj(r);function r(){return NO(this,r),t.apply(this,arguments)}return zj(r,[{key:"getEdge",value:function(){var i=this.props.model,a=i.startPoint,l=i.endPoint,d=i.isAnimation,p=i.arrowConfig,O=i.getEdgeStyle(),N=i.getEdgeAnimationStyle(),B=N.strokeDasharray,$=N.stroke,J=N.strokeDashoffset,fe=N.animationName,pe=N.animationDuration,he=N.animationIterationCount,Ne=N.animationTimingFunction,Fe=N.animationDirection;return Object(Se.g)(xo,cd({},O,{x1:a.x,y1:a.y,x2:l.x,y2:l.y},p,d?{strokeDasharray:B,stroke:$,style:{strokeDashoffset:J,animationName:fe,animationDuration:pe,animationIterationCount:he,animationTimingFunction:Ne,animationDirection:Fe}}:{}))}},{key:"getShape",value:function(){return Object(Se.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var i=this.props.model,a=i.getAnimation(),l=a.stroke,d=a.className,p=a.strokeDasharray,O=i.startPoint,N=i.endPoint,B=i.getEdgeStyle();return Object(Se.g)("g",null,Object(Se.g)(xo,cd({},B,{x1:O.x,y1:O.y,x2:N.x,y2:N.y,className:d,strokeDasharray:p,stroke:l})))}},{key:"getAppendWidth",value:function(){var i=this.props.model,a=i.startPoint,l=i.endPoint,d={start:a,end:l},p=B0(d),O=p.d,N=p.strokeWidth,B=p.fill,$=p.strokeDasharray,J=p.stroke;return Object(Se.g)(ya,{d:O,fill:B,strokeWidth:N,stroke:J,strokeDasharray:$})}}]),r}(La);function pd(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pd=function(r){return typeof r}:pd=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pd(e)}function Uj(e,t){return Xj(e)||kj(e,t)||jO(e,t)||$j()}function $j(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jO(e,t){if(!!e){if(typeof e=="string")return CO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CO(e,t)}}function CO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kj(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function Xj(e){if(Array.isArray(e))return e}function RO(e){var t={points:"",fill:"none"};return Object.entries(e).forEach(function(r){var n=Uj(r,2),i=n[0],a=n[1];if(i==="style")t[i]=a;else{var l=pd(a);l!=="object"&&(t[i]=a)}}),Object(Se.g)("polyline",t)}var ec=RO;function tc(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tc=function(r){return typeof r}:tc=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tc(e)}function rc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rc(Object(r),!0).forEach(function(n){Uo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vd(){return vd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vd.apply(this,arguments)}function Yj(e,t){return Vj(e)||Kj(e,t)||IO(e,t)||Wj()}function Wj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IO(e,t){if(!!e){if(typeof e=="string")return BO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BO(e,t)}}function BO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kj(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function Vj(e){if(Array.isArray(e))return e}function LO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zj(e,t,r){return t&&zO(e.prototype,t),r&&zO(e,r),e}function Sm(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xm(e,t)}function xm(e,t){return xm=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},xm(e,t)}function Jj(e){var t=hd();return function(){var n=wo(e),i;if(t){var a=wo(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Li(this,i)}}function Li(e,t){if(t&&(tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zi(e)}function zi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hd(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function wo(e){return wo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},wo(e)}function Uo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Os=function(e){Sm(r,e);var t=Jj(r);function r(){var n;return LO(this,r),n=t.call(this),Uo(zi(n),"drag",void 0),Uo(zi(n),"isDraging",void 0),Uo(zi(n),"appendInfo",void 0),Uo(zi(n),"dragHandler",void 0),Uo(zi(n),"onDragStart",function(){var i=n.props.model;i.dragAppendStart()}),Uo(zi(n),"onDraging",function(i){var a=i.deltaX,l=i.deltaY,d=n.props,p=d.model,O=d.graphModel;n.isDraging=!0;var N=O.transformModel,B=O.editConfigModel,$=N.fixDeltaXY(a,l),J=Yj($,2),fe=J[0],pe=J[1],he=p,Ne=B.adjustEdgeMiddle;Ne?n.appendInfo=he.dragAppendSimple(n.appendInfo,{x:fe,y:pe}):n.appendInfo=he.dragAppend(n.appendInfo,{x:fe,y:pe})}),Uo(zi(n),"onDragEnd",function(){var i=n.props,a=i.model,l=i.graphModel.eventCenter,d=a;d.dragAppendEnd(),n.isDraging=!1,n.appendInfo=void 0,l.emit(Mt.EDGE_ADJUST,{data:d.getData()})}),Uo(zi(n),"beforeDragStart",function(i,a){a.dragAble&&n.dragHandler(i),n.appendInfo=a}),Uo(zi(n),"getIsDraging",function(){return n.isDraging}),n.drag=xf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd,isStopPropagation:!1}),n}return Zj(r,[{key:"getEdge",value:function(){var i=this.props.model,a=i.points,l=i.isAnimation,d=i.arrowConfig,p=i.getEdgeStyle(),O=i.getEdgeAnimationStyle(),N=O.strokeDasharray,B=O.stroke,$=O.strokeDashoffset,J=O.animationName,fe=O.animationDuration,pe=O.animationIterationCount,he=O.animationTimingFunction,Ne=O.animationDirection;return Object(Se.g)(ec,vd({points:a},p,d,l?{strokeDasharray:N,stroke:B,style:{strokeDashoffset:$,animationName:J,animationDuration:fe,animationIterationCount:pe,animationTimingFunction:he,animationDirection:Ne}}:{}))}},{key:"getShape",value:function(){return Object(Se.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var i=this.props.model,a=i.getAnimation(),l=a.stroke,d=a.className,p=a.strokeDasharray,O=i.getEdgeStyle();return Object(Se.g)("g",null,Object(Se.g)(ec,vd({points:i.points},O,{className:d,strokeDasharray:p,stroke:l})))}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=i.points,l=i.isSelected,d=this.state,p=d.hover,O={start:null,end:null,hover:p,isSelected:l},N=ii(a);return N.length>=2&&(O.start=N[N.length-2],O.end=N[N.length-1]),O}},{key:"getAppendAttributes",value:function(i){var a=i.start,l=i.end,d;if(a.x===l.x&&a.y===l.y)d="";else{var p={start:a,end:l,offset:10,verticalLength:5},O=la(Pl(Pl({},p),{},{type:"start"})),N=la(Pl(Pl({},p),{},{type:"end"}));d="M".concat(O.leftX," ").concat(O.leftY,` 
      L`).concat(O.rightX," ").concat(O.rightY,` 
      L`).concat(N.rightX," ").concat(N.rightY,`
      L`).concat(N.leftX," ").concat(N.leftY," z")}return{d,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(i){var a=this.getAppendAttributes(i),l=a.d,d=a.strokeWidth,p=a.fill,O=a.strokeDasharray,N=a.stroke;return Object(Se.g)(ya,{d:l,fill:p,strokeWidth:d,stroke:N,strokeDasharray:O})}},{key:"getAppendWidth",value:function(){for(var i=this,a=this.props,l=a.model,d=a.graphModel,p=l.pointsList,O=l.draggable,N=[],B=p.length,$=function(pe){var he="lf-polyline-append",Ne={start:{x:p[pe].x,y:p[pe].y},end:{x:p[pe+1].x,y:p[pe+1].y},startIndex:pe,endIndex:pe+1,direction:"",dragAble:!0},Fe=Object(Se.g)("g",{className:he},i.getAppendShape(Ne)),Le=d.editConfigModel,ke=Le.adjustEdge,rt=Le.adjustEdgeMiddle;if(!ke||!O)i.dragHandler=function(){};else{i.dragHandler=i.drag;var lt=Ne.startIndex,Pt=Ne.endIndex,Ot=rt&&(lt===0||Pt===B-1);Ne.dragAble=!Ot,Ne.start.x===Ne.end.x?(Ne.dragAble&&(he+="-ew-resize"),Ne.direction=Jt.VERTICAL):Ne.start.y===Ne.end.y&&(Ne.dragAble&&(he+="-ns-resize"),Ne.direction=Jt.HORIZONTAL),Fe=Object(Se.g)("g",{className:i.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(Vt){return i.beforeDragStart(Vt,Ne)}},Object(Se.g)("g",{className:he},i.getAppendShape(Ne)))}N.push(Fe)},J=0;J<B-1;J++)$(J);return Object(Se.g)("g",null,N)}}]),r}(La);function yd(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yd=function(r){return typeof r}:yd=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},yd(e)}function Qj(e,t){return gd(e)||_j(e,t)||FO(e,t)||qj()}function qj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FO(e,t){if(!!e){if(typeof e=="string")return HO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HO(e,t)}}function HO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _j(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function gd(e){if(Array.isArray(e))return e}function md(){return md=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},md.apply(this,arguments)}function GO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eC(e,t,r){return t&&UO(e.prototype,t),r&&UO(e,r),e}function Pm(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mm(e,t)}function Mm(e,t){return Mm=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Mm(e,t)}function tC(e){var t=bd();return function(){var n=Es(e),i;if(t){var a=Es(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return rC(this,i)}}function rC(e,t){if(t&&(yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nC(e)}function nC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bd(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Es(e){return Es=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Es(e)}var Ss=function(e){Pm(r,e);var t=tC(r);function r(){return GO(this,r),t.apply(this,arguments)}return eC(r,[{key:"getEdge",value:function(){var i=this.props.model,a=i.getEdgeStyle(),l=i.path,d=i.isAnimation,p=i.arrowConfig,O=i.getEdgeAnimationStyle(),N=O.strokeDasharray,B=O.stroke,$=O.strokeDashoffset,J=O.animationName,fe=O.animationDuration,pe=O.animationIterationCount,he=O.animationTimingFunction,Ne=O.animationDirection;return Object(Se.g)(ya,md({d:l},a,p,d?{strokeDasharray:N,stroke:B,style:{strokeDashoffset:$,animationName:J,animationDuration:fe,animationIterationCount:pe,animationTimingFunction:he,animationDirection:Ne}}:{}))}},{key:"getShape",value:function(){return Object(Se.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var i=this.props.model,a=i.getAnimation(),l=a.stroke,d=a.className,p=a.strokeDasharray,O=i.getEdgeStyle();return Object(Se.g)("g",null,Object(Se.g)(ya,md({d:i.path},O,{className:d,strokeDasharray:p,stroke:l})))}},{key:"getAppendWidth",value:function(){var i=this.props.model.path;return Object(Se.g)(ya,{d:i,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=this.state,l=a.hover,d=i,p=d.path,O=d.isSelected,N=L0(p),B=Qj(N,2),$=B[0],J=B[1],fe={start:$,end:J,hover:l,isSelected:O};return fe}}]),r}(La);function nc(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nc=function(r){return typeof r}:nc=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},nc(e)}function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(n){iC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aC(e,t,r){return t&&XO(e.prototype,t),r&&XO(e,r),e}function Tm(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wm(e,t)}function wm(e,t){return wm=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},wm(e,t)}function uC(e){var t=Od();return function(){var n=Ed(e),i;if(t){var a=Ed(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return lC(this,i)}}function lC(e,t){if(t&&(nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sC(e)}function sC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Od(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ed(e){return Ed=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ed(e)}var fC=function(e){Tm(r,e);var t=uC(r);function r(){return kO(this,r),t.apply(this,arguments)}return aC(r,[{key:"getArrowAttributes",value:function(){var i=this.props,a=i.arrowInfo,l=i.style,d=a.start,p=a.end,O={start:d,end:p,offset:l.offset,verticalLength:l.verticalLength,type:"end"},N=la(O),B=N.leftX,$=N.leftY,J=N.rightX,fe=N.rightY;return oC({d:"M".concat(B," ").concat($," L").concat(p.x," ").concat(p.y," L").concat(J," ").concat(fe," z")},l)}},{key:"getShape",value:function(){var i=this.getArrowAttributes(),a=i.d,l=i.strokeWidth,d=i.stroke,p=i.fill;return Object(Se.g)(ya,{d:a,fill:p,strokeWidth:l,stroke:d})}},{key:"render",value:function(){return Object(Se.g)("g",{className:"lf-arrow"},this.getShape())}}]),r}(Se.a);function YO(e,t){return Ws(e,t)}var WO=YO;function cC(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var dC=cC,Am=function(){return zr.a.Date.now()},Nm=Am,pC=/\s/;function vC(e){for(var t=e.length;t--&&pC.test(e.charAt(t)););return t}var hC=vC,yC=/^\s+/;function gC(e){return e&&e.slice(0,hC(e)+1).replace(yC,"")}var KO=gC,VO=0/0,mC=/^[-+]0x[0-9a-f]+$/i,bC=/^0b[01]+$/i,OC=/^0o[0-7]+$/i,EC=parseInt;function ZO(e){if(typeof e=="number")return e;if(fu(e))return VO;if(Tr(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Tr(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=KO(e);var r=bC.test(e);return r||OC.test(e)?EC(e.slice(2),r?2:8):mC.test(e)?VO:+e}var JO=ZO,SC="Expected a function",xC=Math.max,PC=Math.min;function MC(e,t,r){var n,i,a,l,d,p,O=0,N=!1,B=!1,$=!0;if(typeof e!="function")throw new TypeError(SC);t=JO(t)||0,Tr(r)&&(N=!!r.leading,B="maxWait"in r,a=B?xC(JO(r.maxWait)||0,t):a,$="trailing"in r?!!r.trailing:$);function J(lt){var Pt=n,Ot=i;return n=i=void 0,O=lt,l=e.apply(Ot,Pt),l}function fe(lt){return O=lt,d=setTimeout(Ne,t),N?J(lt):l}function pe(lt){var Pt=lt-p,Ot=lt-O,St=t-Pt;return B?PC(St,a-Ot):St}function he(lt){var Pt=lt-p,Ot=lt-O;return p===void 0||Pt>=t||Pt<0||B&&Ot>=a}function Ne(){var lt=Nm();if(he(lt))return Fe(lt);d=setTimeout(Ne,pe(lt))}function Fe(lt){return d=void 0,$&&n?J(lt):(n=i=void 0,l)}function Le(){d!==void 0&&clearTimeout(d),O=0,n=p=i=d=void 0}function ke(){return d===void 0?l:Fe(Nm())}function rt(){var lt=Nm(),Pt=he(lt);if(n=arguments,i=this,p=lt,Pt){if(d===void 0)return fe(p);if(B)return clearTimeout(d),d=setTimeout(Ne,t),J(p)}return d===void 0&&(d=setTimeout(Ne,t)),l}return rt.cancel=Le,rt.flush=ke,rt}var TC=MC,wC=u(166);function QO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function za(e,t,r){return t&&qO(e.prototype,t),r&&qO(e,r),e}function Fa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var AC=function(){function e(t){QO(this,e),Fa(this,"undos",[]),Fa(this,"redos",[]),Fa(this,"callbacks",[]),Fa(this,"stopWatch",null),Fa(this,"curData",null),Fa(this,"maxSize",50),Fa(this,"waitTime",100),Fa(this,"eventCenter",void 0),this.eventCenter=t}return za(e,[{key:"add",value:function(r){WO(dC(this.undos),r)||(this.undos.push(r),WO(this.curData,r)||(this.redos=[]),this.eventCenter.emit(Mt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(!!this.undoAble()){var r=this.undos.pop();this.redos.push(r);var n=this.undos.pop();return this.curData=ur(n),n}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(!!this.redoAble()){var r=this.redos.pop();return this.curData=ur(r),r}}},{key:"watch",value:function(r){var n=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(wC.a)(r,TC(function(){var i=r.modelToHistoryData();i&&n.add(i)},this.waitTime))}}]),e}(),Sd=AC;function oc(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oc=function(r){return typeof r}:oc=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},oc(e)}var Dm,jm,_O;function NC(e,t){return rE(e)||jC(e,t)||eE(e,t)||DC()}function DC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eE(e,t){if(!!e){if(typeof e=="string")return tE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tE(e,t)}}function tE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jC(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function rE(e){if(Array.isArray(e))return e}function Ml(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ml(Object(r),!0).forEach(function(n){ga(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ml(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CC(e,t,r){return t&&oE(e.prototype,t),r&&oE(e,r),e}function Cm(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rm(e,t)}function Rm(e,t){return Rm=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Rm(e,t)}function RC(e){var t=xd();return function(){var n=Fi(e),i;if(t){var a=Fi(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ps(this,i)}}function Ps(e,t){if(t&&(oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ms(e)}function Ms(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xd(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Fi(e){return Fi=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Fi(e)}function ga(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Im=Gi(Dm=(_O=jm=function(e){Cm(r,e);var t=RC(r);function r(){var n;return nE(this,r),n=t.call(this),ga(Ms(n),"ref",Object(Se.f)()),ga(Ms(n),"__prevText",{type:"",text:"",id:""}),ga(Ms(n),"keyupHandler",function(i){var a=n.props.graphModel.textEditElement;i.key==="Enter"&&i.altKey&&a.setElementState(0)}),ga(Ms(n),"inputHandler",function(i){var a=i.target,l=a.innerText,d=n.props.graphModel.textEditElement;n.__prevText={type:d.type,text:l.replace(/(\r\n)+$|(\n)+$/,""),id:d.id}}),ga(Ms(n),"keydownHandler",function(i){i.stopPropagation()}),n.state={style:{left:0,top:0}},n}return CC(r,[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var i=this.props.graphModel,a=i.eventCenter,l=i.editConfigModel,d=l.edgeTextEdit,p=l.nodeTextEdit;(d||p)&&a.on("".concat(Mt.GRAPH_TRANSFORM,",").concat(Mt.NODE_CLICK,",").concat(Mt.BLANK_CLICK," "),function(){i.textEditElement&&i.textEditElement.setElementState(Kt.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var i=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var a=this.__prevText,l=a.text,d=a.id;i.updateText(d,l),i.eventCenter.emit(Mt.TEXT_UPDATE,xs({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(i){if(window.getSelection!==void 0&&document.createRange!==void 0){var a=document.createRange();a.selectNodeContents(i),a.collapse(!1);var l=window.getSelection();l.removeAllRanges(),l.addRange(a)}}},{key:"render",value:function(){var i,a=this.props.graphModel.textEditElement,l=this.state.style;return a?Object(Se.g)("div",{contentEditable:!0,className:"lf-text-input",style:l,ref:this.ref,key:a.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(i=a.text)===null||i===void 0?void 0:i.value):null}}],[{key:"getDerivedStateFromProps",value:function(i){var a=i.graphModel,l=a.transformModel,d=a.theme,p=a.textEditElement,O;if(p){var N;if(!((N=p.text)!==null&&N!==void 0&&N.value))if(p.BaseType===Or.EDGE){p=p;var B=p.text,$=p.textPosition,J=$.x,fe=$.y;B.x=J,B.y=fe,p.setText(B)}else p=p;var pe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(p.BaseType===Or.EDGE){var he=d.edgeText,Ne=he.overflowMode,Fe=he.lineHeight,Le=he.wrapPadding,ke=he.textWidth;ke&&Ne==="autoWrap"&&(O=xs(xs({},pe),{},{width:ke,minWidth:ke,lineHeight:Fe,padding:Le}))}else if(p.BaseType===Or.NODE){var rt=d.nodeText,lt=rt.overflowMode,Pt=rt.lineHeight,Ot=rt.wrapPadding,St=rt.textWidth,Vt=p,Cr=Vt.width,tn=Vt.modelType;(tn!==zt.TEXT_NODE&&lt==="autoWrap"||tn===zt.TEXT_NODE&&St)&&(O=xs(xs({},pe),{},{width:St||Cr,minWidth:St||Cr,lineHeight:Pt,padding:Ot}))}var Sn=p.text,kn=Sn.x,$o=Sn.y,No=l.CanvasPointToHtmlPoint([kn,$o]),Do=NC(No,2),Ga=Do[0],Wm=Do[1];return{style:xs({left:Ga,top:Wm},O)}}}}]),r}(Se.a),ga(jm,"toolName","textEdit"),_O))||Dm,IC=function(t){var r=t.x,n=t.y,i=t.width,a=t.height;return{x:r-i/2,y:n-a/2,x1:r+i/2,y1:n+a/2}},BC=function(t){var r=t.startPoint,n=t.endPoint,i=(r.x+n.x)/2,a=(r.y+n.y)/2,l=Math.abs(r.x-n.x)+10,d=Math.abs(r.y-n.y)+10;return{x:i-l/2,y:a-d/2,x1:i+l/2,y1:a+d/2}},LC=function(t){var r=t.points,n=ii(r),i=sa(n,8),a=i.x,l=i.y,d=i.width,p=i.height;return{x:a-d/2,y:l-p/2,x1:a+d/2,y1:l+p/2}},zC=function(t){var r=t.path,n=Iu(r),i=sa(n,8),a=i.x,l=i.y,d=i.width,p=i.height;return{x:a-d/2,y:l-p/2,x1:a+d/2,y1:l+p/2}},Pd=function(t){if(t.modelType===zt.LINE_EDGE)return BC(t);if(t.modelType===zt.POLYLINE_EDGE)return LC(t);if(t.modelType===zt.BEZIER_EDGE)return zC(t)};function ic(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ic=function(r){return typeof r}:ic=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ic(e)}var Bm,Lm,zm;function iE(e,t){return GC(e)||HC(e,t)||uE(e,t)||FC()}function FC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HC(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,l,d;try{for(r=r.call(e);!(i=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(p){a=!0,d=p}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function GC(e){if(Array.isArray(e))return e}function UC(e){return Fm(e)||$C(e)||uE(e)||aE()}function aE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uE(e,t){if(!!e){if(typeof e=="string")return Hm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hm(e,t)}}function $C(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fm(e){if(Array.isArray(e))return Hm(e)}function Hm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kC(e,t,r){return t&&sE(e.prototype,t),r&&sE(e,r),e}function Gm(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Um(e,t)}function Um(e,t){return Um=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Um(e,t)}function XC(e){var t=Md();return function(){var n=Ha(e),i;if(t){var a=Ha(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return ac(this,i)}}function ac(e,t){if(t&&(ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uc(e)}function uc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Md(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ha(e){return Ha=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ha(e)}function Tl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $m=Gi(Bm=(zm=Lm=function(e){Gm(r,e);var t=XC(r);function r(n){var i;lE(this,r),i=t.call(this),Tl(uc(i),"stepDrag",void 0),Tl(uc(i),"handleMouseDown",function(p){i.stepDrag.handleMouseDown(p)}),Tl(uc(i),"onDraging",function(p){var O=p.deltaX,N=p.deltaY,B=i.props.graphModel,$=B.getSelectElements(!0);B.moveNodes($.nodes.map(function(J){return J.id}),O,N)}),Tl(uc(i),"handleContextMenu",function(p){p.preventDefault();var O=i.props,N=O.graphModel,B=O.graphModel,$=B.eventCenter,J=B.selectElements,fe=N.getPointByClient({x:p.clientX,y:p.clientY}),pe={nodes:[],edges:[]},he=UC(J.values());he.forEach(function(Ne){Ne.BaseType===Or.NODE&&pe.nodes.push(Ne.getData()),Ne.BaseType===Or.EDGE&&pe.edges.push(Ne.getData())}),$.emit(Mt.SELECTION_CONTEXTMENU,{data:pe,e:p,position:fe})});var a=n.graphModel,l=a.gridSize,d=a.eventCenter;return i.stepDrag=new So({onDraging:i.onDraging,step:l,eventType:"SELECTION",eventCenter:d}),i}return kC(r,[{key:"render",value:function(){var i=this.props.graphModel,a=i.selectElements,l=i.transformModel;if(!(a.size<=1)){var d=Number.MAX_SAFE_INTEGER,p=Number.MAX_SAFE_INTEGER,O=Number.MIN_SAFE_INTEGER,N=Number.MIN_SAFE_INTEGER;a.forEach(function(he){var Ne={x:0,y:0,x1:0,y1:0};he.BaseType===Or.NODE&&(Ne=IC(he)),he.BaseType===Or.EDGE&&(Ne=Pd(he)),d=Math.min(d,Ne.x),p=Math.min(p,Ne.y),O=Math.max(O,Ne.x1),N=Math.max(N,Ne.y1)});var B=l.CanvasPointToHtmlPoint([d,p]),$=iE(B,2);d=$[0],p=$[1];var J=l.CanvasPointToHtmlPoint([O,N]),fe=iE(J,2);O=fe[0],N=fe[1];var pe={left:"".concat(d-10,"px"),top:"".concat(p-10,"px"),width:"".concat(O-d+20,"px"),height:"".concat(N-p+20,"px")};return Object(Se.g)("div",{className:"lf-multiple-select",style:pe,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),r}(Se.a),Tl(Lm,"toolName","multipleSelect"),zm))||Bm;function fE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Td(e,t,r){return t&&cE(e.prototype,t),r&&cE(e,r),e}function wd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var YC=function(){function e(t){fE(this,e),wd(this,"tools",void 0),wd(this,"components",void 0),wd(this,"toolMap",new Map),wd(this,"instance",void 0),this.instance=t,this.isDisabledTool(Im.toolName)||this.registerTool(Im.toolName,Im),this.isDisabledTool($m.toolName)||this.registerTool($m.toolName,$m)}return Td(e,[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,n){this.toolMap.set(r,n)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),e}(),WC=u(167),KC=u.n(WC);function dE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function km(e,t,r){return t&&pE(e.prototype,t),r&&pE(e,r),e}function Ad(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vE=function(){function e(t){dE(this,e),Ad(this,"mousetrap",void 0),Ad(this,"options",void 0),Ad(this,"target",void 0),t.keyboard||(t.keyboard={enabled:!1}),this.options=t;var r=t.lf;this.target=r.container,this.mousetrap=new KC.a(this.target),t.keyboard.enabled&&this.enable(!0)}return km(e,[{key:"initShortcuts",value:function(){var r=this,n=this.options.keyboard.shortcuts;if(n)if(Ir(n))n.forEach(function(d){var p=d.keys,O=d.callback,N=d.action;return r.on(p,O,N)});else{var i=n.keys,a=n.callback,l=n.action;this.on(i,a,l)}}},{key:"on",value:function(r,n,i){this.mousetrap.bind(this.getKeys(r),n,i)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,n){this.mousetrap.unbind(this.getKeys(r),n)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var n=this;return(Array.isArray(r)?r:[r]).map(function(i){return n.formatkey(i)})}},{key:"formatkey",value:function(r){var n=r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command");return n}}]),e}(),Hi=vE,gi=null;function Xm(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function lc(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(r){r.x+=t,r.y+=t}),e.text&&(e.text.x+=t,e.text.y+=t),e}var Nd=40;function VC(e,t){var r=e.keyboard,n=r.options.keyboard;r.on(["cmd + c","ctrl + c"],function(){if(!!n.enabled&&!t.textEditElement){var i=e.options.guards,a=t.getSelectElements(!1),l=i&&i.beforeClone?i.beforeClone(a):!0;return l?(gi=a,gi.nodes.forEach(function(d){return Xm(d,Nd)}),gi.edges.forEach(function(d){return lc(d,Nd)}),!1):(gi=null,!1)}}),r.on(["cmd + v","ctrl + v"],function(){if(!!n.enabled&&!t.textEditElement){if(gi&&(gi.nodes||gi.edges)){e.clearSelectElements();var i=e.addElements(gi);if(!i)return;i.nodes.forEach(function(a){return e.selectElementById(a.id,!0)}),i.edges.forEach(function(a){return e.selectElementById(a.id,!0)}),gi.nodes.forEach(function(a){return Xm(a,Nd)}),gi.edges.forEach(function(a){return lc(a,Nd)})}return!1}}),r.on(["cmd + z","ctrl + z"],function(){if(!!n.enabled&&!t.textEditElement)return e.undo(),!1}),r.on(["cmd + y","ctrl + y"],function(){if(!!n.enabled&&!t.textEditElement)return e.redo(),!1}),r.on(["backspace"],function(){if(!!n.enabled&&!t.textEditElement){var i=t.getSelectElements(!0);return e.clearSelectElements(),i.edges.forEach(function(a){return e.deleteEdge(a.id)}),i.nodes.forEach(function(a){return e.deleteNode(a.id)}),!1}})}function Dd(e,t){e.on("node:mousemove",function(r){var n=r.data;t.setNodeSnapLine(n)}),e.on("node:mouseup",function(){t.clearSnapline()})}function sc(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sc=function(r){return typeof r}:sc=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sc(e)}function jd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ym(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jd(Object(r),!0).forEach(function(n){_r(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ln(e,t,r){return t&&yE(e.prototype,t),r&&yE(e,r),e}function _r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ao=function(){function e(t){var r=this;hE(this,e),_r(this,"container",void 0),_r(this,"width",void 0),_r(this,"height",void 0),_r(this,"graphModel",void 0),_r(this,"history",void 0),_r(this,"viewMap",new Map),_r(this,"tool",void 0),_r(this,"keyboard",void 0),_r(this,"dnd",void 0),_r(this,"options",void 0),_r(this,"snaplineModel",void 0),_r(this,"components",[]),_r(this,"plugins",void 0),_r(this,"extension",{}),_r(this,"adapterIn",void 0),_r(this,"adapterOut",void 0),_r(this,"getView",function(n){return r.viewMap.get(n)}),t=sy(t),this.options=t,this.container=t.container,this.plugins=t.plugins,this.graphModel=new Q0(Ym({},t)),this.tool=new YC(this),this.history=new Sd(this.graphModel.eventCenter),this.dnd=new LN({lf:this}),this.keyboard=new Hi({lf:this,keyboard:t.keyboard}),!t.isSilentMode&&t.snapline!==!1&&(this.snaplineModel=new Xl(this.graphModel),Dd(this.graphModel.eventCenter,this.snaplineModel)),VC(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(t.disabledPlugins)}return ln(e,[{key:"register",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(typeof r!="string"){this.registerElement(r);return}var a={BaseEdge:La,BaseEdgeModel:pf,BaseNode:Go,BaseNodeModel:zo,RectNode:Jl,RectNodeModel:Og,CircleNode:_l,CircleNodeModel:Gy,PolygonNode:rs,PolygonNodeModel:pg,TextNode:fs,TextNodeModel:Tg,LineEdge:bs,LineEdgeModel:aa,DiamondNode:is,DiamondNodeModel:Zy,PolylineEdge:Os,PolylineEdgeModel:Mu,BezierEdge:Ss,BezierEdgeModel:Gf,EllipseNode:ls,EllipseNodeModel:ig,HtmlNode:ps,HtmlNodeModel:Dg,h:Se.g,type:r};this.viewMap.forEach(function(N){var B=N.extendKey;B&&(a[B]=N)}),this.graphModel.modelMap.forEach(function(N){var B=N.extendKey;B&&(a[B]=N)});var l=n(a),d=l.view,p=l.model,O=d;i&&!O.isObervered&&(O.isObervered=!0,O=ot(O)),this.setView(r,O),this.graphModel.setModel(r,p)}},{key:"registerElement",value:function(r){var n=r.view;r.isObserverView!==!1&&!n.isObervered&&(n.isObervered=!0,n=ot(n)),this.setView(r.type,n),this.graphModel.setModel(r.type,r.model)}},{key:"batchRegister",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(function(i){r.registerElement(i)})}},{key:"defaultRegister",value:function(){this.registerElement({view:Jl,model:Og,type:"rect"}),this.registerElement({type:"circle",view:_l,model:Gy}),this.registerElement({type:"polygon",view:rs,model:pg}),this.registerElement({type:"line",view:bs,model:aa}),this.registerElement({type:"polyline",view:Os,model:Mu}),this.registerElement({type:"bezier",view:Ss,model:Gf}),this.registerElement({type:"text",view:fs,model:Tg}),this.registerElement({type:"ellipse",view:ls,model:ig}),this.registerElement({type:"diamond",view:is,model:Zy}),this.registerElement({type:"html",view:ps,model:Dg})}},{key:"selectElementById",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.graphModel.selectElementById(r,n),n||this.graphModel.toFront(r)}},{key:"focusOn",value:function(r){var n=this.graphModel.transformModel,i=r.coordinate,a=r.id;if(!i){var l=this.getNodeModelById(a);l&&(i=l.getData());var d=this.getEdgeModelById(a);d&&(i=d.textPosition)}var p=i,O=p.x,N=p.y;n.focusOn(O,N,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(r){this.graphModel.setTheme(r)}},{key:"resize",value:function(r,n){this.graphModel.resize(r,n),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(r){this.graphModel.setDefaultEdgeType(r)}},{key:"updateText",value:function(r,n){this.graphModel.updateText(r,n)}},{key:"deleteElement",value:function(r){var n,i,a,l=this.getModelById(r);if(!l)return!1;var d=(n={},_r(n,Or.NODE,this.deleteNode),_r(n,Or.EDGE,this.deleteEdge),n),p=l.BaseType;return(i=(a=d[p])===null||a===void 0?void 0:a.call(this,r))!==null&&i!==void 0?i:!1}},{key:"getModelById",value:function(r){return this.graphModel.getElement(r)}},{key:"getDataById",value:function(r){return this.graphModel.getElement(r).getData()}},{key:"changeNodeType",value:function(r,n){this.graphModel.changeNodeType(r,n)}},{key:"changeEdgeType",value:function(r,n){this.graphModel.changeEdgeType(r,n)}},{key:"getNodeEdges",value:function(r){return this.graphModel.getNodeEdges(r)}},{key:"addNode",value:function(r){return this.graphModel.addNode(r)}},{key:"deleteNode",value:function(r){var n=this.graphModel.getNodeModelById(r);if(!n)return!1;var i=n.getData(),a=this.options.guards,l=a&&a.beforeDelete?a.beforeDelete(i):!0;return l&&this.graphModel.deleteNode(r),l}},{key:"cloneNode",value:function(r){var n=this.graphModel.getNodeModelById(r),i=n.getData(),a=this.options.guards,l=a&&a.beforeClone?a.beforeClone(i):!0;if(l)return this.graphModel.cloneNode(r)}},{key:"changeNodeId",value:function(r,n){return this.graphModel.changeNodeId(r,n)}},{key:"getNodeModelById",value:function(r){return this.graphModel.getNodeModelById(r)}},{key:"getNodeDataById",value:function(r){return this.graphModel.getNodeModelById(r).getData()}},{key:"addEdge",value:function(r){return this.graphModel.addEdge(r)}},{key:"deleteEdge",value:function(r){var n=this.options.guards,i=this.graphModel.edgesMap[r];if(!i)return!1;var a=i.model.getData(),l=n&&n.beforeDelete?n.beforeDelete(a):!0;return l&&this.graphModel.deleteEdgeById(r),l}},{key:"deleteEdgeByNodeId",value:function(r){var n=r.sourceNodeId,i=r.targetNodeId;n&&i?this.graphModel.deleteEdgeBySourceAndTarget(n,i):n?this.graphModel.deleteEdgeBySource(n):i&&this.graphModel.deleteEdgeByTarget(i)}},{key:"changeEdgeId",value:function(r,n){return this.graphModel.changeEdgeId(r,n)}},{key:"getEdgeModelById",value:function(r){var n,i=this.graphModel.edgesMap;return(n=i[r])===null||n===void 0?void 0:n.model}},{key:"getEdgeModels",value:function(r){var n=this.graphModel.edges,i=r.sourceNodeId,a=r.targetNodeId;if(i&&a){var l=[];return n.forEach(function(O){O.sourceNodeId===i&&O.targetNodeId===a&&l.push(O)}),l}if(i){var d=[];return n.forEach(function(O){O.sourceNodeId===i&&d.push(O)}),d}if(a){var p=[];return n.forEach(function(O){O.targetNodeId===a&&p.push(O)}),p}return[]}},{key:"getEdgeDataById",value:function(r){var n;return(n=this.getEdgeModelById(r))===null||n===void 0?void 0:n.getData()}},{key:"getNodeIncomingEdge",value:function(r){return this.graphModel.getNodeIncomingEdge(r)}},{key:"getNodeOutgoingEdge",value:function(r){return this.graphModel.getNodeOutgoingEdge(r)}},{key:"getNodeIncomingNode",value:function(r){return this.graphModel.getNodeIncomingNode(r)}},{key:"getNodeOutgoingNode",value:function(r){return this.graphModel.getNodeOutgoingNode(r)}},{key:"editText",value:function(r){this.graphModel.editText(r)}},{key:"setProperties",value:function(r,n){var i;(i=this.graphModel.getElement(r))===null||i===void 0||i.setProperties(Nr(n))}},{key:"deleteProperty",value:function(r,n){var i;(i=this.graphModel.getElement(r))===null||i===void 0||i.deleteProperty(n)}},{key:"getProperties",value:function(r){var n;return(n=this.graphModel.getElement(r))===null||n===void 0?void 0:n.getProperties()}},{key:"toFront",value:function(r){this.graphModel.toFront(r)}},{key:"setElementZIndex",value:function(r,n){return this.graphModel.setElementZIndex(r,n)}},{key:"addElements",value:function(r){for(var n=this,i=r.nodes,a=r.edges,l={},d={nodes:[],edges:[]},p=0;p<i.length;p++){var O=i[p],N=O.id,B=this.addNode(O);if(!B)return;N&&(l[N]=B.id),d.nodes.push(B)}return a.forEach(function($){var J=$.sourceNodeId,fe=$.targetNodeId;l[J]&&($.sourceNodeId=l[J]),l[fe]&&($.targetNodeId=l[fe]);var pe=n.graphModel.addEdge($);d.edges.push(pe)}),d}},{key:"getAreaElement",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return this.graphModel.getAreaElement(r,n,i,a,l).map(function(d){return d.getData()})}},{key:"getSelectElements",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.graphModel.getSelectElements(r)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var r=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(r):r}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(r){this.graphModel.editConfigModel.updateEditConfig(r)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(r,n){return this.graphModel.getPointByClient({x:r,y:n})}},{key:"undo",value:function(){if(!!this.history.undoAble()){var r=Nr(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(r)}}},{key:"redo",value:function(){if(!!this.history.redoAble()){var r=Nr(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(r)}}},{key:"zoom",value:function(r,n){var i=this.graphModel.transformModel;return i.zoom(r,n)}},{key:"resetZoom",value:function(){var r=this.graphModel.transformModel;r.resetZoom()}},{key:"setZoomMiniSize",value:function(r){var n=this.graphModel.transformModel;n.setZoomMiniSize(r)}},{key:"setZoomMaxSize",value:function(r){var n=this.graphModel.transformModel;n.setZoomMaxSize(r)}},{key:"getTransform",value:function(){var r=this.graphModel.transformModel,n=r.SCALE_X,i=r.SCALE_Y,a=r.TRANSLATE_X,l=r.TRANSLATE_Y;return{SCALE_X:n,SCALE_Y:i,TRANSLATE_X:a,TRANSLATE_Y:l}}},{key:"translate",value:function(r,n){var i=this.graphModel.transformModel;i.translate(r,n)}},{key:"resetTranslate",value:function(){var r=this.graphModel.transformModel,n=r.TRANSLATE_X,i=r.TRANSLATE_Y;this.translate(-n,-i)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(r,n){n===void 0&&(n=r),this.graphModel.fitView(r,n)}},{key:"openEdgeAnimation",value:function(r){this.graphModel.openEdgeAnimation(r)}},{key:"closeEdgeAnimation",value:function(r){this.graphModel.closeEdgeAnimation(r)}},{key:"on",value:function(r,n){this.graphModel.eventCenter.on(r,n)}},{key:"off",value:function(r,n){this.graphModel.eventCenter.off(r,n)}},{key:"once",value:function(r,n){this.graphModel.eventCenter.once(r,n)}},{key:"emit",value:function(r,n){this.graphModel.eventCenter.emit(r,n)}},{key:"installPlugins",value:function(){var r,n=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=(r=this.plugins)!==null&&r!==void 0?r:e.extensions;a.forEach(function(l){var d=l.pluginName||l.name;i.indexOf(d)===-1&&n.installPlugin(l)})}},{key:"installPlugin",value:function(r){if(sc(r)==="object"){var n=r.install,i=r.render;n&&n.call(r,this,e),i&&this.components.push(i.bind(r)),this.extension[r.pluginName]=r;return}var a=r,l=new a({lf:this,LogicFlow:e});l.render&&this.components.push(l.render.bind(l)),this.extension[a.pluginName]=l}},{key:"updateAttributes",value:function(r,n){this.graphModel.updateAttributes(r,n)}},{key:"createFakerNode",value:function(r){var n=this.graphModel.modelMap.get(r.type);if(!n){console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(r.type,"\u7C7B\u578B\u7684\u8282\u70B9"));return}var i=new n(Ym(Ym({},r),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(i),i}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(r){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(r)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(r,n){this.viewMap.set(r,n)}},{key:"renderRawData",value:function(r){this.graphModel.graphDataToModel(Nr(r)),!this.options.isSilentMode&&this.options.history!==!1&&this.history.watch(this.graphModel),Object(Se.j)(Object(Se.g)(RN,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(Mt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(r=this.adapterIn(r)),this.renderRawData(r)}}],[{key:"use",value:function(r){var n=r.pluginName;n||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(r.name||r.constructor.name,"\u6307\u5B9ApluginName!")),n=r.name);var i=this.extensions.get(n);i&&i.destroy&&i.destroy(),this.extensions.set(n,r)}}]),e}();_r(Ao,"extensions",new Map);function Gi(e){return ot(e)}var o=A.default=Ao}])})},4225:function(Tn,rr,x){"use strict";x.d(rr,{jX:function(){return qo},xV:function(){return Xo},Ou:function(){return Je},Qs:function(){return Jr},v2:function(){return Xn},a9:function(){return Id},Ju:function(){return As},aC:function(){return Pe}});var A=x(87499);function u(E,m){return m={exports:{}},E(m,m.exports),m.exports}var v=u(function(E){var m=E.exports=function(y,S){if(S||(S=16),y===void 0&&(y=128),y<=0)return"0";for(var T=Math.log(Math.pow(2,y))/Math.log(S),I=2;T===Infinity;I*=2)T=Math.log(Math.pow(2,y/I))/Math.log(S)*I;for(var K=T-Math.floor(T),ie="",I=0;I<Math.floor(T);I++){var be=Math.floor(Math.random()*S).toString(S);ie=be+ie}if(K){var Ee=Math.pow(S,K),be=Math.floor(Math.random()*Ee).toString(S);ie=be+ie}var Te=parseInt(ie,S);return Te!==Infinity&&Te>=Math.pow(2,y)?m(y,S):ie};m.rack=function(y,S,T){var I=function(ie){var be=0;do{if(be++>10)if(T)y+=T;else throw new Error("too many ID collisions, use more bits");var Ee=m(y,S)}while(Object.hasOwnProperty.call(K,Ee));return K[Ee]=ie,Ee},K=I.hats={};return I.get=function(ie){return I.hats[ie]},I.set=function(ie,be){return I.hats[ie]=be,I},I.bits=y||128,I.base=S||16,I}});function c(E){if(!(this instanceof c))return new c(E);E=E||[128,36,1],this._seed=E.length?v.rack(E[0],E[1],E[2]):E}c.prototype.next=function(E){return this._seed(E||!0)},c.prototype.nextPrefixed=function(E,m){var y;do y=E+this.next(!0);while(this.assigned(y));return this.claim(y,m),y},c.prototype.claim=function(E,m){this._seed.set(E,m||!0)},c.prototype.assigned=function(E){return this._seed.get(E)||!1},c.prototype.unclaim=function(E){delete this._seed.hats[E]},c.prototype.clear=function(){var E=this._seed.hats,m;for(m in E)this.unclaim(m)};var b=c,M=new b([32,32,1]);function w(){return M.next()}var C=function(){var E=function(m,y){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var I in T)T.hasOwnProperty(I)&&(S[I]=T[I])},E(m,y)};return function(m,y){E(m,y);function S(){this.constructor=m}m.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}}(),j=function(E){C(m,E);function m(y,S){var T=this;return y.id||(y.id="Event_"+w()),y.text||(y.text=""),y.text&&typeof y.text=="string"&&(y.text={value:y.text,x:y.x,y:y.y+40}),T=E.call(this,y,S)||this,T}return m.prototype.setAttributes=function(){this.r=18},m.prototype.getConnectedTargetRules=function(){var y=E.prototype.getConnectedTargetRules.call(this),S={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return y.push(S),y},m.extendKey="StartEventModel",m}(A.CircleNodeModel),L=function(E){C(m,E);function m(){return E!==null&&E.apply(this,arguments)||this}return m.extendKey="StartEventNode",m}(A.CircleNode),F={type:"bpmn:startEvent",view:L,model:j},Y=F,U=function(){var E=function(m,y){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var I in T)T.hasOwnProperty(I)&&(S[I]=T[I])},E(m,y)};return function(m,y){E(m,y);function S(){this.constructor=m}m.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}}(),W=function(){return W=Object.assign||function(E){for(var m,y=1,S=arguments.length;y<S;y++){m=arguments[y];for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(E[T]=m[T])}return E},W.apply(this,arguments)},ee=function(E){U(m,E);function m(y,S){var T=this;return y.id||(y.id="Event_"+w()),y.text||(y.text=""),y.text&&typeof y.text=="string"&&(y.text={value:y.text,x:y.x,y:y.y+40}),T=E.call(this,y,S)||this,T}return m.prototype.setAttributes=function(){this.r=18},m.prototype.getConnectedSourceRules=function(){var y=E.prototype.getConnectedSourceRules.call(this),S={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return y.push(S),y},m.extendKey="EndEventModel",m}(A.CircleNodeModel),ae=function(E){U(m,E);function m(){return E!==null&&E.apply(this,arguments)||this}return m.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},m.prototype.getShape=function(){var y=this.props.model,S=y.getNodeStyle(),T=y.x,I=y.y,K=y.r,ie=E.prototype.getShape.call(this);return(0,A.h)("g",{},ie,(0,A.h)("circle",W(W({},S),{cx:T,cy:I,r:K-5})))},m.extendKey="EndEventView",m}(A.CircleNode),q={type:"bpmn:endEvent",view:ae,model:ee},Me=q,ye=function(){var E=function(m,y){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var I in T)T.hasOwnProperty(I)&&(S[I]=T[I])},E(m,y)};return function(m,y){E(m,y);function S(){this.constructor=m}m.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}}(),me=function(){return me=Object.assign||function(E){for(var m,y=1,S=arguments.length;y<S;y++){m=arguments[y];for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(E[T]=m[T])}return E},me.apply(this,arguments)},le=function(E){ye(m,E);function m(y,S){var T=this;return y.id||(y.id="Gateway_"+w()),y.text||(y.text=""),y.text&&typeof y.text=="string"&&(y.text={value:y.text,x:y.x,y:y.y+40}),T=E.call(this,y,S)||this,T.points=[[25,0],[50,25],[25,50],[0,25]],T}return m.extendKey="ExclusiveGatewayModel",m}(A.PolygonNodeModel),Oe=function(E){ye(m,E);function m(){return E!==null&&E.apply(this,arguments)||this}return m.prototype.getShape=function(){var y=this.props.model,S=y.x,T=y.y,I=y.width,K=y.height,ie=y.points,be=y.getNodeStyle();return(0,A.h)("g",{transform:"matrix(1 0 0 1 "+(S-I/2)+" "+(T-K/2)+")"},(0,A.h)("polygon",me(me({},be),{x:S,y:T,points:ie})),(0,A.h)("path",me({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},be)))},m.extendKey="ExclusiveGatewayNode",m}(A.PolygonNode),ue={type:"bpmn:exclusiveGateway",view:Oe,model:le},ve=ue,te=function(){var E=function(m,y){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var I in T)T.hasOwnProperty(I)&&(S[I]=T[I])},E(m,y)};return function(m,y){E(m,y);function S(){this.constructor=m}m.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}}(),z=function(){return z=Object.assign||function(E){for(var m,y=1,S=arguments.length;y<S;y++){m=arguments[y];for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(E[T]=m[T])}return E},z.apply(this,arguments)},Q=function(E){te(m,E);function m(y,S){var T=this;return y.id||(y.id="Activity_"+w()),T=E.call(this,y,S)||this,T}return m.extendKey="UserTaskModel",m}(A.RectNodeModel),oe=function(E){te(m,E);function m(){return E!==null&&E.apply(this,arguments)||this}return m.prototype.getLabelShape=function(){var y=this.props.model,S=y.x,T=y.y,I=y.width,K=y.height,ie=y.getNodeStyle();return(0,A.h)("svg",{x:S-I/2+5,y:T-K/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},(0,A.h)("path",{fill:ie.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},m.prototype.getShape=function(){var y=this.props.model,S=y.x,T=y.y,I=y.width,K=y.height,ie=y.radius,be=y.getNodeStyle();return(0,A.h)("g",{},[(0,A.h)("rect",z(z({},be),{x:S-I/2,y:T-K/2,rx:ie,ry:ie,width:I,height:K})),this.getLabelShape()])},m.extendKey="UserTaskNode",m}(A.RectNode),se={type:"bpmn:userTask",view:oe,model:Q},ce=se,re=function(){var E=function(m,y){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var I in T)T.hasOwnProperty(I)&&(S[I]=T[I])},E(m,y)};return function(m,y){E(m,y);function S(){this.constructor=m}m.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}}(),de=function(){return de=Object.assign||function(E){for(var m,y=1,S=arguments.length;y<S;y++){m=arguments[y];for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(E[T]=m[T])}return E},de.apply(this,arguments)},Ce=function(E){re(m,E);function m(y,S){var T=this;return y.id||(y.id="Activity_"+w()),T=E.call(this,y,S)||this,T}return m.extendKey="ServiceTaskModel",m}(A.RectNodeModel),Re=function(E){re(m,E);function m(){return E!==null&&E.apply(this,arguments)||this}return m.prototype.getLabelShape=function(){var y=this.props.model,S=y.x,T=y.y,I=y.width,K=y.height,ie=y.getNodeStyle();return(0,A.h)("svg",{x:S-I/2+5,y:T-K/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},(0,A.h)("path",{fill:ie.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},m.prototype.getShape=function(){var y=this.props.model,S=y.x,T=y.y,I=y.width,K=y.height,ie=y.radius,be=y.getNodeStyle();return(0,A.h)("g",{},[(0,A.h)("rect",de({x:S-I/2,y:T-K/2,rx:ie,ry:ie,width:I,height:K},be)),this.getLabelShape()])},m.extendKey="ServiceTaskNode",m}(A.RectNode),He={type:"bpmn:serviceTask",view:Re,model:Ce},Ve=He,it=function(){var E=function(m,y){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var I in T)T.hasOwnProperty(I)&&(S[I]=T[I])},E(m,y)};return function(m,y){E(m,y);function S(){this.constructor=m}m.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}}(),yt=function(E){it(m,E);function m(y,S){var T=this;return y.id||(y.id="Flow_"+w()),T=E.call(this,y,S)||this,T}return m.extendKey="SequenceFlowModel",m}(A.PolylineEdgeModel),ht=function(E){it(m,E);function m(){return E!==null&&E.apply(this,arguments)||this}return m.extendKey="SequenceFlowEdge",m}(A.PolylineEdge),Be={type:"bpmn:sequenceFlow",view:ht,model:yt},et=Be,tt={width:40,height:40},Ue={width:40,height:40},V={width:40,height:40},Z={width:100,height:80},ne={width:100,height:80},we={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},Ge=function(){function E(m){var y=m.lf;y.setTheme(we),y.register(Y),y.register(Me),y.register(ve),y.register(ce),y.register(Ve),y.options.customBpmnEdge||(y.register(et),y.setDefaultEdgeType("bpmn:sequenceFlow"))}return E.pluginName="bpmnElement",E}(),Pe=function(){function E(m){var y=this,S=m.lf;this.lf=S,this.customCssRules="",this.useGlobalRules=!0,S.getSnapshot=function(T,I){y.getSnapshot(T,I)},S.getSnapshotBlob=function(T){return y.getSnapshotBlob(T)},S.getSnapshotBase64=function(T){return y.getSnapshotBase64(T)}}return E.prototype.getSvgRootElement=function(m){var y=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,m.graphModel.nodes.forEach(function(T){var I=T.x,K=T.width,ie=T.y,be=T.height,Ee=I-K/2,Te=ie-be/2;Ee<y.offsetX&&(y.offsetX=Ee-5),Te<y.offsetY&&(y.offsetY=Te-5)}),m.graphModel.edges.forEach(function(T){T.pointsList&&T.pointsList.forEach(function(I){var K=I.x,ie=I.y;K<y.offsetX&&(y.offsetX=K-5),ie<y.offsetY&&(y.offsetY=ie-5)})});var S=m.container.querySelector(".lf-canvas-overlay");return S},E.prototype.triggerDownload=function(m){var y=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),S=document.createElement("a");S.setAttribute("download",this.fileName),S.setAttribute("href",m),S.setAttribute("target","_blank"),S.dispatchEvent(y)},E.prototype.removeAnchor=function(m){for(var y=m.childNodes,S=m.childNodes&&m.childNodes.length,T=0;T<S;T++){var I=y[T],K=I.classList&&Array.from(I.classList)||[];K.indexOf("lf-anchor")>-1&&(m.removeChild(m.childNodes[T]),S--,T--)}},E.prototype.getSnapshot=function(m,y){var S=this;this.fileName=m||"logic-flow."+Date.now()+".png";var T=this.getSvgRootElement(this.lf);this.getCanvasData(T,y).then(function(I){var K=I.toDataURL("image/png").replace("image/png","image/octet-stream");S.triggerDownload(K)})},E.prototype.getSnapshotBase64=function(m){var y=this,S=this.getSvgRootElement(this.lf);return new Promise(function(T){y.getCanvasData(S,m).then(function(I){var K=I.toDataURL("image/png");T({data:K,width:I.width,height:I.height})})})},E.prototype.getSnapshotBlob=function(m){var y=this,S=this.getSvgRootElement(this.lf);return new Promise(function(T){y.getCanvasData(S,m).then(function(I){I.toBlob(function(K){T({data:K,width:I.width,height:I.height})},"image/png")})})},E.prototype.getClassRules=function(){var m="";if(this.useGlobalRules)for(var y=document.styleSheets,S=0;S<y.length;S++)for(var T=y[S],I=0;I<T.cssRules.length;I++)m+=T.cssRules[I].cssText;return this.customCssRules&&(m+=this.customCssRules),m},E.prototype.getCanvasData=function(m,y){var S=this,T=m.cloneNode(!0),I=T.lastChild,K=I.childNodes&&I.childNodes.length;if(K)for(var ie=0;ie<K;ie++){var be=I.childNodes[ie],Ee=be.classList&&Array.from(be.classList);if(Ee&&Ee.indexOf("lf-base")<0)I.removeChild(I.childNodes[ie]),K--,ie--;else{var Te=I.childNodes[ie];Te&&Te.childNodes.forEach(function(H){var _=H;S.removeAnchor(_.firstChild)})}}T.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var Ye=window.devicePixelRatio||1,Qe=document.createElement("canvas"),qe=this.lf.graphModel.rootEl.querySelector(".lf-base"),dt=qe.getBoundingClientRect(),Lt=this.lf.graphModel,Ht=Lt.transformModel,Yt=Ht.SCALE_X,Ct=Ht.SCALE_Y,tr=Math.ceil(dt.width/Yt),jr=Math.ceil(dt.height/Ct);Qe.style.width=tr+"px",Qe.style.height=jr+"px",Qe.width=tr*Ye+80,Qe.height=jr*Ye+80;var s=Qe.getContext("2d");s.clearRect(0,0,Qe.width,Qe.height),s.scale(Ye,Ye),y?(s.fillStyle=y,s.fillRect(0,0,tr*Ye+80,jr*Ye+80)):s.clearRect(0,0,tr,jr);var f=new Image,h=document.createElement("style");h.innerHTML=this.getClassRules();var D=document.createElement("foreignObject");return D.appendChild(h),T.appendChild(D),new Promise(function(H){f.onload=function(){s.drawImage(f,0,0),H(Qe)};var _="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(T),ge=_.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");f.src=ge})},E.pluginName="snapshot",E}(),pt=null,st=new b([32,32,1]);function ft(){return st.next()}function mt(E,m){for(var y=0;y<m;y++)E+="  ";return E}function De(E,m,y,S){var T="";if(E instanceof Array)for(var I=0,K=E.length;I<K;I++)T+=mt(y,S)+De(E[I],m,y,S+1);else if(typeof E=="object"){var ie=!1;T+=mt(y,S)+"<"+m;for(var be in E)be.charAt(0)=="-"?T+=" "+be.substr(1)+'="'+E[be].toString()+'"':ie=!0;if(T+=ie?">":" />",ie){for(var be in E)be=="#text"?T+=E[be]:be=="#cdata"?T+="<![CDATA["+E[be]+"]]>":be.charAt(0)!="-"&&(T+=De(E[be],be,y,S+1));T+=mt(y,S)+"</"+m+">"}}else T+=mt(y,S)+"<"+m+">"+E.toString()+"</"+m+">";return T}function jt(E){var m="";for(var y in E)m+=De(E[y],y,`	
`,0);return m}var at=function(){};at.ObjTree=function(){return this},at.ObjTree.VERSION="0.23",at.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`,at.ObjTree.prototype.attr_prefix="-",at.ObjTree.prototype.parseXML=function(E){var m;if(window.DOMParser){var y=new DOMParser,S=y.parseFromString(E,"application/xml");if(!S)return;m=S.documentElement}else window.ActiveXObject&&(y=new ActiveXObject("Microsoft.XMLDOM"),y.async=!1,y.loadXML(E),m=y.documentElement);if(!!m)return this.parseDOM(m)},at.ObjTree.prototype.parseHTTP=function(E,m,y){var S={};for(var T in m)S[T]=m[T];if(S.method||(typeof S.postBody=="undefined"&&typeof S.postbody=="undefined"&&typeof S.parameters=="undefined"?S.method="get":S.method="post"),y){S.asynchronous=!0;var I=this,K=y,ie=S.onComplete;S.onComplete=function(Te){var Ye;Te&&Te.responseXML&&Te.responseXML.documentElement&&(Ye=I.parseDOM(Te.responseXML.documentElement)),K(Ye,Te),ie&&ie(Te)}}else S.asynchronous=!1;var be;if(typeof HTTP!="undefined"&&HTTP.Request){S.uri=E;var Ee=new HTTP.Request(S);Ee&&(be=Ee.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var Ee=new Ajax.Request(E,S);Ee&&(be=Ee.transport)}if(y)return be;if(be&&be.responseXML&&be.responseXML.documentElement)return this.parseDOM(be.responseXML.documentElement)},at.ObjTree.prototype.parseDOM=function(E){if(!!E){if(this.__force_array={},this.force_array)for(var m=0;m<this.force_array.length;m++)this.__force_array[this.force_array[m]]=1;var y=this.parseElement(E);if(this.__force_array[E.nodeName]&&(y=[y]),E.nodeType!=11){var S={};S[E.nodeName]=y,y=S}return y}},at.ObjTree.prototype.parseElement=function(E){if(E.nodeType!=7){if(E.nodeType==3||E.nodeType==4){var m=E.nodeValue.match(/[^\x00-\x20]/);return m==null?void 0:E.nodeValue}var y,S={};if(E.attributes&&E.attributes.length){y={};for(var T=0;T<E.attributes.length;T++){var I=E.attributes[T].nodeName;if(typeof I=="string"){var K=E.attributes[T].nodeValue;!K||(I=this.attr_prefix+I,typeof S[I]=="undefined"&&(S[I]=0),S[I]++,this.addNode(y,I,S[I],K))}}}if(E.childNodes&&E.childNodes.length){var ie=!0;y&&(ie=!1);for(var T=0;T<E.childNodes.length&&ie;T++){var be=E.childNodes[T].nodeType;be==3||be==4||(ie=!1)}if(ie){y||(y="");for(var T=0;T<E.childNodes.length;T++)y+=E.childNodes[T].nodeValue}else{y||(y={});for(var T=0;T<E.childNodes.length;T++){var I=E.childNodes[T].nodeName;if(typeof I=="string"){var K=this.parseElement(E.childNodes[T]);!K||(typeof S[I]=="undefined"&&(S[I]=0),S[I]++,this.addNode(y,I,S[I],K))}}}}return y}},at.ObjTree.prototype.addNode=function(E,m,y,S){this.__force_array[m]?(y==1&&(E[m]=[]),E[m][E[m].length]=S):y==1?E[m]=S:y==2?E[m]=[E[m],S]:E[m][E[m].length]=S},at.ObjTree.prototype.writeXML=function(E){var m=this.hash_to_xml(null,E);return this.xmlDecl+m},at.ObjTree.prototype.hash_to_xml=function(E,m){var y=[],S=[];for(var T in m)if(!!m.hasOwnProperty(T)){var I=m[T];T.charAt(0)!=this.attr_prefix?typeof I=="undefined"||I==null?y[y.length]="<"+T+" />":typeof I=="object"&&I.constructor==Array?y[y.length]=this.array_to_xml(T,I):typeof I=="object"?y[y.length]=this.hash_to_xml(T,I):y[y.length]=this.scalar_to_xml(T,I):S[S.length]=" "+T.substring(1)+'="'+this.xml_escape(I)+'"'}var K=S.join(""),ie=y.join("");return typeof E=="undefined"||E==null||(y.length>0?ie.match(/\n/)?ie="<"+E+K+`>
`+ie+"</"+E+`>
`:ie="<"+E+K+">"+ie+"</"+E+`>
`:ie="<"+E+K+` />
`),ie},at.ObjTree.prototype.array_to_xml=function(E,m){for(var y=[],S=0;S<m.length;S++){var T=m[S];typeof T=="undefined"||T==null?y[y.length]="<"+E+" />":typeof T=="object"&&T.constructor==Array?y[y.length]=this.array_to_xml(E,T):typeof T=="object"?y[y.length]=this.hash_to_xml(E,T):y[y.length]=this.scalar_to_xml(E,T)}return y.join("")},at.ObjTree.prototype.scalar_to_xml=function(E,m){return E=="#text"?this.xml_escape(m):"<"+E+">"+this.xml_escape(m)+"</"+E+`>
`},at.ObjTree.prototype.xml_escape=function(E){return E.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var ut=function(E){return new at.ObjTree().parseXML(E)},vt=function(E,m){var y=typeof Symbol=="function"&&E[Symbol.iterator];if(!y)return E;var S=y.call(E),T,I=[],K;try{for(;(m===void 0||m-- >0)&&!(T=S.next()).done;)I.push(T.value)}catch(ie){K={error:ie}}finally{try{T&&!T.done&&(y=S.return)&&y.call(S)}finally{if(K)throw K.error}}return I},Ut;(function(E){E.START="bpmn:startEvent",E.END="bpmn:endEvent",E.GATEWAY="bpmn:exclusiveGateway",E.USER="bpmn:userTask",E.SYSTEM="bpmn:serviceTask",E.FLOW="bpmn:sequenceFlow"})(Ut||(Ut={}));var Bt=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function At(E){var m={};return Object.entries(E).forEach(function(y){var S=vt(y,2),T=S[0],I=S[1];typeof I!="object"?T.indexOf("-")===0?m[T]=I:m["-"+T]=I:m[T]=At(I)}),m}function It(E){var m={};return Object.entries(E).forEach(function(y){var S=vt(y,2),T=S[0],I=S[1];typeof I=="string"?T.indexOf("-")===0?m[T.substr(1)]=I:m[T]=I:typeof I=="object"?m[T]=It(I):m[T]=I}),m}function Qt(E,m){var y=new Map;m.nodes.forEach(function(T){var I,K={"-id":T.id};if(((I=T.text)===null||I===void 0?void 0:I.value)&&(K["-name"]=T.text.value),T.properties){var ie=At(T.properties);Object.assign(K,ie)}y.set(T.id,K),E[T.type]?Array.isArray(E[T.type])?E[T.type].push(K):E[T.type]=[E[T.type],K]:E[T.type]=K});var S=m.edges.map(function(T){var I,K,ie=y.get(T.targetNodeId);ie["bpmn:incoming"]?Array.isArray(ie["bpmn:incoming"])?ie["bpmn:incoming"].push(T.id):ie["bpmn:incoming"]=[ie["bpmn:incoming"],T.id]:ie["bpmn:incoming"]=T.id;var be=y.get(T.sourceNodeId);be["bpmn:outgoing"]?Array.isArray(be["bpmn:outgoing"])?be["bpmn:outgoing"].push(T.id):be["bpmn:outgoing"]=[be["bpmn:outgoing"],T.id]:be["bpmn:outgoing"]=T.id;var Ee={"-id":T.id,"-sourceRef":T.sourceNodeId,"-targetRef":T.targetNodeId};if(((I=T.text)===null||I===void 0?void 0:I.value)&&(Ee["-name"]=(K=T.text)===null||K===void 0?void 0:K.value),T.properties){var Te=At(T.properties);Object.assign(Ee,Te)}return Ee});E[Ut.FLOW]=S}function Gt(E,m){E["bpmndi:BPMNEdge"]=m.edges.map(function(y){var S,T=y.id,I=y.pointsList.map(function(ie){var be=ie.x,Ee=ie.y;return{"-x":be,"-y":Ee}}),K={"-id":T+"_di","-bpmnElement":T,"di:waypoint":I};return((S=y.text)===null||S===void 0?void 0:S.value)&&(K["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":y.text.x-y.text.value.length*10/2,"-y":y.text.y-7,"-width":y.text.value.length*10,"-height":14}}),K}),E["bpmndi:BPMNShape"]=m.nodes.map(function(y){var S,T=y.id,I=100,K=80,ie=y.x,be=y.y,Ee=kt.shapeConfigMap.get(y.type);Ee&&(I=Ee.width,K=Ee.height),ie-=I/2,be-=K/2;var Te={"-id":T+"_di","-bpmnElement":T,"dc:Bounds":{"-x":ie,"-y":be,"-width":I,"-height":K}};return((S=y.text)===null||S===void 0?void 0:S.value)&&(Te["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":y.text.x-y.text.value.length*10/2,"-y":y.text.y-7,"-width":y.text.value.length*10,"-height":14}}),Te})}function or(E){var m=[],y=[],S=E["bpmn:definitions"];if(S){var T=S["bpmn:process"];Object.keys(T).forEach(function(I){if(I.indexOf("bpmn:")===0){var K=T[I];if(I===Ut.FLOW){var ie=S["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];y=sr(K,ie)}else{var be=S["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];m=m.concat(gr(K,be,I))}}})}return{nodes:m,edges:y}}function gr(E,m,y){var S=[];if(Array.isArray(E))E.forEach(function(K){var ie;Array.isArray(m)?ie=m.find(function(Ee){return Ee["-bpmnElement"]===K["-id"]}):ie=m;var be=pr(ie,y,K);S.push(be)});else{var T=void 0;Array.isArray(m)?T=m.find(function(K){return K["-bpmnElement"]===E["-id"]}):T=m;var I=pr(T,y,E);S.push(I)}return S}function pr(E,m,y){var S=Number(E["dc:Bounds"]["-x"]),T=Number(E["dc:Bounds"]["-y"]),I=y["-name"],K=kt.shapeConfigMap.get(m);K&&(S+=K.width/2,T+=K.height/2);var ie;Object.entries(y).forEach(function(Ye){var Qe=vt(Ye,2),qe=Qe[0],dt=Qe[1];Bt.indexOf(qe)===-1&&(ie||(ie={}),ie[qe]=dt)}),ie&&(ie=It(ie));var be;if(I&&(be={x:S,y:T,value:I},E["bpmndi:BPMNLabel"]&&E["bpmndi:BPMNLabel"]["dc:Bounds"])){var Ee=E["bpmndi:BPMNLabel"]["dc:Bounds"];be.x=Number(Ee["-x"])+Number(Ee["-width"])/2,be.y=Number(Ee["-y"])+Number(Ee["-height"])/2}var Te={id:E["-bpmnElement"],type:m,x:S,y:T,properties:ie};return be&&(Te.text=be),Te}function sr(E,m){var y=[];if(Array.isArray(E))E.forEach(function(T){var I;Array.isArray(m)?I=m.find(function(K){return K["-bpmnElement"]===T["-id"]}):I=m,y.push(Ft(I,T))});else{var S=void 0;Array.isArray(m)?S=m.find(function(T){return T["-bpmnElement"]===E["-id"]}):S=m,y.push(Ft(S,E))}return y}function Ft(E,m){var y,S=m["-name"];if(S){var T=E["bpmndi:BPMNLabel"]["dc:Bounds"],I=0;S.split(`
`).forEach(function(be){I<be.length&&(I=be.length)}),y={value:S,x:Number(T["-x"])+I*10/2,y:Number(T["-y"])+7}}var K;Object.entries(m).forEach(function(be){var Ee=vt(be,2),Te=Ee[0],Ye=Ee[1];Bt.indexOf(Te)===-1&&(K||(K={}),K[Te]=Ye)}),K&&(K=It(K));var ie={id:m["-id"],type:Ut.FLOW,pointsList:E["di:waypoint"].map(function(be){return{x:Number(be["-x"]),y:Number(be["-y"])}}),sourceNodeId:m["-sourceRef"],targetNodeId:m["-targetRef"],properties:K};return y&&(ie.text=y),ie}var kt={pluginName:"bpmn-adapter",install:function(E){E.adapterIn=this.adapterIn,E.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(E,m){this.shapeConfigMap.set(E,m)},adapterOut:function(E){var m={"-id":"Process_"+ft(),"-isExecutable":"false"};Qt(m,E);var y={"-id":"BPMNPlane_1","-bpmnElement":m["-id"]};Gt(y,E);var S={"bpmn:definitions":{"-id":"Definitions_"+ft(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":m,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":y}}};return S},adapterIn:function(E){if(E)return or(E)}};kt.shapeConfigMap.set(Ut.START,{width:tt.width,height:tt.height}),kt.shapeConfigMap.set(Ut.END,{width:Ue.width,height:Ue.height}),kt.shapeConfigMap.set(Ut.GATEWAY,{width:V.width,height:V.height}),kt.shapeConfigMap.set(Ut.SYSTEM,{width:Z.width,height:Z.height}),kt.shapeConfigMap.set(Ut.USER,{width:ne.width,height:ne.height});var nr={pluginName:"bpmnXmlAdapter",install:function(E){E.adapterIn=this.adapterXmlIn,E.adapterOut=this.adapterXmlOut},adapterXmlIn:function(E){var m=ut(E);return kt.adapterIn(m)},adapterXmlOut:function(E){var m=kt.adapterOut(E);return jt(m)}},We=null,ot=function(){return ot=Object.assign||function(E){for(var m,y=1,S=arguments.length;y<S;y++){m=arguments[y];for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(E[T]=m[T])}return E},ot.apply(this,arguments)},$e=function(E,m){var y=typeof Symbol=="function"&&E[Symbol.iterator];if(!y)return E;var S=y.call(E),T,I=[],K;try{for(;(m===void 0||m-- >0)&&!(T=S.next()).done;)I.push(T.value)}catch(ie){K={error:ie}}finally{try{T&&!T.done&&(y=S.return)&&y.call(S)}finally{if(K)throw K.error}}return I},ct={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,EXCLUSIVE_GATEWAY:6},xt={1:"bpmn:sequenceFlow",2:"bpmn:startEvent",3:"bpmn:endEvent",4:"bpmn:userTask",6:"bpmn:exclusiveGateway"};function Dt(E){switch(E){case"bpmn:sequenceFlow":return ct.SEQUENCE_FLOW;case"bpmn:startEvent":return ct.START_EVENT;case"bpmn:endEvent":return ct.END_EVENT;case"bpmn:userTask":return ct.USER_TASK;case"bpmn:exclusiveGateway":return ct.EXCLUSIVE_GATEWAY;default:return E}}function k(E){var m=E.id,y=E.type,S=E.x,T=E.y,I=E.text,K=I===void 0?"":I,ie=E.properties;return{incoming:[],outgoing:[],dockers:[],type:Dt(E.type),properties:ot(ot({},ie),{name:K&&K.value||"",x:S,y:T,text:K}),key:m}}function G(E){var m=E.id,y=E.type,S=E.sourceNodeId,T=E.targetNodeId,I=E.startPoint,K=E.endPoint,ie=E.pointsList,be=E.text,Ee=be===void 0?"":be,Te=E.properties;return{incoming:[S],outgoing:[T],type:Dt(y),dockers:[],properties:ot(ot({},Te),{name:Ee&&Ee.value||"",text:Ee,startPoint:JSON.stringify(I),endPoint:JSON.stringify(K),pointsList:JSON.stringify(Ee)}),key:m}}function g(E){var m=new Map,y={flowElementList:[]};return E.nodes.forEach(function(S){var T=k(S);y.flowElementList.push(T),m.set(S.id,T)}),E.edges.forEach(function(S){var T=G(S),I=m.get(S.sourceNodeId);I.outgoing.push(T.key);var K=m.get(S.targetNodeId);K.incoming.push(T.key),y.flowElementList.push(T)}),y}function P(E){var m=E.incoming,y=E.outgoing,S=E.properties,T=E.key,I=E.type,K=S.text,ie=S.name,be=S.startPoint,Ee=S.endPoint,Te=S.pointsList,Ye={id:T,type:xt[I],sourceNodeId:m[0],targetNodeId:y[0],text:K||ie,properties:{}};be&&(Ye.startPoint=JSON.parse(be)),Ee&&(Ye.endPoint=JSON.parse(Ee)),Te&&(Ye.endPoint=JSON.parse(Te));var Qe=["startPoint","endPoint","pointsList","text"];return Object.keys(E.properties).forEach(function(qe){Qe.indexOf(qe)===-1&&(Ye.properties[qe]=E.properties[qe])}),Ye}function R(E){var m=E.properties,y=E.key,S=E.type,T=E.bounds,I=m.x,K=m.y;if(I===void 0){var ie=$e(T,2),be=ie[0],Ee=be.x,Te=be.y,Ye=ie[1],Qe=Ye.x,qe=Ye.y;I=(Ee+Qe)/2,K=(Te+qe)/2}var dt={id:y,type:xt[S],x:I,y:K,text:m.text,properties:{}},Lt=["x","y","text"];return Object.keys(E.properties).forEach(function(Ht){Lt.indexOf(Ht)===-1&&(dt.properties[Ht]=E.properties[Ht])}),dt}function X(E){var m={nodes:[],edges:[]},y=E.flowElementList;return y&&y.length>0&&y.forEach(function(S){if(S.type===ct.SEQUENCE_FLOW){var T=P(S);m.edges.push(T)}else{var I=R(S);m.nodes.push(I)}}),m}var je=function(){function E(m){var y=m.lf;y.adapterIn=this.adapterIn,y.adapterOut=this.adapterOut}return E.prototype.adapterOut=function(m){if(m)return g(m)},E.prototype.adapterIn=function(m){if(m)return X(m)},E.pluginName="turboAdapter",E}(),Ae=null,Ke;(function(E){E.HORIZONTAL="horizontal",E.VERTICAL="vertical"})(Ke||(Ke={}));var Xe=function(E,m,y){var S=E.x,T=E.y;return(S-m.x)*(S-y.x)<=0&&(T-m.y)*(T-y.y)<=0},nt=function(E){var m=E.x,y=E.y,S=E.width,T=E.height,I={minX:m-S/2,minY:y-T/2,maxX:m+S/2,maxY:y+T/2,x:m,y,width:S,height:T,centerX:m,centerY:y};return I},Nt=function(E,m){var y;return E.x===m.x?y=Ke.VERTICAL:E.y===m.y&&(y=Ke.HORIZONTAL),y},bt=function(E,m,y){var S=nt(E),T=Nt(m,y),I=Math.max(m.x,y.x),K=Math.min(m.x,y.x),ie=Math.max(m.y,y.y),be=Math.min(m.y,y.y),Ee=E.x,Te=E.y,Ye=E.width,Qe=E.height;if(T===Ke.HORIZONTAL){if(m.y===Te&&I>=S.maxX&&K<=S.minX)return{startCrossPoint:{x:m.x>y.x?Ee+Ye/2:Ee-Ye/2,y:Te},endCrossPoint:{x:m.x>y.x?Ee-Ye/2:Ee+Ye/2,y:Te}}}else if(T===Ke.VERTICAL&&m.x===E.x&&ie>=S.maxY&&be<=S.minY)return{startCrossPoint:{x:Ee,y:m.y>y.y?Te+Qe/2:Te-Qe/2},endCrossPoint:{x:Ee,y:m.y>y.y?Te-Qe/2:Te+Qe/2}}},cr=function(E,m){for(var y=E.x,S=E.y,T=m.pointsList,I=0;I<T.length-1;I++)if(Xe({x:y,y:S},T[I],T[I+1])){var K=bt(E,T[I],T[I+1]);if(K)return{crossIndex:I+1,crossPoints:K}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},ir=function(E,m){var y=typeof Symbol=="function"&&E[Symbol.iterator];if(!y)return E;var S=y.call(E),T,I=[],K;try{for(;(m===void 0||m-- >0)&&!(T=S.next()).done;)I.push(T.value)}catch(ie){K={error:ie}}finally{try{T&&!T.done&&(y=S.return)&&y.call(S)}finally{if(K)throw K.error}}return I},Rr=function(){for(var E=[],m=0;m<arguments.length;m++)E=E.concat(ir(arguments[m]));return E},Ur=function(){function E(m){var y=m.lf;this._lf=y,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}return E.prototype.eventHandler=function(){var m=this;this.dndAdd&&this._lf.on("node:dnd-add",function(y){var S=y.data;m.insetNode(S)}),this.dropAdd&&this._lf.on("node:drop",function(y){for(var S=y.data,T=m._lf.graphModel.edges,I=S.id,K=!0,ie=0;ie<T.length;ie++)if(T[ie].sourceNodeId===I||T[ie].targetNodeId===I){K=!1;break}K&&m.insetNode(S)})},E.prototype.insetNode=function(m){for(var y=this._lf.graphModel.edges,S=this._lf.getNodeModelById(m.id),T=0;T<y.length;T++){var I=cr(S,y[T]),K=I.crossIndex,ie=I.crossPoints;if(K>=0){var be=y[T],Ee=be.sourceNodeId,Te=be.targetNodeId,Ye=be.id,Qe=be.type,qe=be.pointsList;this._lf.addEdge({type:Qe,sourceNodeId:Ee,targetNodeId:m.id,pointsList:Rr(qe.slice(0,K),[ie.startCrossPoint])}),this._lf.addEdge({type:Qe,sourceNodeId:m.id,targetNodeId:Te,pointsList:Rr([ie.endCrossPoint],qe.slice(K))}),this._lf.deleteEdge(Ye);break}}},E.pluginName="insertNodeInPolyline",E}(),sn=null,$r=function(E,m){var y=typeof Symbol=="function"&&E[Symbol.iterator];if(!y)return E;var S=y.call(E),T,I=[],K;try{for(;(m===void 0||m-- >0)&&!(T=S.next()).done;)I.push(T.value)}catch(ie){K={error:ie}}finally{try{T&&!T.done&&(y=S.return)&&y.call(S)}finally{if(K)throw K.error}}return I},Ui=function(){for(var E=[],m=0;m<arguments.length;m++)E=E.concat($r(arguments[m]));return E},ba=function(){function E(m){var y=this,S=m.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7F29\u5C0F\u6D41\u7A0B\u56FE",text:"\u7F29\u5C0F",onClick:function(){y.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653E\u5927\u6D41\u7A0B\u56FE",text:"\u653E\u5927",onClick:function(){y.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590D\u6D41\u7A0B\u539F\u6709\u5C3A\u5BF8",text:"\u9002\u5E94",onClick:function(){y.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56DE\u5230\u4E0A\u4E00\u6B65",text:"\u4E0A\u4E00\u6B65",onClick:function(){y.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79FB\u5230\u4E0B\u4E00\u6B65",text:"\u4E0B\u4E00\u6B65",onClick:function(){y.lf.redo()}}],this.lf=S}return E.prototype.render=function(m,y){this.destroy();var S=this.getControlTool();this.toolEl=S,y.appendChild(S),this.domContainer=y},E.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},E.prototype.addItem=function(m){this.controlItems.push(m)},E.prototype.removeItem=function(m){var y=this.controlItems.findIndex(function(S){return S.key===m});return this.controlItems.splice(y,1)[0]},E.prototype.getControlTool=function(){var m=this,y="lf-control-item",S="lf-control-item disabled",T=document.createElement("div"),I=[];return T.className="lf-control",this.controlItems.forEach(function(K){var ie=document.createElement("div"),be=document.createElement("i"),Ee=document.createElement("span");switch(ie.className=S,K.onClick&&(ie.onclick=K.onClick.bind(null,m.lf)),K.onMouseEnter&&(ie.onmouseenter=K.onMouseEnter.bind(null,m.lf)),K.onMouseLeave&&(ie.onmouseleave=K.onMouseLeave.bind(null,m.lf)),be.className=K.iconClass,Ee.className="lf-control-text",Ee.title=K.title,Ee.innerText=K.text,ie.append(be,Ee),K.text){case"\u4E0A\u4E00\u6B65":m.lf.on("history:change",function(Te){var Ye=Te.data.undoAble;ie.className=Ye?y:S});break;case"\u4E0B\u4E00\u6B65":m.lf.on("history:change",function(Te){var Ye=Te.data.redoAble;ie.className=Ye?y:S});break;default:ie.className=y;break}I.push(ie)}),T.append.apply(T,Ui(I)),T},E.pluginName="control",E}(),wl=null,Se=function(E,m){var y=typeof Symbol=="function"&&E[Symbol.iterator];if(!y)return E;var S=y.call(E),T,I=[],K;try{for(;(m===void 0||m-- >0)&&!(T=S.next()).done;)I.push(T.value)}catch(ie){K={error:ie}}finally{try{T&&!T.done&&(y=S.return)&&y.call(S)}finally{if(K)throw K.error}}return I},co=function(){for(var E=[],m=0;m<arguments.length;m++)E=E.concat(Se(arguments[m]));return E},wn="lf:defaultNodeMenu",Ua="lf:defaultEdgeMenu",rn="lf:defaultGraphMenu",Oa="lf:defaultSelectionMenu",Xn=function(){function E(m){var y=this,S=m.lf;this.__menuDOM=document.createElement("ul"),this.lf=S,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(T){y.setMenuConfig(T)},this.lf.addMenuConfig=function(T){y.addMenuConfig(T)},this.lf.setMenuByType=function(T){y.setMenuByType(T)}}return E.prototype.init=function(){var m=this,y=[{text:"\u5220\u9664",callback:function(I){m.lf.deleteNode(I.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(I){m.lf.graphModel.editText(I.id)}},{text:"\u590D\u5236",callback:function(I){m.lf.cloneNode(I.id)}}];this.menuTypeMap.set(wn,y);var S=[{text:"\u5220\u9664",callback:function(I){m.lf.deleteEdge(I.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(I){m.lf.graphModel.editText(I.id)}}];this.menuTypeMap.set(Ua,S),this.menuTypeMap.set(rn,[]);var T=[{text:"\u5220\u9664",callback:function(I){m.lf.clearSelectElements(),I.edges.forEach(function(K){return m.lf.deleteEdge(K.id)}),I.nodes.forEach(function(K){return m.lf.deleteNode(K.id)})}}];this.menuTypeMap.set(Oa,T)},E.prototype.render=function(m,y){var S=this;this.__container=y,this.__currentData=null,this.__menuDOM.className="lf-menu",y.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(T){T.stopPropagation();for(var I=T.target;Array.from(I.classList).indexOf("lf-menu-item")===-1&&Array.from(I.classList).indexOf("lf-menu")===-1;)I=I.parentElement;Array.from(I.classList).indexOf("lf-menu-item")>-1?(I.onclickCallback(S.__currentData),S.__menuDOM.style.display="none",S.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(T){var I=T.data,K=T.position,ie=K.domOverlayPosition,be=ie.x,Ee=ie.y,Te=I.id,Ye=S.lf.graphModel.getNodeModelById(Te),Qe=[],qe=S.menuTypeMap.get(Ye.type);Ye&&Ye.menu&&Array.isArray(Ye.menu)?Qe=Ye.menu:qe?Qe=qe:Qe=S.menuTypeMap.get(wn),S.__currentData=I,S.showMenu(be,Ee,Qe)}),this.lf.on("edge:contextmenu",function(T){var I=T.data,K=T.position,ie=K.domOverlayPosition,be=ie.x,Ee=ie.y,Te=I.id,Ye=S.lf.graphModel.getEdgeModelById(Te),Qe=[],qe=S.menuTypeMap.get(Ye.type);Ye&&Ye.menu&&Array.isArray(Ye.menu)?Qe=Ye.menu:qe?Qe=qe:Qe=S.menuTypeMap.get(Ua),S.__currentData=I,S.showMenu(be,Ee,Qe)}),this.lf.on("blank:contextmenu",function(T){var I=T.position,K=S.menuTypeMap.get(rn),ie=I.domOverlayPosition,be=ie.x,Ee=ie.y;S.showMenu(be,Ee,K)}),this.lf.on("selection:contextmenu",function(T){var I=T.data,K=T.position,ie=S.menuTypeMap.get(Oa),be=K.domOverlayPosition,Ee=be.x,Te=be.y;S.__currentData=I,S.showMenu(Ee,Te,ie)}),this.lf.on("node:mousedown",function(){S.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){S.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){S.__menuDOM.style.display="none"})},E.prototype.destroy=function(){var m;(m=this===null||this===void 0?void 0:this.__container)===null||m===void 0||m.removeChild(this.__menuDOM),this.__menuDOM=null},E.prototype.showMenu=function(m,y,S){if(!(!S||!S.length)){var T=this.__menuDOM;T.innerHTML="",T.append.apply(T,co(this.__getMenuDom(S))),!!T.children.length&&(T.style.display="block",T.style.top=y+"px",T.style.left=m+"px")}},E.prototype.setMenuByType=function(m){!m.type||!m.menu||this.menuTypeMap.set(m.type,m.menu)},E.prototype.__getMenuDom=function(m){var y=[];return m&&m.length>0&&m.forEach(function(S){var T=document.createElement("li");if(S.className?T.className="lf-menu-item "+S.className:T.className="lf-menu-item",S.icon===!0){var I=document.createElement("span");I.className="lf-menu-item-icon",T.appendChild(I)}var K=document.createElement("span");K.className="lf-menu-item-text",S.text&&(K.innerText=S.text),T.appendChild(K),T.onclickCallback=S.callback,y.push(T)}),y},E.prototype.setMenuConfig=function(m){!m||(m.nodeMenu!==void 0&&this.menuTypeMap.set(wn,m.nodeMenu?m.nodeMenu:[]),m.edgeMenu!==void 0&&this.menuTypeMap.set(Ua,m.edgeMenu?m.edgeMenu:[]),m.graphMenu!==void 0&&this.menuTypeMap.set(rn,m.graphMenu?m.graphMenu:[]))},E.prototype.addMenuConfig=function(m){if(!!m){if(Array.isArray(m.nodeMenu)){var y=this.menuTypeMap.get(wn);this.menuTypeMap.set(wn,y.concat(m.nodeMenu))}if(Array.isArray(m.edgeMenu)){var y=this.menuTypeMap.get(Ua);this.menuTypeMap.set(Ua,y.concat(m.edgeMenu))}if(Array.isArray(m.graphMenu)){var y=this.menuTypeMap.get(rn);this.menuTypeMap.set(rn,y.concat(m.graphMenu))}}},E.prototype.changeMenuItem=function(m,y){if(m==="add")this.addMenuConfig(y);else if(m==="reset")this.setMenuConfig(y);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},E.pluginName="menu",E}(),no=null,ws=function(E,m){var y=typeof Symbol=="function"&&E[Symbol.iterator];if(!y)return E;var S=y.call(E),T,I=[],K;try{for(;(m===void 0||m-- >0)&&!(T=S.next()).done;)I.push(T.value)}catch(ie){K={error:ie}}finally{try{T&&!T.done&&(y=S.return)&&y.call(S)}finally{if(K)throw K.error}}return I},Yn="menu-common",Al=200,ko=100,Xo=function(){function E(m){var y=this,S=m.lf;this.menuTypeMap=new Map,this.listenDelete=function(){y.hideContextMenu()},this.lf=S,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(Yn,[]),this.lf.setContextMenuByType=function(T,I){y.setContextMenuByType(T,I)},this.lf.setContextMenuItems=function(T){y.setContextMenuItems(T)},this.lf.showContextMenu=function(T){y.showContextMenu(T)},this.lf.hideContextMenu=function(){y.hideContextMenu()}}return E.prototype.render=function(m,y){var S=this;this.container=y,m.on("node:click",function(T){var I=T.data;S._activeData=I,S.createContextMenu()}),m.on("edge:click",function(T){var I=T.data;S._activeData=I,S.createContextMenu()}),m.on("blank:click",function(){S.hideContextMenu()})},E.prototype.setContextMenuByType=function(m,y){this.menuTypeMap.set(m,y)},E.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},E.prototype.showContextMenu=function(m){if(!m||!m.id){console.warn("\u8BF7\u68C0\u67E5\u4F20\u5165\u7684\u53C2\u6570");return}this._activeData=m,this.createContextMenu()},E.prototype.setContextMenuItems=function(m){this.menuTypeMap.set(Yn,m)},E.prototype.getContextMenuPosition=function(){var m=this._activeData,y=this.lf.graphModel.getElement(m.id);if(!y){console.warn("\u627E\u4E0D\u5230\u5143\u7D20"+m.id);return}var S,T;if(y.BaseType==="edge"){S=Number.MIN_SAFE_INTEGER,T=Number.MAX_SAFE_INTEGER;var I=y.getData();S=Math.max(I.startPoint.x,S),T=Math.min(I.startPoint.y,T),S=Math.max(I.endPoint.x,S),T=Math.min(I.endPoint.y,T),I.pointsList&&I.pointsList.forEach(function(K){S=Math.max(K.x,S),T=Math.min(K.y,T)})}return y.BaseType==="node"&&(S=m.x+y.width/2,T=m.y-y.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([S,T])},E.prototype.createContextMenu=function(){var m=this,y=this.lf.options.isSilentMode;if(!y){var S=this.menuTypeMap.get(this._activeData.type)||[];S=S.concat(this.menuTypeMap.get(Yn));var T=document.createDocumentFragment();S.forEach(function(I){var K=document.createElement("div");K.className="lf-context-item";var ie=document.createElement("img");ie.src=I.icon,ie.className="lf-context-img",I.className&&(K.className=K.className+" "+I.className),ie.addEventListener("click",function(){m.hideContextMenu(),I.callback?I.callback(m._activeData):m.addNode({sourceId:m._activeData.id,x:m._activeData.x,y:m._activeData.y,properties:I.properties,type:I.type})}),K.appendChild(ie),T.appendChild(K)}),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(T),this.showMenu()}},E.prototype.addNode=function(m,y){var S=y!==void 0;y===void 0&&(y=m.y);var T=this.lf.getNodeModelById(m.sourceId),I=m.x-T.width+Al,K=y-m.y/2-20,ie=m.x+T.width+Al,be=y+m.y/2+20,Ee=this.lf.getAreaElement([I,K],[ie,be]);if(Ee.length){y=y+ko,this.addNode(m,y);return}var Te=this.lf.addNode({type:m.type,x:m.x+200,y,properties:m.properties}),Ye,Qe;S&&(Ye={x:m.x,y:m.y+T.height/2},Qe={x:Te.x-Te.width/2,y:Te.y}),this.lf.addEdge({sourceNodeId:m.sourceId,targetNodeId:Te.id,startPoint:Ye,endPoint:Qe})},E.prototype.showMenu=function(){var m=ws(this.getContextMenuPosition(),2),y=m[0],S=m[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=S+"px",this.__menuDOM.style.left=y+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},E.pluginName="contextMenu",E}(),Nl=null,Je=function(){function E(m){var y=this,S=m.lf;this.lf=S,this.lf.setPatternItems=function(T){y.setPatternItems(T)}}return E.prototype.render=function(m,y){var S=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=y;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(T){S.panelEl.appendChild(S.createDndItem(T))}),y.appendChild(this.panelEl),this.domContainer=y},E.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},E.prototype.setPatternItems=function(m){this.shapeList=m,this.domContainer&&this.render(this.lf,this.domContainer)},E.prototype.createDndItem=function(m){var y=this,S=document.createElement("div");S.className=m.className?"lf-dnd-item "+m.className:"lf-dnd-item";var T=document.createElement("div");if(T.className="lf-dnd-shape",m.icon&&(T.style.backgroundImage="url("+m.icon+")"),S.appendChild(T),m.label){var I=document.createElement("div");I.innerText=m.label,I.className="lf-dnd-text",S.appendChild(I)}return S.onmousedown=function(){m.type&&y.lf.dnd.startDrag({type:m.type,properties:m.properties,text:m.text}),m.callback&&m.callback(y.lf,y.domContainer)},S},E.pluginName="dndPanel",E}(),As=function(){function E(m){var y=this,S=m.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(I){var K=y.lf.getPointByClient(I.clientX,I.clientY).domOverlayPosition,ie=K.x,be=K.y;y.endPoint={x:ie,y:be};var Ee=y.startPoint,Te=Ee.x,Ye=Ee.y,Qe=y.wrapper.style,qe=Te,dt=Ye,Lt=ie-Te,Ht=be-Ye;ie<Te&&(qe=ie,Lt=Te-ie),be<Ye&&(dt=be,Ht=Ye-be),Qe.left=qe+"px",Qe.top=dt+"px",Qe.width=Lt+"px",Qe.height=Ht+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",y.__draw),document.removeEventListener("mouseup",y.__drawOff),y.wrapper.oncontextmenu=null,y.__domContainer.removeChild(y.wrapper);var I=y.startPoint,K=I.x,ie=I.y,be=y.endPoint,Ee=be.x,Te=be.y;if(!(Math.abs(Ee-K)<10&&Math.abs(Te-ie)<10)){var Ye=[Math.min(K,Ee),Math.min(ie,Te)],Qe=[Math.max(K,Ee),Math.max(ie,Te)],qe=y.lf.graphModel.getAreaElement(Ye,Qe,y.isWholeEdge,y.isWholeNode,!0),dt=y.lf.graphModel.group;qe.forEach(function(Lt){(!dt||!dt.getNodeGroup(Lt.id))&&y.lf.selectElementById(Lt.id,!0)}),y.lf.emit("selection:selected",qe)}},this.lf=S;var T=S.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=T,S.openSelectionSelect=function(){y.openSelectionSelect()},S.closeSelectionSelect=function(){y.closeSelectionSelect()}}return E.prototype.render=function(m,y){var S=this;this.__domContainer=y,m.on("blank:mousedown",function(T){var I=T.e,K=m.getEditConfig();if(!(!K.stopMoveGraph||S.__disabled)){var ie=m.getPointByClient(I.clientX,I.clientY).domOverlayPosition,be=ie.x,Ee=ie.y;S.startPoint={x:be,y:Ee},S.endPoint={x:be,y:Ee};var Te=document.createElement("div");Te.className="lf-selection-select",Te.oncontextmenu=function(Qe){Qe.preventDefault()},Te.style.top=S.startPoint.y+"px",Te.style.left=S.startPoint.x+"px",y.appendChild(Te),S.wrapper=Te,document.addEventListener("mousemove",S.__draw),document.addEventListener("mouseup",S.__drawOff)}})},E.prototype.setSelectionSense=function(m,y){m===void 0&&(m=!0),y===void 0&&(y=!0),this.isWholeEdge=m,this.isWholeNode=y},E.prototype.openSelectionSelect=function(){var m=this.lf.getEditConfig().stopMoveGraph;m||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},E.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},E.prototype.open=function(){this.__disabled=!1},E.prototype.close=function(){this.__disabled=!0},E.pluginName="selectionSelect",E}(),Rd=function(E){var m=typeof Symbol=="function"&&Symbol.iterator,y=m&&E[m],S=0;if(y)return y.call(E);if(E&&typeof E.length=="number")return{next:function(){return E&&S>=E.length&&(E=void 0),{value:E&&E[S++],done:!E}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")},Id=function(){function E(m){var y=this,S=m.lf,T=m.LogicFlow;this.__lf=null,this.__container=null,this.__miniMapWrap=null,this.__miniMapContainer=null,this.__lfMap=null,this.__viewport=null,this.__width=150,this.__height=220,this.__miniMapWidth=450,this.__miniMapHeight=660,this.__viewPortTop=0,this.__viewPortLeft=0,this.__startPosition=null,this.__viewPortScale=1,this.__viewPortWidth=150,this.__viewPortHeight=75,this.__resetDataX=0,this.__resetDataY=0,this.__LogicFlow=null,this.__isShow=!1,this.__disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(I,K){y.__setView(),y.__isShow||y.__createMiniMap(I,K),y.__isShow=!0},this.hide=function(){y.__isShow&&y.__removeMiniMap(),y.__isShow=!1},this.__startDrag=function(I){document.addEventListener("mousemove",y.__drag),document.addEventListener("mouseup",y.__drop),y.__startPosition={x:I.x,y:I.y}},this.moveViewport=function(I,K){var ie=y.__viewport.style;y.__viewPortTop=I,y.__viewPortLeft=K,ie.top=y.__viewPortTop+"px",ie.left=y.__viewPortLeft+"px"},this.__drag=function(I){var K=y.__viewPortTop+I.y-y.__startPosition.y,ie=y.__viewPortLeft+I.x-y.__startPosition.x;y.moveViewport(K,ie),y.__startPosition={x:I.x,y:I.y};var be=(y.__viewPortLeft+y.__viewPortWidth/2)/y.__viewPortScale,Ee=(y.__viewPortTop+y.__viewPortHeight/2)/y.__viewPortScale;y.__lf.focusOn({coordinate:{x:be+y.__resetDataX,y:Ee+y.__resetDataY}})},this.__drop=function(){document.removeEventListener("mousemove",y.__drag),document.removeEventListener("mouseup",y.__drop);var I=y.__viewPortTop,K=y.__viewPortLeft;y.__viewPortLeft>y.__width&&(K=y.__width-y.__viewPortWidth),y.__viewPortTop>y.__height&&(I=y.__height-y.__viewPortHeight),y.__viewPortLeft<-y.__width&&(K=0),y.__viewPortTop<-y.__height&&(I=0),y.moveViewport(I,K)},this.__lf=S,this.__miniMapWidth=S.graphModel.width,this.__miniMapHeight=S.graphModel.width*220/150,this.__LogicFlow=T,this.__init()}return E.prototype.render=function(m,y){var S=this;this.__container=y,this.__lf.on("history:change",function(){S.__isShow&&S.__setView()}),this.__lf.on("blank:drop",function(){S.__isShow&&S.__setView()})},E.prototype.init=function(m){this.__disabledPlugins=this.__disabledPlugins.concat(m.disabledPlugins||[])},E.prototype.__init=function(){var m=document.createElement("div");m.className="lf-mini-map-graph",m.style.width=this.__width+"px",m.style.height=this.__height+"px",this.__lfMap=new this.__LogicFlow({width:this.__lf.graphModel.width,height:this.__lf.graphModel.width*220/150,container:m,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.__disabledPlugins}),this.__lfMap.adapterIn=function(y){return y},this.__lfMap.adapterOut=function(y){return y},this.__miniMapWrap=m,this.__createViewPort()},E.prototype.__createMiniMap=function(m,y){var S=document.createElement("div"),T=this.__miniMapWrap;S.appendChild(T),typeof m!="undefined"&&typeof y!="undefined"&&(S.style.left=m+"px",S.style.top=y+"px"),S.style.position="absolute",S.className="lf-mini-map",this.__container.appendChild(S),this.__miniMapWrap.appendChild(this.__viewport);var I=document.createElement("div");I.className="lf-mini-map-header",I.innerText="\u5BFC\u822A",S.appendChild(I);var K=document.createElement("span");K.className="lf-mini-map-close",K.addEventListener("click",this.hide),S.appendChild(K),this.__miniMapContainer=S},E.prototype.__removeMiniMap=function(){this.__container.removeChild(this.__miniMapContainer)},E.prototype.__getBounds=function(m){var y=0,S=this.__miniMapWidth,T=0,I=this.__miniMapHeight,K=m.nodes;return K&&K.length>0&&K.forEach(function(ie){var be=ie.x,Ee=ie.y,Te=ie.width,Ye=Te===void 0?200:Te,Qe=ie.height,qe=Qe===void 0?200:Qe,dt=be-Ye/2,Lt=be+Ye/2,Ht=Ee-qe/2,Yt=Ee+qe/2;y=dt<y?dt:y,S=Lt>S?Lt:S,T=Ht<T?Ht:T,I=Yt>I?Yt:I}),{left:y,top:T,bottom:I,right:S}},E.prototype.__resetData=function(m){var y=m.nodes,S=m.edges,T=0,I=0;return y&&y.length>0&&(y.forEach(function(K){var ie=K.x,be=K.y,Ee=K.width,Te=Ee===void 0?200:Ee,Ye=K.height,Qe=Ye===void 0?200:Ye,qe=ie-Te/2,dt=be-Qe/2;T=qe<T?qe:T,I=dt<I?dt:I}),(T<0||I<0)&&(this.__resetDataX=T,this.__resetDataY=I,y.forEach(function(K){K.x=K.x-T,K.y=K.y-I,K.text&&(K.text.x=K.text.x-T,K.text.y=K.text.y-I)}),S.forEach(function(K){K.startPoint&&(K.startPoint.x=K.startPoint.x-T,K.startPoint.y=K.startPoint.y-I),K.endPoint&&(K.endPoint.x=K.endPoint.x-T,K.endPoint.y=K.endPoint.y-I),K.text&&(K.text.x=K.text.x-T,K.text.y=K.text.y-I),K.pointsList&&K.pointsList.forEach(function(ie){ie.x=ie.x-T,ie.y=ie.y-I})}))),m},E.prototype.__setView=function(){var m,y,S=this.__resetData(this.__lf.getGraphRawData()),T=this.__lf.viewMap,I=this.__lf.graphModel.modelMap,K=this.__lfMap.viewMap;try{for(var ie=Rd(T.keys()),be=ie.next();!be.done;be=ie.next()){var Ee=be.value;K.has(Ee)||(this.__lfMap.setView(Ee,T.get(Ee)),this.__lfMap.graphModel.modelMap.set(Ee,I.get(Ee)))}}catch(tr){m={error:tr}}finally{try{be&&!be.done&&(y=ie.return)&&y.call(ie)}finally{if(m)throw m.error}}this.__lfMap.render(S);var Te=this.__getBounds(S),Ye=Te.left,Qe=Te.top,qe=Te.right,dt=Te.bottom,Lt=this.__width/(qe-Ye),Ht=this.__height/(dt-Qe),Yt=this.__miniMapWrap.firstChild.style,Ct=Math.min(Lt,Ht);Yt.transform="matrix("+Ct+", 0, 0, "+Ct+", 0, 0)",Yt.transformOrigin="left top",Yt.height=dt-Math.min(Qe,0)+"px",Yt.width=qe-Math.min(Ye,0)+"px",this.__viewPortScale=Ct,this.__setViewPort(Ct,{left:Ye,top:Qe,right:qe,bottom:dt})},E.prototype.__setViewPort=function(m,y){var S=y.left,T=y.right,I=y.top,K=y.bottom,ie=this.__viewport.style;ie.width=this.__width-4+"px",ie.height=(this.__width-4)/(this.__lf.graphModel.width/this.__lf.graphModel.height)+"px";var be=this.__lf.getTransform(),Ee=be.TRANSLATE_X,Te=be.TRANSLATE_Y,Ye=T-S,Qe=(this.__width-4)/(Ye/this.__lf.graphModel.width),qe=this.__lf.graphModel.width/this.__lf.graphModel.height,dt=Qe/qe;this.__viewPortTop=Te>0?0:-Te*m,this.__viewPortLeft=Ee>0?0:-Ee*m,this.__viewPortWidth=Qe,this.__viewPortHeight=dt,ie.top=this.__viewPortTop+"px",ie.left=this.__viewPortLeft+"px",ie.width=Qe+"px",ie.height=dt+"px"},E.prototype.__createViewPort=function(){var m=document.createElement("div");m.className="lf-minimap-viewport",m.addEventListener("mousedown",this.__startDrag),this.__viewport=m},E.pluginName="miniMap",E}(),fc=null,Dl=function(){var E=function(m,y){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var I in T)T.hasOwnProperty(I)&&(S[I]=T[I])},E(m,y)};return function(m,y){E(m,y);function S(){this.constructor=m}m.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}}(),$i=function(E,m){var y=typeof Symbol=="function"&&E[Symbol.iterator];if(!y)return E;var S=y.call(E),T,I=[],K;try{for(;(m===void 0||m-- >0)&&!(T=S.next()).done;)I.push(T.value)}catch(ie){K={error:ie}}finally{try{T&&!T.done&&(y=S.return)&&y.call(S)}finally{if(K)throw K.error}}return I},$a=function(E){Dl(m,E);function m(){return E!==null&&E.apply(this,arguments)||this}return m.prototype.getEdge=function(){for(var y=this.props.model.getEdgeStyle(),S=y.strokeWidth,T=y.stroke,I=y.strokeDashArray,K=this.props.model.points,ie=K.split(" ").map(function(ze){return ze.split(",").map(function(_e){return Number(_e)})}),be=$i(ie[0],2),Ee=be[0],Te=be[1],Ye="M"+Ee+" "+Te,Qe=5,qe=1;qe<ie.length-1;qe++){var dt=$i(ie[qe-1],2),Lt=dt[0],Ht=dt[1],Yt=$i(ie[qe],2),Ct=Yt[0],tr=Yt[1],jr=$i(ie[qe+1],2),s=jr[0],f=jr[1];if(Ct===Lt&&tr!==Ht){var h=tr>Ht?tr-Qe:tr+Qe;Ye=Ye+" L "+Ct+" "+h}if(tr===Ht&&Ct!==Lt){var D=Ct>Lt?Ct-Qe:Ct+Qe;Ye=Ye+" L "+D+" "+tr}if(Ye=Ye+" Q "+Ct+" "+tr,Ct===s&&tr!==f){var h=tr>f?tr-Qe:tr+Qe;Ye=Ye+" "+Ct+" "+h}if(tr===f&&Ct!==s){var D=Ct>s?Ct-Qe:Ct+Qe;Ye=Ye+" "+D+" "+tr}}var H=$i(ie[ie.length-1],2),_=H[0],ge=H[1];return Ye=Ye+" L "+_+" "+ge,(0,A.h)("path",{d:Ye,strokeWidth:S,stroke:T,fill:"none",strokeDashArray:I})},m.extendKey="curvedEdge",m}(A.PolylineEdge),ka=function(E){Dl(m,E);function m(){return E!==null&&E.apply(this,arguments)||this}return m}(A.PolylineEdgeModel),kr={pluginName:"curved-edge",curvedSpace:5,init:function(E){var m=E.curvedSpace;kr.curvedSpace=m},install:function(E){E.register({type:"curved-edge",view:$a,model:ka})}},Zr=null,po,Dr,Ea,Xa,vo,xn,Ln,oo={},mi=[],Yo=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function An(E,m){for(var y in m)E[y]=m[y];return E}function Sa(E){var m=E.parentNode;m&&m.removeChild(E)}function Pn(E,m,y){var S,T,I,K={};for(I in m)I=="key"?S=m[I]:I=="ref"?T=m[I]:K[I]=m[I];if(arguments.length>2&&(K.children=arguments.length>3?po.call(arguments,2):y),typeof E=="function"&&E.defaultProps!=null)for(I in E.defaultProps)K[I]===void 0&&(K[I]=E.defaultProps[I]);return Wo(E,K,S,T,null)}function Wo(E,m,y,S,T){var I={type:E,props:m,key:y,ref:S,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:T==null?++Ea:T};return T==null&&Dr.vnode!=null&&Dr.vnode(I),I}function yr(){return{current:null}}function zn(E){return E.children}function bi(E,m){this.props=E,this.context=m}function jo(E,m){if(m==null)return E.__?jo(E.__,E.__.__k.indexOf(E)+1):null;for(var y;m<E.__k.length;m++)if((y=E.__k[m])!=null&&y.__e!=null)return y.__e;return typeof E.type=="function"?jo(E):null}function Fn(E){var m,y;if((E=E.__)!=null&&E.__c!=null){for(E.__e=E.__c.base=null,m=0;m<E.__k.length;m++)if((y=E.__k[m])!=null&&y.__e!=null){E.__e=E.__c.base=y.__e;break}return Fn(E)}}function Nn(E){(!E.__d&&(E.__d=!0)&&vo.push(E)&&!Oi.__r++||xn!==Dr.debounceRendering)&&((xn=Dr.debounceRendering)||setTimeout)(Oi)}function Oi(){for(var E;Oi.__r=vo.length;)E=vo.sort(function(m,y){return m.__v.__b-y.__v.__b}),vo=[],E.some(function(m){var y,S,T,I,K,ie;m.__d&&(K=(I=(y=m).__v).__e,(ie=y.__P)&&(S=[],(T=An({},I)).__v=I.__v+1,xr(ie,I,T,y.__n,ie.ownerSVGElement!==void 0,I.__h!=null?[K]:null,S,K==null?jo(I):K,I.__h),Si(S,I),I.__e!=K&&Fn(I)))})}function Ei(E,m,y,S,T,I,K,ie,be,Ee){var Te,Ye,Qe,qe,dt,Lt,Ht,Yt=S&&S.__k||mi,Ct=Yt.length;for(y.__k=[],Te=0;Te<m.length;Te++)if((qe=y.__k[Te]=(qe=m[Te])==null||typeof qe=="boolean"?null:typeof qe=="string"||typeof qe=="number"||typeof qe=="bigint"?Wo(null,qe,null,null,qe):Array.isArray(qe)?Wo(zn,{children:qe},null,null,null):qe.__b>0?Wo(qe.type,qe.props,qe.key,null,qe.__v):qe)!=null){if(qe.__=y,qe.__b=y.__b+1,(Qe=Yt[Te])===null||Qe&&qe.key==Qe.key&&qe.type===Qe.type)Yt[Te]=void 0;else for(Ye=0;Ye<Ct;Ye++){if((Qe=Yt[Ye])&&qe.key==Qe.key&&qe.type===Qe.type){Yt[Ye]=void 0;break}Qe=null}xr(E,qe,Qe=Qe||oo,T,I,K,ie,be,Ee),dt=qe.__e,(Ye=qe.ref)&&Qe.ref!=Ye&&(Ht||(Ht=[]),Qe.ref&&Ht.push(Qe.ref,null,qe),Ht.push(Ye,qe.__c||dt,qe)),dt!=null?(Lt==null&&(Lt=dt),typeof qe.type=="function"&&qe.__k===Qe.__k?qe.__d=be=xa(qe,be,E):be=en(E,qe,Qe,Yt,dt,be),typeof y.type=="function"&&(y.__d=be)):be&&Qe.__e==be&&be.parentNode!=E&&(be=jo(Qe))}for(y.__e=Lt,Te=Ct;Te--;)Yt[Te]!=null&&(typeof y.type=="function"&&Yt[Te].__e!=null&&Yt[Te].__e==y.__d&&(y.__d=jo(S,Te+1)),fn(Yt[Te],Yt[Te]));if(Ht)for(Te=0;Te<Ht.length;Te++)Ta(Ht[Te],Ht[++Te],Ht[++Te])}function xa(E,m,y){for(var S,T=E.__k,I=0;T&&I<T.length;I++)(S=T[I])&&(S.__=E,m=typeof S.type=="function"?xa(S,m,y):en(y,S,S,T,S.__e,m));return m}function Ya(E,m){return m=m||[],E==null||typeof E=="boolean"||(Array.isArray(E)?E.some(function(y){Ya(y,m)}):m.push(E)),m}function en(E,m,y,S,T,I){var K,ie,be;if(m.__d!==void 0)K=m.__d,m.__d=void 0;else if(y==null||T!=I||T.parentNode==null)e:if(I==null||I.parentNode!==E)E.appendChild(T),K=null;else{for(ie=I,be=0;(ie=ie.nextSibling)&&be<S.length;be+=2)if(ie==T)break e;E.insertBefore(T,I),K=I}return K!==void 0?K:T.nextSibling}function Wa(E,m,y,S,T){var I;for(I in y)I==="children"||I==="key"||I in m||io(E,I,null,y[I],S);for(I in m)T&&typeof m[I]!="function"||I==="children"||I==="key"||I==="value"||I==="checked"||y[I]===m[I]||io(E,I,m[I],y[I],S)}function Pa(E,m,y){m[0]==="-"?E.setProperty(m,y):E[m]=y==null?"":typeof y!="number"||Yo.test(m)?y:y+"px"}function io(E,m,y,S,T){var I;e:if(m==="style")if(typeof y=="string")E.style.cssText=y;else{if(typeof S=="string"&&(E.style.cssText=S=""),S)for(m in S)y&&m in y||Pa(E.style,m,"");if(y)for(m in y)S&&y[m]===S[m]||Pa(E.style,m,y[m])}else if(m[0]==="o"&&m[1]==="n")I=m!==(m=m.replace(/Capture$/,"")),m=m.toLowerCase()in E?m.toLowerCase().slice(2):m.slice(2),E.l||(E.l={}),E.l[m+I]=y,y?S||E.addEventListener(m,I?Ma:zr,I):E.removeEventListener(m,I?Ma:zr,I);else if(m!=="dangerouslySetInnerHTML"){if(T)m=m.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(m!=="href"&&m!=="list"&&m!=="form"&&m!=="tabIndex"&&m!=="download"&&m in E)try{E[m]=y==null?"":y;break e}catch(K){}typeof y=="function"||(y!=null&&(y!==!1||m[0]==="a"&&m[1]==="r")?E.setAttribute(m,y):E.removeAttribute(m))}}function zr(E){this.l[E.type+!1](Dr.event?Dr.event(E):E)}function Ma(E){this.l[E.type+!0](Dr.event?Dr.event(E):E)}function xr(E,m,y,S,T,I,K,ie,be){var Ee,Te,Ye,Qe,qe,dt,Lt,Ht,Yt,Ct,tr,jr,s,f=m.type;if(m.constructor!==void 0)return null;y.__h!=null&&(be=y.__h,ie=m.__e=y.__e,m.__h=null,I=[ie]),(Ee=Dr.__b)&&Ee(m);try{e:if(typeof f=="function"){if(Ht=m.props,Yt=(Ee=f.contextType)&&S[Ee.__c],Ct=Ee?Yt?Yt.props.value:Ee.__:S,y.__c?Lt=(Te=m.__c=y.__c).__=Te.__E:("prototype"in f&&f.prototype.render?m.__c=Te=new f(Ht,Ct):(m.__c=Te=new bi(Ht,Ct),Te.constructor=f,Te.render=ki),Yt&&Yt.sub(Te),Te.props=Ht,Te.state||(Te.state={}),Te.context=Ct,Te.__n=S,Ye=Te.__d=!0,Te.__h=[]),Te.__s==null&&(Te.__s=Te.state),f.getDerivedStateFromProps!=null&&(Te.__s==Te.state&&(Te.__s=An({},Te.__s)),An(Te.__s,f.getDerivedStateFromProps(Ht,Te.__s))),Qe=Te.props,qe=Te.state,Ye)f.getDerivedStateFromProps==null&&Te.componentWillMount!=null&&Te.componentWillMount(),Te.componentDidMount!=null&&Te.__h.push(Te.componentDidMount);else{if(f.getDerivedStateFromProps==null&&Ht!==Qe&&Te.componentWillReceiveProps!=null&&Te.componentWillReceiveProps(Ht,Ct),!Te.__e&&Te.shouldComponentUpdate!=null&&Te.shouldComponentUpdate(Ht,Te.__s,Ct)===!1||m.__v===y.__v){Te.props=Ht,Te.state=Te.__s,m.__v!==y.__v&&(Te.__d=!1),Te.__v=m,m.__e=y.__e,m.__k=y.__k,m.__k.forEach(function(h){h&&(h.__=m)}),Te.__h.length&&K.push(Te);break e}Te.componentWillUpdate!=null&&Te.componentWillUpdate(Ht,Te.__s,Ct),Te.componentDidUpdate!=null&&Te.__h.push(function(){Te.componentDidUpdate(Qe,qe,dt)})}if(Te.context=Ct,Te.props=Ht,Te.__v=m,Te.__P=E,tr=Dr.__r,jr=0,"prototype"in f&&f.prototype.render)Te.state=Te.__s,Te.__d=!1,tr&&tr(m),Ee=Te.render(Te.props,Te.state,Te.context);else do Te.__d=!1,tr&&tr(m),Ee=Te.render(Te.props,Te.state,Te.context),Te.state=Te.__s;while(Te.__d&&++jr<25);Te.state=Te.__s,Te.getChildContext!=null&&(S=An(An({},S),Te.getChildContext())),Ye||Te.getSnapshotBeforeUpdate==null||(dt=Te.getSnapshotBeforeUpdate(Qe,qe)),s=Ee!=null&&Ee.type===zn&&Ee.key==null?Ee.props.children:Ee,Ei(E,Array.isArray(s)?s:[s],m,y,S,T,I,K,ie,be),Te.base=m.__e,m.__h=null,Te.__h.length&&K.push(Te),Lt&&(Te.__E=Te.__=null),Te.__e=!1}else I==null&&m.__v===y.__v?(m.__k=y.__k,m.__e=y.__e):m.__e=Ka(y.__e,m,y,S,T,I,K,be);(Ee=Dr.diffed)&&Ee(m)}catch(h){m.__v=null,(be||I!=null)&&(m.__e=ie,m.__h=!!be,I[I.indexOf(ie)]=null),Dr.__e(h,m,y)}}function Si(E,m){Dr.__c&&Dr.__c(m,E),E.some(function(y){try{E=y.__h,y.__h=[],E.some(function(S){S.call(y)})}catch(S){Dr.__e(S,y.__v)}})}function Ka(E,m,y,S,T,I,K,ie){var be,Ee,Te,Ye=y.props,Qe=m.props,qe=m.type,dt=0;if(qe==="svg"&&(T=!0),I!=null){for(;dt<I.length;dt++)if((be=I[dt])&&"setAttribute"in be==!!qe&&(qe?be.localName===qe:be.nodeType===3)){E=be,I[dt]=null;break}}if(E==null){if(qe===null)return document.createTextNode(Qe);E=T?document.createElementNS("http://www.w3.org/2000/svg",qe):document.createElement(qe,Qe.is&&Qe),I=null,ie=!1}if(qe===null)Ye===Qe||ie&&E.data===Qe||(E.data=Qe);else{if(I=I&&po.call(E.childNodes),Ee=(Ye=y.props||oo).dangerouslySetInnerHTML,Te=Qe.dangerouslySetInnerHTML,!ie){if(I!=null)for(Ye={},dt=0;dt<E.attributes.length;dt++)Ye[E.attributes[dt].name]=E.attributes[dt].value;(Te||Ee)&&(Te&&(Ee&&Te.__html==Ee.__html||Te.__html===E.innerHTML)||(E.innerHTML=Te&&Te.__html||""))}if(Wa(E,Qe,Ye,T,ie),Te)m.__k=[];else if(dt=m.props.children,Ei(E,Array.isArray(dt)?dt:[dt],m,y,S,T&&qe!=="foreignObject",I,K,I?I[0]:y.__k&&jo(y,0),ie),I!=null)for(dt=I.length;dt--;)I[dt]!=null&&Sa(I[dt]);ie||("value"in Qe&&(dt=Qe.value)!==void 0&&(dt!==E.value||qe==="progress"&&!dt||qe==="option"&&dt!==Ye.value)&&io(E,"value",dt,Ye.value,!1),"checked"in Qe&&(dt=Qe.checked)!==void 0&&dt!==E.checked&&io(E,"checked",dt,Ye.checked,!1))}return E}function Ta(E,m,y){try{typeof E=="function"?E(m):E.current=m}catch(S){Dr.__e(S,y)}}function fn(E,m,y){var S,T;if(Dr.unmount&&Dr.unmount(E),(S=E.ref)&&(S.current&&S.current!==E.__e||Ta(S,null,m)),(S=E.__c)!=null){if(S.componentWillUnmount)try{S.componentWillUnmount()}catch(I){Dr.__e(I,m)}S.base=S.__P=null}if(S=E.__k)for(T=0;T<S.length;T++)S[T]&&fn(S[T],m,typeof E.type!="function");y||E.__e==null||Sa(E.__e),E.__e=E.__d=void 0}function ki(E,m,y){return this.constructor(E,y)}function Va(E,m,y){var S,T,I;Dr.__&&Dr.__(E,m),T=(S=typeof y=="function")?null:y&&y.__k||m.__k,I=[],xr(m,E=(!S&&y||m).__k=Pn(zn,null,[E]),T||oo,oo,m.ownerSVGElement!==void 0,!S&&y?[y]:T?null:m.firstChild?po.call(m.childNodes):null,I,!S&&y?y:T?T.__e:m.firstChild,S),Si(I,E)}function Ns(E,m){Va(E,m,Ns)}function xi(E,m,y){var S,T,I,K=An({},E.props);for(I in m)I=="key"?S=m[I]:I=="ref"?T=m[I]:K[I]=m[I];return arguments.length>2&&(K.children=arguments.length>3?po.call(arguments,2):y),Wo(E.type,K,S||E.key,T||E.ref,null)}function wa(E,m){var y={__c:m="__cC"+Ln++,__:E,Consumer:function(S,T){return S.children(T)},Provider:function(S){var T,I;return this.getChildContext||(T=[],(I={})[m]=this,this.getChildContext=function(){return I},this.shouldComponentUpdate=function(K){this.props.value!==K.value&&T.some(Nn)},this.sub=function(K){T.push(K);var ie=K.componentWillUnmount;K.componentWillUnmount=function(){T.splice(T.indexOf(K),1),ie&&ie.call(K)}}),S.children}};return y.Provider.__=y.Consumer.contextType=y}po=mi.slice,Dr={__e:function(E,m,y,S){for(var T,I,K;m=m.__;)if((T=m.__c)&&!T.__)try{if((I=T.constructor)&&I.getDerivedStateFromError!=null&&(T.setState(I.getDerivedStateFromError(E)),K=T.__d),T.componentDidCatch!=null&&(T.componentDidCatch(E,S||{}),K=T.__d),K)return T.__E=T}catch(ie){E=ie}throw E}},Ea=0,Xa=function(E){return E!=null&&E.constructor===void 0},bi.prototype.setState=function(E,m){var y;y=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=An({},this.state),typeof E=="function"&&(E=E(An({},y),this.props)),E&&An(y,E),E!=null&&this.__v&&(m&&this.__h.push(m),Nn(this))},bi.prototype.forceUpdate=function(E){this.__v&&(this.__e=!0,E&&this.__h.push(E),Nn(this))},bi.prototype.render=zn,vo=[],Oi.__r=0,Ln=0;var ho=function(){return ho=Object.assign||function(E){for(var m,y=1,S=arguments.length;y<S;y++){m=arguments[y];for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(E[T]=m[T])}return E},ho.apply(this,arguments)};function Ko(E){var m=E.x,y=E.y,S=E.width,T=E.height,I=E.radius,K=E.className,ie=m-S/2,be=y-T/2,Ee=ho(ho({width:10,height:10,cx:0,cy:0,rx:I||0,ry:I||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+K},E),{x:ie,y:be});return(0,A.h)("rect",ho({},Ee))}Ko.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var ao;(function(E){E.NODE="node",E.CIRCLE_NODE="circle-node",E.POLYGON_NODE="polygon-node",E.RECT_NODE="rect-node",E.HTML_NODE="html-node",E.TEXT_NODE="text-node",E.ELLIPSE_NODE="ellipse-node",E.DIAMOND_NODE="diamond-node",E.EDGE="edge",E.LINE_EDGE="line-edge",E.POLYLINE_EDGE="polyline-edge",E.BEZIER_EDGE="bezier-edge",E.GRAPH="graph"})(ao||(ao={}));function Pi(E){var m=E.x,y=E.y,S=E.width,T=E.height;return{minX:m-S/2,minY:y-T/2,maxX:m+S/2,maxY:y+T/2}}function Mi(E){var m=Pi(E),y=E.radius,S=m.minX,T=m.minY,I=m.maxX,K=m.maxY;return[{x:S+y,y:T+y},{x:I-y,y:T+y},{x:I-y,y:K-y},{x:S+y,y:K-y}]}function cn(E){var m=E.point,y=E.beforeNode,S=E.afterNode,T=m.x,I=m.y,K={x:T,y:I},ie=y.radius,be=Pi(y),Ee=Pi(S);if(T===be.minX){K.x=Ee.minX;var Te=(I-y.y)/(y.height/2-ie);Te?K.y=S.y+(S.height/2-ie)*Te:K.y=S.y}else if(T===be.maxX){K.x=Ee.maxX;var Te=(I-y.y)/(y.height/2-ie);Te?K.y=S.y+(S.height/2-ie)*Te:K.y=S.y}else if(I===be.minY){K.y=Ee.minY;var Te=(T-y.x)/(y.width/2-ie);Te?K.x=S.x+(S.width/2-ie)*Te:K.x=S.x}else if(I===be.maxY){K.y=Ee.maxY;var Te=(T-y.x)/(y.width/2-ie);Te?K.x=S.x+(S.width/2-ie)*Te:K.x=S.x}else{var Ye=Mi(y),Qe=Mi(S),qe=Pi(y),dt=qe.minX,Lt=qe.minY,Ht=qe.maxX,Yt=qe.maxY,Ct=-1;if(T-dt<ie&&I-Lt<ie?Ct=0:Ht-T<ie&&I-Lt<ie?Ct=1:Ht-T<ie&&Yt-I<ie?Ct=2:T-dt<ie&&Lt-I<ie&&(Ct=3),Ct>-1){var tr=Math.atan2(I-Ye[Ct].y,T-Ye[Ct].x);K.x=Qe[Ct].x+ie*Math.cos(tr),K.y=Qe[Ct].y+ie*Math.sin(tr)}}return K}function Co(E){var m=E.point,y=E.beforeNode,S=E.afterNode,T=S.rx,I=S.ry,K=m,ie=(m.y-y.y)/(m.x-y.x),be=T,Ee=I,Te,Ye;return ie>=Infinity?(Te=0,Ye=Ee):ie<=-Infinity?(Te=0,Ye=-Ee):m.x-y.x>0?(Te=be*Ee/Math.sqrt(Ee*Ee+be*be*ie*ie),Ye=be*Ee*ie/Math.sqrt(Ee*Ee+be*be*ie*ie)):(Te=-(be*Ee)/Math.sqrt(Ee*Ee+be*be*ie*ie),Ye=-(be*Ee*ie)/Math.sqrt(Ee*Ee+be*be*ie*ie)),K={x:Te+S.x,y:Ye+S.y},K}function Tr(E){var m=E.point,y=E.beforeNode,S=E.afterNode,T=m,I,K,ie=m.x-y.x,be=m.y-y.y,Ee=y.rx,Te=y.ry,Ye=Math.sqrt((Ee-Math.abs(ie))*(Ee-Math.abs(ie))+be*be)/Math.sqrt(Ee*Ee+Te*Te),Qe=S.rx,qe=S.ry,dt=Math.sqrt((Qe*Qe+qe*qe)*Ye*Ye*(Qe*Qe/(Qe*Qe+qe*qe))),Lt=dt*(qe/Qe);return ie>=0?I=Qe-dt:I=dt-Qe,be>0?K=Lt:K=-Lt,T={x:I+S.x,y:K+S.y},T}var Za=function(){var E=function(m,y){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var I in T)T.hasOwnProperty(I)&&(S[I]=T[I])},E(m,y)};return function(m,y){E(m,y);function S(){this.constructor=m}m.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}}(),Wn=function(){return Wn=Object.assign||function(E){for(var m,y=1,S=arguments.length;y<S;y++){m=arguments[y];for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(E[T]=m[T])}return E},Wn.apply(this,arguments)},Ds=A.LogicFlowUtil.StepDrag,js=function(E){Za(m,E);function m(y){var S=E.call(this)||this;S.updatePosition=function(K){var ie=K.deltaX,be=K.deltaY,Ee=S.nodeModel,Te=Ee.x,Ye=Ee.y;S.nodeModel.x=Te+ie/2,S.nodeModel.y=Ye+be/2,S.nodeModel.moveText(ie/2,be/2)},S.getResize=function(K){var ie=K.index,be=K.deltaX,Ee=K.deltaY,Te=K.width,Ye=K.height,Qe=K.pct,qe=Qe===void 0?1:Qe,dt={width:Te,height:Ye};switch(ie){case 0:dt.width=Te-be*qe,dt.height=Ye-Ee*qe;break;case 1:dt.width=Te+be*qe,dt.height=Ye-Ee*qe;break;case 2:dt.width=Te+be,dt.height=Ye+Ee*qe;break;case 3:dt.width=Te-be*qe,dt.height=Ye+Ee*qe;break;default:break}return dt},S.updateRect=function(K){var ie=K.deltaX,be=K.deltaY,Ee=S.nodeModel,Te=Ee.id,Ye=Ee.x,Qe=Ee.y,qe=Ee.width,dt=Ee.height,Lt=Ee.radius,Ht=S.index,Yt=S.getResize({index:Ht,deltaX:ie,deltaY:be,width:qe,height:dt,pct:1}),Ct=S.nodeModel,tr=Ct.minWidth,jr=Ct.minHeight,s=Ct.maxWidth,f=Ct.maxHeight;if(Yt.width<tr||Yt.width>s||Yt.height<jr||Yt.height>f){S.dragHandler.cancelDrag();return}S.updatePosition({deltaX:ie,deltaY:be}),S.nodeModel.width=Yt.width,S.nodeModel.height=Yt.height,S.nodeModel.setProperties({nodeSize:{width:Yt.width,height:Yt.height}});var h=S.getNodeEdges(Te),D={x:Ye,y:Qe,width:qe,height:dt,radius:Lt},H={x:S.nodeModel.x,y:S.nodeModel.y,width:S.nodeModel.width,height:S.nodeModel.height,radius:Lt},_={point:"",beforeNode:D,afterNode:H},ge;h.sourceEdges.forEach(function(ze){_.point=ze.startPoint,ge=cn(_),ze.updateStartPoint(ge)}),h.targetEdges.forEach(function(ze){_.point=ze.endPoint,ge=cn(_),ze.updateEndPoint(ge)}),S.eventEmit({beforeNode:D,afterNode:H})},S.updateEllipse=function(K){var ie=K.deltaX,be=K.deltaY,Ee=S.nodeModel,Te=Ee.id,Ye=Ee.rx,Qe=Ee.ry,qe=Ee.x,dt=Ee.y,Lt=S.index,Ht=Ye,Yt=Qe,Ct=S.getResize({index:Lt,deltaX:ie,deltaY:be,width:Ht,height:Yt,pct:1/2}),tr=S.nodeModel,jr=tr.minWidth,s=tr.minHeight,f=tr.maxWidth,h=tr.maxHeight;if(Ct.width<jr/2||Ct.width>f/2||Ct.height<s/2||Ct.height>h/2){S.dragHandler.cancelDrag();return}S.updatePosition({deltaX:ie,deltaY:be}),S.nodeModel.rx=S.nodeModel.rx+ie/2,S.nodeModel.ry=S.nodeModel.ry+be/2,S.nodeModel.setProperties({nodeSize:{rx:Ct.width,ry:Ct.height}});var D=S.getNodeEdges(Te),H={x:qe,y:dt},_={rx:Ct.width,ry:Ct.height,x:S.nodeModel.x,y:S.nodeModel.y},ge={point:{},beforeNode:H,afterNode:_},ze;D.sourceEdges.forEach(function(_e){ge.point=_e.startPoint,ze=Co(ge),_e.updateStartPoint(ze)}),D.targetEdges.forEach(function(_e){ge.point=_e.endPoint,ze=Co(ge),_e.updateEndPoint(ze)}),S.eventEmit({beforeNode:Wn(Wn({},H),{rx:Ye,ry:Qe}),afterNode:_})},S.updateDiamond=function(K){var ie=K.deltaX,be=K.deltaY,Ee=S.nodeModel,Te=Ee.id,Ye=Ee.rx,Qe=Ee.ry,qe=Ee.x,dt=Ee.y,Lt=S.index,Ht=Ye,Yt=Qe,Ct=S.getResize({index:Lt,deltaX:ie,deltaY:be,width:Ht,height:Yt,pct:1/2}),tr=S.nodeModel,jr=tr.minWidth,s=tr.minHeight,f=tr.maxWidth,h=tr.maxHeight;if(Ct.width<jr/2||Ct.width>f/2||Ct.height<s/2||Ct.height>h/2){S.dragHandler.cancelDrag();return}S.updatePosition({deltaX:ie,deltaY:be}),S.nodeModel.rx=S.nodeModel.rx+ie/2,S.nodeModel.ry=S.nodeModel.ry+be/2,S.nodeModel.setProperties({nodeSize:{rx:Ct.width,ry:Ct.height}});var D={x:qe,y:dt,rx:Ye,ry:Qe},H={rx:Ct.width,ry:Ct.height,x:S.nodeModel.x,y:S.nodeModel.y},_={point:{},beforeNode:D,afterNode:H},ge,ze=S.getNodeEdges(Te);ze.sourceEdges.forEach(function(_e){_.point=_e.startPoint,ge=Tr(_),_e.updateStartPoint(ge)}),ze.targetEdges.forEach(function(_e){_.point=_e.endPoint,ge=Tr(_),_e.updateEndPoint(ge)}),S.eventEmit({beforeNode:D,afterNode:H})},S.eventEmit=function(K){var ie=K.beforeNode,be=K.afterNode,Ee=S.nodeModel,Te=Ee.id,Ye=Ee.modelType,Qe=Ee.type,qe=Wn({id:Te,modelType:Ye,type:Qe},ie),dt=Wn({id:Te,modelType:Ye,type:Qe},be);S.graphModel.eventCenter.emit("node:resize",{oldNodeSize:qe,newNodeSize:dt})},S.onDraging=function(K){var ie=K.deltaX,be=K.deltaY,Ee=S.nodeModel.modelType;Ee===ao.RECT_NODE||Ee===ao.HTML_NODE?S.updateRect({deltaX:ie,deltaY:be}):Ee===ao.ELLIPSE_NODE?S.updateEllipse({deltaX:ie,deltaY:be}):Ee===ao.DIAMOND_NODE&&S.updateDiamond({deltaX:ie,deltaY:be})},S.index=y.index,S.nodeModel=y.model,S.graphModel=y.graphModel;var T=S.graphModel.gridSize,I=2;return T>1&&(I=2*T),S.nodeModel.gridSize&&(I=2*S.nodeModel.gridSize),S.state={},S.dragHandler=new Ds({onDraging:S.onDraging,step:I}),S}return m.prototype.getNodeEdges=function(y){for(var S=this.graphModel,T=S.edges,I=[],K=[],ie=0;ie<T.length;ie++){var be=T[ie];be.sourceNodeId===y?I.push(be):T[ie].targetNodeId===y&&K.push(be)}return{sourceEdges:I,targetEdges:K}},m.prototype.render=function(){var y=this.props,S=y.x,T=y.y,I=y.index,K=y.model,ie=K.getControlPointStyle();return Pn("g",{className:"lf-resize-control-"+I},Pn(Ko,Wn({className:"lf-node-control"},{x:S,y:T},ie,{onMouseDown:this.dragHandler.handleMouseDown})))},m}(bi),Ja=js,Vo=function(){var E=function(m,y){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var I in T)T.hasOwnProperty(I)&&(S[I]=T[I])},E(m,y)};return function(m,y){E(m,y);function S(){this.constructor=m}m.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}}(),Ro=function(){return Ro=Object.assign||function(E){for(var m,y=1,S=arguments.length;y<S;y++){m=arguments[y];for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(E[T]=m[T])}return E},Ro.apply(this,arguments)},Zo=function(E){Vo(m,E);function m(){var y=E.call(this)||this;return y.state={},y}return m.prototype.getResizeControl=function(){var y=this.props,S=y.model,T=y.graphModel,I=S.x,K=S.y,ie=S.width,be=S.height,Ee={minX:I-ie/2,minY:K-be/2,maxX:I+ie/2,maxY:K+be/2},Te=Ee.minX,Ye=Ee.minY,Qe=Ee.maxX,qe=Ee.maxY,dt=[{x:Te,y:Ye},{x:Qe,y:Ye},{x:Qe,y:qe},{x:Te,y:qe}];return dt.map(function(Lt,Ht){return Pn(Ja,Ro({index:Ht},Lt,{model:S,graphModel:T}))})},m.prototype.getGroupSolid=function(){var y=this.props.model,S=y.x,T=y.y,I=y.width,K=y.height,ie=y.getResizeOutlineStyle();return Pn(Ko,Ro({fill:"none"},ie,{x:S,y:T,width:I,height:K}))},m.prototype.render=function(){return Pn("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},m}(bi),Io=Zo,Ti=function(){var E=function(m,y){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var I in T)T.hasOwnProperty(I)&&(S[I]=T[I])},E(m,y)};return function(m,y){E(m,y);function S(){this.constructor=m}m.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}}(),Kn=function(E){Ti(m,E);function m(y,S){var T=E.call(this,y,S)||this,I=T.properties.nodeSize;return I&&(T.width=I.width,T.height=I.height),T}return m.prototype.initNodeData=function(y){E.prototype.initNodeData.call(this,y),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},m.prototype.getOutlineStyle=function(){var y=E.prototype.getOutlineStyle.call(this);return y.stroke="none",y.hover&&(y.hover.stroke="none"),y},m.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},m.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},m.prototype.resize=function(y,S){console.log(y,S)},m}(A.RectNodeModel),Cs=function(E){Ti(m,E);function m(){return E!==null&&E.apply(this,arguments)||this}return m.prototype.getControlGroup=function(){var y=this.props,S=y.model,T=y.graphModel;return(0,A.h)(Io,{model:S,graphModel:T})},m.prototype.getResizeShape=function(){return E.prototype.getShape.call(this)},m.prototype.getShape=function(){var y=this.props.model.isSelected;return(0,A.h)("g",null,this.getResizeShape(),y?this.getControlGroup():"")},m}(A.RectNode),Dn={type:"rect",view:Cs,model:Kn},Jo=Dn,dn=function(){var E=function(m,y){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var I in T)T.hasOwnProperty(I)&&(S[I]=T[I])},E(m,y)};return function(m,y){E(m,y);function S(){this.constructor=m}m.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}}(),Xi=function(E){dn(m,E);function m(y,S){var T=E.call(this,y,S)||this,I=T.properties.nodeSize;return I&&(T.rx=I.rx,T.ry=I.ry),T}return m.prototype.initNodeData=function(y){E.prototype.initNodeData.call(this,y),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},m.prototype.getOutlineStyle=function(){var y=E.prototype.getOutlineStyle.call(this);return y.stroke="none",y.hover&&(y.hover.stroke="none"),y},m.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},m.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},m}(A.EllipseNodeModel),Rs=function(E){dn(m,E);function m(){return E!==null&&E.apply(this,arguments)||this}return m.prototype.getControlGroup=function(){var y=this.props,S=y.model,T=y.graphModel;return(0,A.h)(Io,{model:S,graphModel:T})},m.prototype.getResizeShape=function(){return E.prototype.getShape.call(this)},m.prototype.getShape=function(){var y=this.props.model;return(0,A.h)("g",null,this.getResizeShape(),y.isSelected?this.getControlGroup():"")},m}(A.EllipseNode),Qa={type:"ellipse",view:Rs,model:Xi},qa=Qa,Yi=function(){return Yi=Object.assign||function(E){for(var m,y=1,S=arguments.length;y<S;y++){m=arguments[y];for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(E[T]=m[T])}return E},Yi.apply(this,arguments)};function _a(E){var m=E.fillOpacity,y=m===void 0?1:m,S=E.strokeWidth,T=S===void 0?1:S,I=E.strokeOpacity,K=I===void 0?1:I,ie=E.fill,be=ie===void 0?"transparent":ie,Ee=E.stroke,Te=Ee===void 0?"#000":Ee,Ye=E.points,Qe=E.className,qe=Qe===void 0?"lf-basic-shape":Qe,dt={fill:be,fillOpacity:y,strokeWidth:T,stroke:Te,strokeOpacity:K,points:"",className:qe};return dt.points=Ye.map(function(Lt){return Lt.join(",")}).join(" "),(0,A.h)("polygon",Yi({},dt))}var Aa=function(){var E=function(m,y){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var I in T)T.hasOwnProperty(I)&&(S[I]=T[I])},E(m,y)};return function(m,y){E(m,y);function S(){this.constructor=m}m.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}}(),Wi=function(){return Wi=Object.assign||function(E){for(var m,y=1,S=arguments.length;y<S;y++){m=arguments[y];for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(E[T]=m[T])}return E},Wi.apply(this,arguments)},jn=function(E){Aa(m,E);function m(y,S){var T=E.call(this,y,S)||this,I=T.properties.nodeSize;return I&&(T.rx=I.rx,T.ry=I.ry),T}return m.prototype.initNodeData=function(y){E.prototype.initNodeData.call(this,y),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},m.prototype.getOutlineStyle=function(){var y=E.prototype.getOutlineStyle.call(this);return y.stroke="none",y.hover&&(y.hover.stroke="none"),y},m.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},m.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},m}(A.DiamondNodeModel),nn=function(E){Aa(m,E);function m(){return E!==null&&E.apply(this,arguments)||this}return m.prototype.getControlGroup=function(){var y=this.props,S=y.model,T=y.graphModel;return(0,A.h)(Io,{model:S,graphModel:T})},m.prototype.getResizeShape=function(){var y=this.props.model,S=y.points,T=y.getNodeStyle();return(0,A.h)("g",null,(0,A.h)(_a,Wi({},T,{points:S})))},m.prototype.getShape=function(){var y=this.props.model.isSelected;return(0,A.h)("g",null,this.getResizeShape(),y?this.getControlGroup():"")},m}(A.DiamondNode),eu={type:"diamond",view:nn,model:jn},Ki=eu,pn=function(){var E=function(m,y){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var I in T)T.hasOwnProperty(I)&&(S[I]=T[I])},E(m,y)};return function(m,y){E(m,y);function S(){this.constructor=m}m.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}}(),Xr=function(E){pn(m,E);function m(y,S){var T=E.call(this,y,S)||this,I=T.properties.nodeSize;return I&&(T.width=I.width,T.height=I.height),T}return m.prototype.initNodeData=function(y){E.prototype.initNodeData.call(this,y),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},m.prototype.getOutlineStyle=function(){var y=E.prototype.getOutlineStyle.call(this);return y.stroke="none",y.hover&&(y.hover.stroke="none"),y},m.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},m.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},m}(A.HtmlNodeModel),Vn=function(E){pn(m,E);function m(){return E!==null&&E.apply(this,arguments)||this}return m.prototype.getControlGroup=function(){var y=this.props,S=y.model,T=y.graphModel;return(0,A.h)(Io,{model:S,graphModel:T})},m.prototype.getResizeShape=function(){return E.prototype.getShape.call(this)},m.prototype.getShape=function(){var y=this.props.model.isSelected;return(0,A.h)("g",null,this.getResizeShape(),y?this.getControlGroup():"")},m}(A.HtmlNode),Vi={type:"html",view:Vn,model:Xr},Cn=Vi,Bo={pluginName:"nodeResize",step:0,install:function(E){E.register({type:Jo.type,view:Jo.view,model:Jo.model}),E.register({type:qa.type,view:qa.view,model:qa.model}),E.register({type:Ki.type,view:Ki.view,model:Ki.model}),E.register({type:Cn.type,view:Cn.view,model:Cn.model})}},Lo=null,Na=function(){var E=function(m,y){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var I in T)T.hasOwnProperty(I)&&(S[I]=T[I])},E(m,y)};return function(m,y){E(m,y);function S(){this.constructor=m}m.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}}(),wi=function(){return wi=Object.assign||function(E){for(var m,y=1,S=arguments.length;y<S;y++){m=arguments[y];for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(E[T]=m[T])}return E},wi.apply(this,arguments)},Yr=function(E,m){var y=typeof Symbol=="function"&&E[Symbol.iterator];if(!y)return E;var S=y.call(E),T,I=[],K;try{for(;(m===void 0||m-- >0)&&!(T=S.next()).done;)I.push(T.value)}catch(ie){K={error:ie}}finally{try{T&&!T.done&&(y=S.return)&&y.call(S)}finally{if(K)throw K.error}}return I},Hn=function(){for(var E=[],m=0;m<arguments.length;m++)E=E.concat(Yr(arguments[m]));return E},Gr=500,Fr=300,Zn=function(E){Na(m,E);function m(){var y=E!==null&&E.apply(this,arguments)||this;return y.isGroup=!0,y.unfoldedWidth=Gr,y.unfoldedHight=Fr,y}return m.prototype.initNodeData=function(y){var S=this;E.prototype.initNodeData.call(this,y);var T=[];Array.isArray(y.children)&&(T=y.children),this.children=new Set(T),this.width=Gr,this.height=Fr,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){S.isFolded&&S.foldGroup(S.isFolded)})},m.prototype.getResizeOutlineStyle=function(){var y=E.prototype.getResizeOutlineStyle.call(this);return y.stroke="none",y},m.prototype.foldGroup=function(y){var S=this;this.setProperty("isFolded",y),this.isFolded=y,y?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var T=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(I){var K=S.graphModel.getElement(I);K.visible=!y,T=T.concat(K.incoming.edges.concat(K.outgoing.edges))}),this.foldEdge(y,T)},m.prototype.getAnchorStyle=function(y){var S=E.prototype.getAnchorStyle.call(this,y);return S.stroke="transparent",S.fill="transparent",S.hover.fill="transparent",S.hover.stroke="transparent",S},m.prototype.foldEdge=function(y,S){var T=this;S.forEach(function(I,K){var ie=I.id,be=I.sourceNodeId,Ee=I.targetNodeId,Te=I.startPoint,Ye=I.endPoint,Qe=I.type,qe=I.properties,dt=I.text,Lt={id:ie+"__"+K,sourceNodeId:be,targetNodeId:Ee,startPoint:Te,endPoint:Ye,type:Qe,properties:qe,text:dt==null?void 0:dt.value};I.virtual&&T.graphModel.deleteEdgeById(I.id);var Ht=T.graphModel.group.getNodeGroup(Ee);Ht||(Ht=T.graphModel.getNodeModelById(Ee));var Yt=T.graphModel.group.getNodeGroup(be);Yt||(Yt=T.graphModel.getNodeModelById(be)),y&&I.visible!==!1&&(T.children.has(be)||T.id===be?(Lt.startPoint=void 0,Lt.sourceNodeId=T.id):(Lt.endPoint=void 0,Lt.targetNodeId=T.id),(Ht.id!==T.id||Yt.id!==T.id)&&T.createVirtualEdge(Lt),I.visible=!1),!y&&I.visible===!1&&(Ht&&Ht.isGroup&&Ht.isFolded?(Lt.targetNodeId=Ht.id,Lt.endPoint=void 0,T.createVirtualEdge(Lt)):Yt&&Yt.isGroup&&Yt.isFolded?(Lt.sourceNodeId=Yt.id,Lt.startPoint=void 0,T.createVirtualEdge(Lt)):I.visible=!0)})},m.prototype.createVirtualEdge=function(y){y.pointsList=void 0;var S=this.graphModel.addEdge(y);S.virtual=!0,S.text.editable=!1,S.isFoldedEdge=!0},m.prototype.isInRange=function(y){var S=y.x1,T=y.y1,I=y.x2,K=y.y2;return S>=this.x-this.width/2&&I<=this.x+this.width/2&&T>=this.y-this.height/2&&K<=this.y+this.height/2},m.prototype.isAllowMoveTo=function(y){var S=y.x1,T=y.y1,I=y.x2,K=y.y2;return{x:S>=this.x-this.width/2&&I<=this.x+this.width/2,y:T>=this.y-this.height/2&&K<=this.y+this.height/2}},m.prototype.setAllowAppendChild=function(y){this.setProperty("groupAddable",y)},m.prototype.addChild=function(y){this.children.add(y)},m.prototype.removeChild=function(y){this.children.delete(y)},m.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},m.prototype.getData=function(){var y=E.prototype.getData.call(this);y.children=Hn(this.children);var S=y.properties;return delete S.groupAddable,delete S.isFolded,y},m.prototype.getHistoryData=function(){var y=E.prototype.getData.call(this);y.children=Hn(this.children);var S=y.properties;return delete S.groupAddable,S.isFolded&&(y.x=y.x+this.unfoldedWidth/2-this.foldedWidth/2,y.y=y.y+this.unfoldedHight/2-this.foldedHeight/2),y},m.prototype.isAllowAppendIn=function(y){return!0},m}(Jo.model),Hr=function(E){Na(m,E);function m(){return E!==null&&E.apply(this,arguments)||this}return m.prototype.getControlGroup=function(){var y=this.props.model,S=y.resizable,T=y.properties;return S&&!T.isFolded?E.prototype.getControlGroup.call(this):null},m.prototype.getAddedableShape=function(){var y=this.props.model,S=y.width,T=y.height,I=y.x,K=y.y,ie=y.radius,be=y.properties;if(!be.groupAddable)return null;var Ee=this.props.model.getNodeStyle().strokeWidth,Te=this.props.model.getAddableOutlineStyle(),Ye=S+Ee+8,Qe=T+Ee+8;return(0,A.h)("rect",wi(wi({},Te),{width:Ye,height:Qe,x:I-Ye/2,y:K-Qe/2,rx:ie,ry:ie}))},m.prototype.getFoldIcon=function(){var y=this.props.model,S=y.x-y.width/2+5,T=y.y-y.height/2+5;if(!y.foldable)return null;var I=(0,A.h)("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:y.properties.isFolded?"M "+(S+3)+","+(T+6)+" "+(S+11)+","+(T+6)+" M"+(S+7)+","+(T+2)+" "+(S+7)+","+(T+10):"M "+(S+3)+","+(T+6)+" "+(S+11)+","+(T+6)+" "});return(0,A.h)("g",{},[(0,A.h)("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:y.x-y.width/2+5,y:y.y-y.height/2+5,onClick:function(){y.foldGroup(!y.properties.isFolded)}}),I])},m.prototype.getResizeShape=function(){return(0,A.h)("g",{},[this.getAddedableShape(),E.prototype.getResizeShape.call(this),this.getFoldIcon()])},m}(Jo.view),tu={type:"group",view:Hr,model:Zn},jl=function(){function E(m){var y=this,S=m.lf;this.nodeGroupMap=new Map,this.graphRendered=function(T){T&&T.nodes&&T.nodes.forEach(function(I){I.children&&I.children.forEach(function(K){y.nodeGroupMap.set(K,I.id)})})},this.appendNodeToGroup=function(T){var I=T.data,K=y.nodeGroupMap.get(I.id);if(K){var ie=y.lf.getNodeModelById(K);ie.removeChild(I.id),y.nodeGroupMap.delete(I.id),ie.setAllowAppendChild(!1)}var be=y.lf.getNodeModelById(I.id).getBounds(),Ee=y.getGroup(be);if(!!Ee){var Te=Ee.isAllowAppendIn(I);if(!Te){y.lf.emit("group:not-allowed",{group:Ee.getData(),node:I});return}I.id!==Ee.id?(Ee.addChild(I.id),y.nodeGroupMap.set(I.id,Ee.id),Ee.setAllowAppendChild(!1)):I.children&&I.children.length>0&&I.children.forEach(function(Ye){y.nodeGroupMap.set(Ye,I.id)})}},this.deleteGroupChild=function(T){var I=T.data,K=y.nodeGroupMap.get(I.id);if(K){var ie=y.lf.getNodeModelById(K);ie.removeChild(I.id),y.nodeGroupMap.delete(I.id)}},this.setActiveGroup=function(T){var I=T.data,K=y.lf.getNodeModelById(I.id),ie=K.getBounds(),be=y.getGroup(ie);if(y.activeGroup&&y.activeGroup.setAllowAppendChild(!1),!(K.isGroup&&be.id===I.id)&&be){var Ee=be.isAllowAppendIn(I);if(!Ee)return;y.activeGroup=be,y.activeGroup.setAllowAppendChild(!0)}},S.register(tu),this.lf=S,S.graphModel.addNodeMoveRules(function(T,I,K){if(T.isGroup){var ie=y.getNodeAllChild(T);return S.graphModel.moveNodes(ie,I,K,!0),!0}var be=S.getNodeModelById(y.nodeGroupMap.get(T.id));if(be&&be.isRestrict){var Ee=T.getBounds(),Te=Ee.x1,Ye=Ee.y1,Qe=Ee.x2,qe=Ee.y2,dt=be.isAllowMoveTo({x1:Te+I,y1:Ye+K,x2:Qe+I,y2:qe+K});return dt}return!0}),S.graphModel.group=this,S.on("node:add",this.appendNodeToGroup),S.on("node:delete",this.deleteGroupChild),S.on("node:drop",this.appendNodeToGroup),S.on("node:dnd-drag",this.setActiveGroup),S.on("node:drag",this.setActiveGroup),S.on("graph:rendered",this.graphRendered)}return E.prototype.getNodeAllChild=function(m){var y=this,S=[];return m.children&&m.children.forEach(function(T){S.push(T);var I=y.lf.getNodeModelById(T);I.isGroup&&(S=S.concat(y.getNodeAllChild(I)))}),S},E.prototype.getGroup=function(m){for(var y=this.lf.graphModel.nodes,S=0;S<y.length;S++){var T=y[S];if(T.isGroup&&T.isInRange(m))return T}},E.prototype.getNodeGroup=function(m){var y=this.nodeGroupMap.get(m);if(y)return this.lf.getNodeModelById(y)},E.pluginName="group",E}(),ru=function(E,m){var y=typeof Symbol=="function"&&E[Symbol.iterator];if(!y)return E;var S=y.call(E),T,I=[],K;try{for(;(m===void 0||m-- >0)&&!(T=S.next()).done;)I.push(T.value)}catch(ie){K={error:ie}}finally{try{T&&!T.done&&(y=S.return)&&y.call(S)}finally{if(K)throw K.error}}return I},yo=function(){for(var E=[],m=0;m<arguments.length;m++)E=E.concat(ru(arguments[m]));return E},Jr=function(){function E(m){var y=this,S=m.lf;this.lf=S,this.pathes=[],S.getPathes=function(){if(!y.startNodeType)throw new Error("\u9700\u8981\u9884\u5148\u6307\u5B9A\u5F00\u59CB\u8282\u70B9\u7C7B\u578B");return y.getPathes()},S.setRawPathes=function(T){y.setPathes(T)},S.getRawPathes=function(){return y.pathes},S.setStartNodeType=function(T){y.startNodeType=T}}return E.prototype.setPathes=function(m){this.pathes=m.map(function(y){var S=y.routeId,T=y.name,I=y.elements,K=y.type;return{routeId:S,name:T,elements:I,type:K,similarElement:null,weight:0}})},E.prototype.getPathes=function(){var m=this,y=this.lf.getGraphRawData(),S=new Map,T=[];y.nodes.forEach(function(K){S.set(K.id,{id:K.id,data:K,nextNodes:[]}),K.type===m.startNodeType&&T.push(K.id)}),y.edges.forEach(function(K){var ie=S.get(K.sourceNodeId);ie.nextNodes.push(K.targetNodeId)});var I=[];return T.forEach(function(K){I=I.concat(m.findPathElements(S.get(K),S,[]))}),this.getNewPathes(I)},E.prototype.findPathElements=function(m,y,S){S===void 0&&(S=[]);var T=yo(S);if(T.push(m.id),m.nextNodes.length===0)return[T];for(var I=[],K=0;K<m.nextNodes.length;K++){var ie=y.get(m.nextNodes[K]),be=void 0,Ee=T.indexOf(ie.id);Ee!==-1?be=[yo(T.slice(Ee),[ie.id])]:be=this.findPathElements(ie,y,yo(T)),I=I.concat(be)}return I},E.prototype.getNewPathes=function(m){var y=this,S=[],T=new Set;m.forEach(function(K){var ie=y.getNewId("path"),be=y.getNewId("\u8DEF\u5F84"),Ee=y.isLoopPath(K),Te=K.join(",");T.has(Te)||(T.add(Te),S.push({routeId:ie,name:be,elements:K,type:Ee,weight:0,similarElement:""}))});var I=JSON.parse(JSON.stringify(this.pathes));return S.forEach(function(K){for(var ie=0;ie<I.length;ie++){var be=I[ie],Ee=y.similar2Path(yo(K.elements),yo(be.elements));Ee>K.weight&&be.weight<=Ee&&(K.weight=Ee,K.similarElement=be,Ee===be.weight&&be.similarElement?(be.similarElement.similarElement=null,be.similarElement.weight=0,be.similarElement=null,be.weight=0):(be.similarElement=K,be.weight=Ee))}}),S.forEach(function(K){K.similarElement&&K.similarElement.similarElement===K&&(K.routeId=K.similarElement.routeId,K.name=K.similarElement.name),delete K.similarElement,delete K.weight}),this.setPathes(S),S},E.prototype.similar2Path=function(m,y){var S=0,T=m.length+y.length;m.sort(),y.sort();for(var I=m.shift(),K=y.shift();I!==void 0&&K!==void 0;)I===K?(S++,I=m.shift(),K=y.shift()):I<K?I=m.shift():I>K&&(K=y.shift());return S/T*200},E.prototype.getNewId=function(m){return m+"_"+w()},E.prototype.isLoopPath=function(m){var y=m.length;return m.indexOf(m[y-1])!==y-1?1:0},E.pluginName="flowPath",E}(),Qo=function(){return Qo=Object.assign||function(E){for(var m,y=1,S=arguments.length;y<S;y++){m=arguments[y];for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(E[T]=m[T])}return E},Qo.apply(this,arguments)},ar={LEFT_TOP:-1,LEFT:0,LEFT_BOTTOM:1},qo=function(){function E(m){var y=this,S=m.lf;this.lf=S,this.trunk=[],S.layout=function(T){var I=y.lf.getGraphRawData();y.lf.setStartNodeType(T);var K=y.lf.getPathes();return y.levelHeight=[],y.newNodeMap=new Map,y.layout(I,K)}}return E.prototype.layout=function(m,y){var S=this,T=[];y.forEach(function(be){var Ee=be.elements;Ee.length>T.length?T=Ee:Ee.length===T.length&&JSON.stringify(Ee)===JSON.stringify(S.trunk)&&(T=S.trunk)}),this.trunk=T;for(var I=this.formatData(m),K={nodes:[],edges:[]},ie=T.length-1;ie>=0;ie--)this.setNodePosition(T[ie],I,K,ie,1);this.lf.graphModel.graphDataToModel(K)},E.prototype.setNodePosition=function(m,y,S,T,I){var K=this,ie=y[m],be=ie.text,Ee=ie.type,Te=ie.next,Ye=ie.properties,Qe=T*160+40,qe=I*120,dt={id:m,x:Qe,text:be,y:qe,type:Ee,properties:Ye};return be&&typeof be=="object"&&(dt.text=Qo(Qo({},be),{x:Qe+be.x,y:qe+be.y})),this.newNodeMap.set(dt.id,{x:dt.x,y:dt.y,type:Ee}),S.nodes.push(dt),ie.isFixed=!0,this.addLevelHeight(T,1),Te&&Te.length>0&&Te.forEach(function(Lt){var Ht=y[Lt.nodeId];if(!Ht.isFixed){var Yt=K.getLevelHeight(T+1);K.addLevelHeight(T,1),K.setNodePosition(Lt.nodeId,y,S,T+1,Yt+1)}S.edges.push(Qo({id:Lt.edgeId,type:Lt.edgeType,sourceNodeId:m,targetNodeId:Lt.nodeId,properties:Lt.properties,text:Lt.text},K.getEdgeDataPoints(m,Lt.nodeId)))}),dt},E.prototype.getEdgeDataPoints=function(m,y){var S=this.newNodeMap.get(m),T=this.newNodeMap.get(y),I=this.getShape(m),K=I.width,ie=I.height,be=this.getShape(y),Ee=be.width,Te=be.height,Ye=this.getRelativePosition(S,T),Qe={x:S.x,y:S.y},qe={x:T.x,y:T.y};switch(Ye){case ar.LEFT:Qe.x=S.x+K/2,qe.x=T.x-Ee/2;break;case ar.LEFT_TOP:Qe.y=S.y+ie/2,qe.x=T.x-Ee/2;break;case ar.LEFT_BOTTOM:Qe.x=S.x+K/2,qe.y=T.y+Te/2;break;default:break}return{startPoint:Qe,endPoint:qe}},E.prototype.getRelativePosition=function(m,y){var S=m.y,T=y.y,I;return S<T?I=-1:S===T?I=0:I=1,I},E.prototype.getShape=function(m){var y=this.lf.getNodeModelById(m);return{height:y.height,width:y.width}},E.prototype.formatData=function(m){var y=m.nodes.reduce(function(S,T){var I=T.type,K=T.properties,ie=T.text,be=T.x,Ee=T.y;return ie&&typeof ie=="object"&&(ie.x=ie.x-be,ie.y=ie.y-Ee),S[T.id]={type:I,properties:K,text:ie,prev:[],next:[]},S},{});return m.edges.forEach(function(S){var T=S.sourceNodeId,I=S.targetNodeId,K=S.id,ie=S.properties,be=S.text,Ee=be;typeof be=="object"&&(Ee=be.value),y[T].next.push({edgeId:K,nodeId:I,edgeType:S.type,properties:ie,text:Ee}),y[I].prev.push({edgeId:K,nodeId:T,properties:ie,text:Ee})}),y},E.prototype.addLevelHeight=function(m,y,S){y===void 0&&(y=1),S===void 0&&(S=!1);var T=this.levelHeight[m];T||(T={positiveHeight:0,negativeHeight:0},this.levelHeight[m]=T),S?T.negativeHeight-=y:T.positiveHeight+=y},E.prototype.getLevelHeight=function(m,y){y===void 0&&(y=!1);var S=this.levelHeight[m];return S?y?S.negativeHeight:S.positiveHeight:0},E.pluginName="AutoLayout",E}(),Ai=function(){return Ai=Object.assign||function(E){for(var m,y=1,S=arguments.length;y<S;y++){m=arguments[y];for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(E[T]=m[T])}return E},Ai.apply(this,arguments)},_o=function(E,m){var y=typeof Symbol=="function"&&E[Symbol.iterator];if(!y)return E;var S=y.call(E),T,I=[],K;try{for(;(m===void 0||m-- >0)&&!(T=S.next()).done;)I.push(T.value)}catch(ie){K={error:ie}}finally{try{T&&!T.done&&(y=S.return)&&y.call(S)}finally{if(K)throw K.error}}return I},fr=function(){for(var E=[],m=0;m<arguments.length;m++)E=E.concat(_o(arguments[m]));return E},Zi=function(E,m){var y=m.getModelById(E);return nu(y.BaseType==="node"?y:y.targetNode,m)},nu=function(E,m){var y=[],S=[],T=function(K,ie,be){if(be===void 0&&(be=null),be&&ie.unshift.apply(ie,fr(m.getEdgeModels({sourceNodeId:K.id,targetNodeId:be.id}).map(function(Ee){return Ee.id}))),ie.includes(K.id)){y.push(ie);return}if(ie.unshift(K.id),!K.incoming.nodes.length){y.push(ie);return}K.incoming.nodes.forEach(function(Ee){T(Ee,ie.slice(),K)})},I=function(K,ie,be){if(be===void 0&&(be=null),be&&ie.push.apply(ie,fr(m.getEdgeModels({sourceNodeId:be.id,targetNodeId:K.id}).map(function(Ee){return Ee.id}))),ie.includes(K.id)){S.push(ie);return}if(ie.push(K.id),!K.outgoing.nodes.length){S.push(ie);return}K.outgoing.nodes.forEach(function(Ee){I(Ee,ie.slice(),K)})};return T(E,[]),I(E,[]),fr(new Set(fr(y.flat(),S.flat())))},uo=function(){function E(m){var y=m.lf;this.mode="path",this.manual=!1,this.tempStyles={},this.lf=y}return E.prototype.setMode=function(m){this.mode=m},E.prototype.setManual=function(m){this.manual=m},E.prototype.highlightSingle=function(m){var y=this.lf.getModelById(m);y.BaseType==="node"?y.updateStyles(this.tempStyles[m]):y.BaseType==="edge"&&(y.updateStyles(this.tempStyles[m]),y.sourceNode.updateStyles(this.tempStyles[y.sourceNode.id]),y.targetNode.updateStyles(this.tempStyles[y.targetNode.id]))},E.prototype.highlightPath=function(m){var y=this,S=Zi(m,this.lf);S.forEach(function(T){y.lf.getModelById(T).updateStyles(y.tempStyles[T])})},E.prototype.highlight=function(m,y){var S=this;if(y===void 0&&(y=this.mode),!this.manual){Object.keys(this.tempStyles).length&&this.restoreHighlight(),Object.values(this.lf.graphModel.modelsMap).forEach(function(I){var K=I.BaseType==="node"?I.getNodeStyle():I.getEdgeStyle();S.tempStyles[I.id]=Ai({},K),I.setStyles({opacity:.1})});var T={single:this.highlightSingle.bind(this),path:this.highlightPath.bind(this)};T[y](m)}},E.prototype.restoreHighlight=function(){var m=this;!Object.keys(this.tempStyles).length||(Object.values(this.lf.graphModel.modelsMap).forEach(function(y){var S,T=(S=m.tempStyles[y.id])!==null&&S!==void 0?S:{};y.updateStyles(Ai({},T))}),this.tempStyles={})},E.prototype.render=function(m,y){var S=this;this.lf.on("node:mouseenter",function(T){var I=T.data;return S.highlight(I.id)}),this.lf.on("edge:mouseenter",function(T){var I=T.data;return S.highlight(I.id)}),this.lf.on("node:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("edge:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("history:change",this.restoreHighlight.bind(this))},E.prototype.destroy=function(){},E.pluginName="highlight",E}()},87499:function(Tn,rr){(function(A,u){if(!0)Tn.exports=u();else var v,c})(window,function(){return function(x){var A={};function u(v){if(A[v])return A[v].exports;var c=A[v]={i:v,l:!1,exports:{}};return x[v].call(c.exports,c,c.exports,u),c.l=!0,c.exports}return u.m=x,u.c=A,u.d=function(v,c,b){u.o(v,c)||Object.defineProperty(v,c,{enumerable:!0,get:b})},u.r=function(v){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},u.t=function(v,c){if(c&1&&(v=u(v)),c&8||c&4&&typeof v=="object"&&v&&v.__esModule)return v;var b=Object.create(null);if(u.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:v}),c&2&&typeof v!="string")for(var M in v)u.d(b,M,function(w){return v[w]}.bind(null,M));return b},u.n=function(v){var c=v&&v.__esModule?function(){return v.default}:function(){return v};return u.d(c,"a",c),c},u.o=function(v,c){return Object.prototype.hasOwnProperty.call(v,c)},u.p="",u(u.s=215)}([function(x,A,u){"use strict";(function(v,c){u.d(A,"a",function(){return re}),u.d(A,"b",function(){return _o}),u.d(A,"c",function(){return Ln}),u.d(A,"d",function(){return Se}),u.d(A,"e",function(){return bt}),u.d(A,"f",function(){return Nt}),u.d(A,"g",function(){return wl}),u.d(A,"h",function(){return Ye}),u.d(A,"i",function(){return G}),u.d(A,"j",function(){return ba}),u.d(A,"k",function(){return en}),u.d(A,"l",function(){return zr}),u.d(A,"m",function(){return ot}),u.d(A,"n",function(){return Va}),u.d(A,"o",function(){return Re}),u.d(A,"p",function(){return dn}),u.d(A,"q",function(){return xi}),u.d(A,"r",function(){return Za}),u.d(A,"s",function(){return Te}),u.d(A,"t",function(){return Ko}),u.d(A,"u",function(){return Pa}),u.d(A,"v",function(){return Zo}),u.d(A,"w",function(){return Io}),u.d(A,"x",function(){return Kn}),u.d(A,"y",function(){return ar}),u.d(A,"z",function(){return fr}),u.d(A,"A",function(){return Ee}),u.d(A,"B",function(){return Dn}),u.d(A,"C",function(){return Ft}),u.d(A,"D",function(){return Yi}),u.d(A,"E",function(){return fn}),u.d(A,"F",function(){return Si}),u.d(A,"G",function(){return Wa}),u.d(A,"H",function(){return Nn}),u.d(A,"I",function(){return eu}),u.d(A,"J",function(){return Xr}),u.d(A,"K",function(){return Ke}),u.d(A,"L",function(){return Jo}),u.d(A,"M",function(){return Vn});var b="An invariant failed, however the error is obfuscated because this is a production build.",M=[];Object.freeze(M);var w={};Object.freeze(w);function C(){return++Je.mobxGuid}function j(s){throw L(!1,s),"X"}function L(s,f){if(!s)throw new Error("[mobx] "+(f||b))}var F=[];function Y(s,f){return!1}function U(s){var f=!1;return function(){if(!f)return f=!0,s.apply(this,arguments)}}var W=function(){};function ee(s){var f=[];return s.forEach(function(h){f.indexOf(h)===-1&&f.push(h)}),f}function ae(s){return s!==null&&typeof s=="object"}function q(s){if(s===null||typeof s!="object")return!1;var f=Object.getPrototypeOf(s);return f===Object.prototype||f===null}function Me(s){if(te(s)||fr(s))return s;if(Array.isArray(s))return new Map(s);if(q(s)){var f=new Map;for(var h in s)f.set(h,s[h]);return f}else return j("Cannot convert to map from '"+s+"'")}function ye(s,f,h){Object.defineProperty(s,f,{enumerable:!1,writable:!0,configurable:!0,value:h})}function me(s,f,h){Object.defineProperty(s,f,{enumerable:!1,writable:!1,configurable:!0,value:h})}function le(s,f){var h=Object.getOwnPropertyDescriptor(s,f);return!h||h.configurable!==!1&&h.writable!==!1}function Oe(s,f){}function ue(s,f){var h="isMobX"+s;return f.prototype[h]=!0,function(D){return ae(D)&&D[h]===!0}}function ve(s){return Array.isArray(s)||ar(s)}function te(s){return s instanceof Map}function z(s){return s instanceof Set}function Q(s){var f=new Set;for(var h in s)f.add(h);return Object.getOwnPropertySymbols(s).forEach(function(D){Object.getOwnPropertyDescriptor(s,D).enumerable&&f.add(D)}),Array.from(f)}function oe(s){return s&&s.toString?s.toString():new String(s).toString()}function se(s){return s===null?null:typeof s=="object"?""+s:s}var ce=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(s){return Object.getOwnPropertyNames(s).concat(Object.getOwnPropertySymbols(s))}:Object.getOwnPropertyNames,re=Symbol("mobx administration"),de=function(){function s(f){f===void 0&&(f="Atom@"+C()),this.name=f,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=$e.NOT_TRACKING}return s.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(f){return f()})},s.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(f){return f()})},s.prototype.reportObserved=function(){return po(this)},s.prototype.reportChanged=function(){kr(),Dr(this),Zr()},s.prototype.toString=function(){return this.name},s}(),Ce=ue("Atom",de);function Re(s,f,h){f===void 0&&(f=W),h===void 0&&(h=W);var D=new de(s);return f!==W&&Ta(D,f),h!==W&&fn(D,h),D}function He(s,f){return s===f}function Ve(s,f){return dt(s,f)}function it(s,f){return dt(s,f,1)}function yt(s,f){return Object.is(s,f)}var ht={identity:He,structural:Ve,default:yt,shallow:it};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Be=function(s,f){return Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,D){h.__proto__=D}||function(h,D){for(var H in D)D.hasOwnProperty(H)&&(h[H]=D[H])},Be(s,f)};function et(s,f){Be(s,f);function h(){this.constructor=s}s.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}var tt=function(){return tt=Object.assign||function(f){for(var h,D=1,H=arguments.length;D<H;D++){h=arguments[D];for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(f[_]=h[_])}return f},tt.apply(this,arguments)};function Ue(s){var f=typeof Symbol=="function"&&s[Symbol.iterator],h=0;return f?f.call(s):{next:function(){return s&&h>=s.length&&(s=void 0),{value:s&&s[h++],done:!s}}}}function V(s,f){var h=typeof Symbol=="function"&&s[Symbol.iterator];if(!h)return s;var D=h.call(s),H,_=[],ge;try{for(;(f===void 0||f-- >0)&&!(H=D.next()).done;)_.push(H.value)}catch(ze){ge={error:ze}}finally{try{H&&!H.done&&(h=D.return)&&h.call(D)}finally{if(ge)throw ge.error}}return _}function Z(){for(var s=[],f=0;f<arguments.length;f++)s=s.concat(V(arguments[f]));return s}var ne=Symbol("mobx did run lazy initializers"),we=Symbol("mobx pending decorators"),Ge={},Pe={};function pt(s,f){var h=f?Ge:Pe;return h[s]||(h[s]={configurable:!0,enumerable:f,get:function(){return st(this),this[s]},set:function(D){st(this),this[s]=D}})}function st(s){var f,h;if(s[ne]!==!0){var D=s[we];if(D){ye(s,ne,!0);var H=Z(Object.getOwnPropertySymbols(D),Object.keys(D));try{for(var _=Ue(H),ge=_.next();!ge.done;ge=_.next()){var ze=ge.value,_e=D[ze];_e.propertyCreator(s,_e.prop,_e.descriptor,_e.decoratorTarget,_e.decoratorArguments)}}catch(Rt){f={error:Rt}}finally{try{ge&&!ge.done&&(h=_.return)&&h.call(_)}finally{if(f)throw f.error}}}}}function ft(s,f){return function(){var D,H=function(ge,ze,_e,Rt){if(Rt===!0)return f(ge,ze,_e,ge,D),null;if(!Object.prototype.hasOwnProperty.call(ge,we)){var wt=ge[we];ye(ge,we,tt({},wt))}return ge[we][ze]={prop:ze,propertyCreator:f,descriptor:_e,decoratorTarget:ge,decoratorArguments:D},pt(ze,s)};return mt(arguments)?(D=M,H.apply(null,arguments)):(D=Array.prototype.slice.call(arguments),H)}}function mt(s){return(s.length===2||s.length===3)&&(typeof s[1]=="string"||typeof s[1]=="symbol")||s.length===4&&s[3]===!0}function De(s,f,h){return Kn(s)?s:Array.isArray(s)?Ft.array(s,{name:h}):q(s)?Ft.object(s,void 0,{name:h}):te(s)?Ft.map(s,{name:h}):z(s)?Ft.set(s,{name:h}):s}function jt(s,f,h){return s==null||Ee(s)||ar(s)||fr(s)||E(s)?s:Array.isArray(s)?Ft.array(s,{name:h,deep:!1}):q(s)?Ft.object(s,void 0,{name:h,deep:!1}):te(s)?Ft.map(s,{name:h,deep:!1}):z(s)?Ft.set(s,{name:h,deep:!1}):j(!1)}function at(s){return s}function ut(s,f,h){return dt(s,f)?f:s}function vt(s){L(s);var f=ft(!0,function(D,H,_,ge,ze){var _e=_?_.initializer?_.initializer.call(D):_.value:void 0;y(D).addObservableProp(H,_e,s)}),h=(typeof v!="undefined"&&v.env,f);return h.enhancer=s,h}var Ut={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Ut);function Bt(s){/^(deep|name|equals|defaultDecorator|proxy)$/.test(s)||j("invalid option for (extend)observable: "+s)}function At(s){return s==null?Ut:typeof s=="string"?{name:s,deep:!0,proxy:!0}:s}var It=vt(De),Qt=vt(jt),Gt=vt(at),or=vt(ut);function gr(s){return s.defaultDecorator?s.defaultDecorator.enhancer:s.deep===!1?at:De}function pr(s,f,h){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return It.apply(null,arguments);if(Kn(s))return s;var D=q(s)?Ft.object(s,f,h):Array.isArray(s)?Ft.array(s,f):te(s)?Ft.map(s,f):z(s)?Ft.set(s,f):s;if(D!==s)return D;j(!1)}var sr={box:function(s,f){arguments.length>2&&kt("box");var h=At(f);return new rn(s,gr(h),h.name,!0,h.equals)},array:function(s,f){arguments.length>2&&kt("array");var h=At(f);return ru(s,gr(h),h.name)},map:function(s,f){arguments.length>2&&kt("map");var h=At(f);return new _o(s,gr(h),h.name)},set:function(s,f){arguments.length>2&&kt("set");var h=At(f);return new uo(s,gr(h),h.name)},object:function(s,f,h){typeof arguments[1]=="string"&&kt("object");var D=At(h);if(D.proxy===!1)return xi({},s,f,D);var H=wa(D),_=xi({},void 0,void 0,D),ge=wi(_);return ho(ge,s,f,H),ge},ref:Gt,shallow:Qt,deep:It,struct:or},Ft=pr;Object.keys(sr).forEach(function(s){return Ft[s]=sr[s]});function kt(s){j("Expected one or two arguments to observable."+s+". Did you accidentally try to use observable."+s+" as decorator?")}var nr=ft(!1,function(s,f,h,D,H){var _=h.get,ge=h.set,ze=H[0]||{};y(s).addComputedProp(s,f,tt({get:_,set:ge,context:s},ze))}),We=nr({equals:ht.structural}),ot=function(f,h,D){if(typeof h=="string"||f!==null&&typeof f=="object"&&arguments.length===1)return nr.apply(null,arguments);var H=typeof h=="object"?h:{};return H.get=f,H.set=typeof h=="function"?h:H.set,H.name=H.name||f.name||"",new Xn(H)};ot.struct=We;var $e;(function(s){s[s.NOT_TRACKING=-1]="NOT_TRACKING",s[s.UP_TO_DATE=0]="UP_TO_DATE",s[s.POSSIBLY_STALE=1]="POSSIBLY_STALE",s[s.STALE=2]="STALE"})($e||($e={}));var ct;(function(s){s[s.NONE=0]="NONE",s[s.LOG=1]="LOG",s[s.BREAK=2]="BREAK"})(ct||(ct={}));var xt=function(){function s(f){this.cause=f}return s}();function Dt(s){return s instanceof xt}function k(s){switch(s.dependenciesState){case $e.UP_TO_DATE:return!1;case $e.NOT_TRACKING:case $e.STALE:return!0;case $e.POSSIBLY_STALE:{for(var f=Nt(!0),h=Xe(),D=s.observing,H=D.length,_=0;_<H;_++){var ge=D[_];if(no(ge)){if(Je.disableErrorBoundaries)ge.get();else try{ge.get()}catch(ze){return nt(h),bt(f),!0}if(s.dependenciesState===$e.STALE)return nt(h),bt(f),!0}}return cr(s),nt(h),bt(f),!1}}}function G(){return Je.trackingDerivation!==null}function g(s){var f=s.observers.size>0;Je.computationDepth>0&&f&&j(!1),!Je.allowStateChanges&&(f||Je.enforceActions==="strict")&&j(!1)}function P(s){}function R(s,f,h){var D=Nt(!0);cr(s),s.newObserving=new Array(s.observing.length+100),s.unboundDepsCount=0,s.runId=++Je.runId;var H=Je.trackingDerivation;Je.trackingDerivation=s;var _;if(Je.disableErrorBoundaries===!0)_=f.call(h);else try{_=f.call(h)}catch(ge){_=new xt(ge)}return Je.trackingDerivation=H,je(s),X(s),bt(D),_}function X(s){}function je(s){for(var f=s.observing,h=s.observing=s.newObserving,D=$e.UP_TO_DATE,H=0,_=s.unboundDepsCount,ge=0;ge<_;ge++){var ze=h[ge];ze.diffValue===0&&(ze.diffValue=1,H!==ge&&(h[H]=ze),H++),ze.dependenciesState>D&&(D=ze.dependenciesState)}for(h.length=H,s.newObserving=null,_=f.length;_--;){var ze=f[_];ze.diffValue===0&&$a(ze,s),ze.diffValue=0}for(;H--;){var ze=h[H];ze.diffValue===1&&(ze.diffValue=0,$i(ze,s))}D!==$e.UP_TO_DATE&&(s.dependenciesState=D,s.onBecomeStale())}function Ae(s){var f=s.observing;s.observing=[];for(var h=f.length;h--;)$a(f[h],s);s.dependenciesState=$e.NOT_TRACKING}function Ke(s){var f=Xe();try{return s()}finally{nt(f)}}function Xe(){var s=Je.trackingDerivation;return Je.trackingDerivation=null,s}function nt(s){Je.trackingDerivation=s}function Nt(s){var f=Je.allowStateReads;return Je.allowStateReads=s,f}function bt(s){Je.allowStateReads=s}function cr(s){if(s.dependenciesState!==$e.UP_TO_DATE){s.dependenciesState=$e.UP_TO_DATE;for(var f=s.observing,h=f.length;h--;)f[h].lowestObserverState=$e.UP_TO_DATE}}var ir=0,Rr=1,Ur=Object.getOwnPropertyDescriptor(function(){},"name"),sn=Ur&&Ur.configurable;function $r(s,f,h){var D=function(){return Ui(s,f,h||this,arguments)};return D.isMobxAction=!0,D}function Ui(s,f,h,D){var H=ba(s,h,D);try{return f.apply(h,D)}catch(_){throw H.error=_,_}finally{wl(H)}}function ba(s,f,h){var D=yr()&&!!s,H=0;if(D,!1){var _,ge;if(_>0)for(var ze;ze<_;ze++);}var _e=Xe();kr();var Rt=co(!0),wt=Nt(!0),Xt={prevDerivation:_e,prevAllowStateChanges:Rt,prevAllowStateReads:wt,notifySpy:D,startTime:H,actionId:Rr++,parentActionId:ir};return ir=Xt.actionId,Xt}function wl(s){ir!==s.actionId&&j("invalid action stack. did you forget to finish an action?"),ir=s.parentActionId,s.error!==void 0&&(Je.suppressReactionErrors=!0),wn(s.prevAllowStateChanges),bt(s.prevAllowStateReads),Zr(),nt(s.prevDerivation),s.notifySpy,Je.suppressReactionErrors=!1}function Se(s,f){var h=co(s),D;try{D=f()}finally{wn(h)}return D}function co(s){var f=Je.allowStateChanges;return Je.allowStateChanges=s,f}function wn(s){Je.allowStateChanges=s}function Ua(s){var f=Je.computationDepth;Je.computationDepth=0;var h;try{h=s()}finally{Je.computationDepth=f}return h}var rn=function(s){et(f,s);function f(h,D,H,_,ge){H===void 0&&(H="ObservableValue@"+C()),_===void 0&&(_=!0),ge===void 0&&(ge=ht.default);var ze=s.call(this,H)||this;return ze.enhancer=D,ze.name=H,ze.equals=ge,ze.hasUnreportedChange=!1,ze.value=D(h,void 0,H),_&&yr(),ze}return f.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},f.prototype.set=function(h){var D=this.value;if(h=this.prepareNewValue(h),h!==Je.UNCHANGED){var H=yr();this.setNewValue(h)}},f.prototype.prepareNewValue=function(h){if(g(this),Yr(this)){var D=Gr(this,{object:this,type:"update",newValue:h});if(!D)return Je.UNCHANGED;h=D.newValue}return h=this.enhancer(h,this.value,this.name),this.equals(this.value,h)?Je.UNCHANGED:h},f.prototype.setNewValue=function(h){var D=this.value;this.value=h,this.reportChanged(),Fr(this)&&Hr(this,{type:"update",object:this,newValue:h,oldValue:D})},f.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},f.prototype.intercept=function(h){return Hn(this,h)},f.prototype.observe=function(h,D){return D&&h({object:this,type:"update",newValue:this.value,oldValue:void 0}),Zn(this,h)},f.prototype.toJSON=function(){return this.get()},f.prototype.toString=function(){return this.name+"["+this.value+"]"},f.prototype.valueOf=function(){return se(this.get())},f.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},f}(de),Oa=ue("ObservableValue",rn),Xn=function(){function s(f){this.dependenciesState=$e.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=$e.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+C(),this.value=new xt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ct.NONE,L(f.get,"missing option for computed: get"),this.derivation=f.get,this.name=f.name||"ComputedValue@"+C(),f.set&&(this.setter=$r(this.name+"-setter",f.set)),this.equals=f.equals||(f.compareStructural||f.struct?ht.structural:ht.default),this.scope=f.context,this.requiresReaction=!!f.requiresReaction,this.keepAlive=!!f.keepAlive}return s.prototype.onBecomeStale=function(){Xa(this)},s.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(f){return f()})},s.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(f){return f()})},s.prototype.get=function(){this.isComputing&&j("Cycle detected in computation "+this.name+": "+this.derivation),Je.inBatch===0&&this.observers.size===0&&!this.keepAlive?k(this)&&(this.warnAboutUntrackedRead(),kr(),this.value=this.computeValue(!1),Zr()):(po(this),k(this)&&this.trackAndCompute()&&Ea(this));var f=this.value;if(Dt(f))throw f.cause;return f},s.prototype.peek=function(){var f=this.computeValue(!1);if(Dt(f))throw f.cause;return f},s.prototype.set=function(f){if(this.setter){L(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,f)}finally{this.isRunningSetter=!1}}else L(!1,!1)},s.prototype.trackAndCompute=function(){yr();var f=this.value,h=this.dependenciesState===$e.NOT_TRACKING,D=this.computeValue(!0),H=h||Dt(f)||Dt(D)||!this.equals(f,D);return H&&(this.value=D),H},s.prototype.computeValue=function(f){this.isComputing=!0,Je.computationDepth++;var h;if(f)h=R(this,this.derivation,this.scope);else if(Je.disableErrorBoundaries===!0)h=this.derivation.call(this.scope);else try{h=this.derivation.call(this.scope)}catch(D){h=new xt(D)}return Je.computationDepth--,this.isComputing=!1,h},s.prototype.suspend=function(){this.keepAlive||(Ae(this),this.value=void 0)},s.prototype.observe=function(f,h){var D=this,H=!0,_=void 0;return zr(function(){var ge=D.get();if(!H||h){var ze=Xe();f({type:"update",object:D,newValue:ge,oldValue:_}),nt(ze)}H=!1,_=ge})},s.prototype.warnAboutUntrackedRead=function(){},s.prototype.toJSON=function(){return this.get()},s.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},s.prototype.valueOf=function(){return se(this.get())},s.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},s}(),no=ue("ComputedValue",Xn),ws=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED"],Yn=function(){function s(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return s}(),Al={};function ko(){return typeof window!="undefined"?window:typeof c!="undefined"?c:typeof self!="undefined"?self:Al}var Xo=!0,Nl=!1,Je=function(){var s=ko();return s.__mobxInstanceCount>0&&!s.__mobxGlobals&&(Xo=!1),s.__mobxGlobals&&s.__mobxGlobals.version!==new Yn().version&&(Xo=!1),Xo?s.__mobxGlobals?(s.__mobxInstanceCount+=1,s.__mobxGlobals.UNCHANGED||(s.__mobxGlobals.UNCHANGED={}),s.__mobxGlobals):(s.__mobxInstanceCount=1,s.__mobxGlobals=new Yn):(setTimeout(function(){Nl||j("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Yn)}();function As(){(Je.pendingReactions.length||Je.inBatch||Je.isRunningReactions)&&j("isolateGlobalState should be called before MobX is running any reactions"),Nl=!0,Xo&&(--ko().__mobxInstanceCount==0&&(ko().__mobxGlobals=void 0),Je=new Yn)}function Rd(){return Je}function Id(){var s=new Yn;for(var f in s)ws.indexOf(f)===-1&&(Je[f]=s[f]);Je.allowStateChanges=!Je.enforceActions}function fc(s){return s.observers&&s.observers.size>0}function Dl(s){return s.observers}function $i(s,f){s.observers.add(f),s.lowestObserverState>f.dependenciesState&&(s.lowestObserverState=f.dependenciesState)}function $a(s,f){s.observers.delete(f),s.observers.size===0&&ka(s)}function ka(s){s.isPendingUnobservation===!1&&(s.isPendingUnobservation=!0,Je.pendingUnobservations.push(s))}function kr(){Je.inBatch++}function Zr(){if(--Je.inBatch==0){An();for(var s=Je.pendingUnobservations,f=0;f<s.length;f++){var h=s[f];h.isPendingUnobservation=!1,h.observers.size===0&&(h.isBeingObserved&&(h.isBeingObserved=!1,h.onBecomeUnobserved()),h instanceof Xn&&h.suspend())}Je.pendingUnobservations=[]}}function po(s){P(s);var f=Je.trackingDerivation;return f!==null?(f.runId!==s.lastAccessedBy&&(s.lastAccessedBy=f.runId,f.newObserving[f.unboundDepsCount++]=s,s.isBeingObserved||(s.isBeingObserved=!0,s.onBecomeObserved())),!0):(s.observers.size===0&&Je.inBatch>0&&ka(s),!1)}function Dr(s){s.lowestObserverState!==$e.STALE&&(s.lowestObserverState=$e.STALE,s.observers.forEach(function(f){f.dependenciesState===$e.UP_TO_DATE&&(f.isTracing!==ct.NONE&&vo(f,s),f.onBecomeStale()),f.dependenciesState=$e.STALE}))}function Ea(s){s.lowestObserverState!==$e.STALE&&(s.lowestObserverState=$e.STALE,s.observers.forEach(function(f){f.dependenciesState===$e.POSSIBLY_STALE?f.dependenciesState=$e.STALE:f.dependenciesState===$e.UP_TO_DATE&&(s.lowestObserverState=$e.UP_TO_DATE)}))}function Xa(s){s.lowestObserverState===$e.UP_TO_DATE&&(s.lowestObserverState=$e.POSSIBLY_STALE,s.observers.forEach(function(f){f.dependenciesState===$e.UP_TO_DATE&&(f.dependenciesState=$e.POSSIBLY_STALE,f.isTracing!==ct.NONE&&vo(f,s),f.onBecomeStale())}))}function vo(s,f){if(console.log("[mobx.trace] '"+s.name+"' is invalidated due to a change in: '"+f.name+"'"),s.isTracing===ct.BREAK){var h=[];xn(Ko(s),h,1),new Function(`debugger;
/*
Tracing '`+s.name+`'

You are entering this break point because derivation '`+s.name+"' is being traced and '"+f.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(s instanceof Xn?s.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+h.join(`
`)+`
*/
    `)()}}function xn(s,f,h){if(f.length>=1e3){f.push("(and many more)");return}f.push(""+new Array(h).join("	")+s.name),s.dependencies&&s.dependencies.forEach(function(D){return xn(D,f,h+1)})}var Ln=function(){function s(f,h,D,H){f===void 0&&(f="Reaction@"+C()),H===void 0&&(H=!1),this.name=f,this.onInvalidate=h,this.errorHandler=D,this.requiresObservable=H,this.observing=[],this.newObserving=[],this.dependenciesState=$e.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+C(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ct.NONE}return s.prototype.onBecomeStale=function(){this.schedule()},s.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Je.pendingReactions.push(this),An())},s.prototype.isScheduled=function(){return this._isScheduled},s.prototype.runReaction=function(){if(!this.isDisposed){if(kr(),this._isScheduled=!1,k(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&yr()}catch(f){this.reportExceptionInDerivation(f)}}Zr()}},s.prototype.track=function(f){if(!this.isDisposed){kr();var h=yr(),D;this._isRunning=!0;var H=R(this,f,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Ae(this),Dt(H)&&this.reportExceptionInDerivation(H.cause),Zr()}},s.prototype.reportExceptionInDerivation=function(f){var h=this;if(this.errorHandler){this.errorHandler(f,this);return}if(Je.disableErrorBoundaries)throw f;var D="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Je.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(D,f),yr()&&zn({type:"error",name:this.name,message:D,error:""+f}),Je.globalReactionErrorHandlers.forEach(function(H){return H(f,h)})},s.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(kr(),Ae(this),Zr()))},s.prototype.getDisposer=function(){var f=this.dispose.bind(this);return f[re]=this,f},s.prototype.toString=function(){return"Reaction["+this.name+"]"},s.prototype.trace=function(f){f===void 0&&(f=!1),Ki(this,f)},s}();function oo(s){return Je.globalReactionErrorHandlers.push(s),function(){var f=Je.globalReactionErrorHandlers.indexOf(s);f>=0&&Je.globalReactionErrorHandlers.splice(f,1)}}var mi=100,Yo=function(s){return s()};function An(){Je.inBatch>0||Je.isRunningReactions||Yo(Sa)}function Sa(){Je.isRunningReactions=!0;for(var s=Je.pendingReactions,f=0;s.length>0;){++f===mi&&(console.error("Reaction doesn't converge to a stable state after "+mi+" iterations."+(" Probably there is a cycle in the reactive function: "+s[0])),s.splice(0));for(var h=s.splice(0),D=0,H=h.length;D<H;D++)h[D].runReaction()}Je.isRunningReactions=!1}var Pn=ue("Reaction",Ln);function Wo(s){var f=Yo;Yo=function(h){return s(function(){return f(h)})}}function yr(){return!1}function zn(s){return;for(var f,h,D;h<D;h++)f[h](s)}function bi(s){return;var f}var jo={spyReportEnd:!0};function Fn(s){}function Nn(s){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Oi(){j(!1)}function Ei(s){return function(f,h,D){if(D){if(D.value)return{value:$r(s,D.value),enumerable:!1,configurable:!0,writable:!0};var H=D.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return $r(s,H.call(this))}}}return xa(s).apply(this,arguments)}}function xa(s){return function(f,h,D){Object.defineProperty(f,h,{configurable:!0,enumerable:!1,get:function(){},set:function(H){ye(this,h,en(s,H))}})}}function Ya(s,f,h,D){return D===!0?(io(s,f,h.value),null):h?{configurable:!0,enumerable:!1,get:function(){return io(this,f,h.value||h.initializer.call(this)),this[f]},set:Oi}:{enumerable:!1,configurable:!0,set:function(H){io(this,f,H)},get:function(){}}}var en=function(f,h,D,H){if(arguments.length===1&&typeof f=="function")return $r(f.name||"<unnamed action>",f);if(arguments.length===2&&typeof h=="function")return $r(f,h);if(arguments.length===1&&typeof f=="string")return Ei(f);if(H===!0)ye(f,h,$r(f.name||h,D.value,this));else return Ei(h).apply(null,arguments)};en.bound=Ya;function Wa(s,f){var h=typeof s=="string"?s:s.name||"<unnamed action>",D=typeof s=="function"?s:f;return Ui(h,D,this,void 0)}function Pa(s){return typeof s=="function"&&s.isMobxAction===!0}function io(s,f,h){ye(s,f,$r(f,h.bind(s)))}function zr(s,f){f===void 0&&(f=w);var h=f&&f.name||s.name||"Autorun@"+C(),D=!f.scheduler&&!f.delay,H;if(D)H=new Ln(h,function(){this.track(ze)},f.onError,f.requiresObservable);else{var _=xr(f),ge=!1;H=new Ln(h,function(){ge||(ge=!0,_(function(){ge=!1,H.isDisposed||H.track(ze)}))},f.onError,f.requiresObservable)}function ze(){s(H)}return H.schedule(),H.getDisposer()}var Ma=function(s){return s()};function xr(s){return s.scheduler?s.scheduler:s.delay?function(f){return setTimeout(f,s.delay)}:Ma}function Si(s,f,h){h===void 0&&(h=w);var D=h.name||"Reaction@"+C(),H=en(D,h.onError?Ka(h.onError,f):f),_=!h.scheduler&&!h.delay,ge=xr(h),ze=!0,_e=!1,Rt,wt=h.compareStructural?ht.structural:h.equals||ht.default,Xt=new Ln(D,function(){ze||_?Wt():_e||(_e=!0,ge(Wt))},h.onError,h.requiresObservable);function Wt(){if(_e=!1,!Xt.isDisposed){var Zt=!1;Xt.track(function(){var mr=s(Xt);Zt=ze||!wt(Rt,mr),Rt=mr}),ze&&h.fireImmediately&&H(Rt,Xt),!ze&&Zt===!0&&H(Rt,Xt),ze&&(ze=!1)}}return Xt.schedule(),Xt.getDisposer()}function Ka(s,f){return function(){try{return f.apply(this,arguments)}catch(h){s.call(this,h)}}}function Ta(s,f,h){return ki("onBecomeObserved",s,f,h)}function fn(s,f,h){return ki("onBecomeUnobserved",s,f,h)}function ki(s,f,h,D){var H=typeof D=="function"?Te(f,h):Te(f),_=typeof D=="function"?D:h,ge=s+"Listeners";H[ge]?H[ge].add(_):H[ge]=new Set([_]);var ze=H[s];return typeof ze!="function"?j(!1):function(){var _e=H[ge];_e&&(_e.delete(_),_e.size===0&&delete H[ge])}}function Va(s){var f=s.enforceActions,h=s.computedRequiresReaction,D=s.computedConfigurable,H=s.disableErrorBoundaries,_=s.reactionScheduler,ge=s.reactionRequiresObservable,ze=s.observableRequiresReaction;if(s.isolateGlobalState===!0&&As(),f!==void 0){(typeof f=="boolean"||f==="strict")&&Y(`Deprecated value for 'enforceActions', use 'false' => '"never"', 'true' => '"observed"', '"strict"' => "'always'" instead`);var _e=void 0;switch(f){case!0:case"observed":_e=!0;break;case!1:case"never":_e=!1;break;case"strict":case"always":_e="strict";break;default:j("Invalid value for 'enforceActions': '"+f+"', expected 'never', 'always' or 'observed'")}Je.enforceActions=_e,Je.allowStateChanges=!(_e===!0||_e==="strict")}h!==void 0&&(Je.computedRequiresReaction=!!h),ge!==void 0&&(Je.reactionRequiresObservable=!!ge),ze!==void 0&&(Je.observableRequiresReaction=!!ze,Je.allowStateReads=!Je.observableRequiresReaction),D!==void 0&&(Je.computedConfigurable=!!D),H!==void 0&&(H===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Je.disableErrorBoundaries=!!H),_&&Wo(_)}function Ns(s,f){var h=typeof s=="function"?s.prototype:s,D=function(_){var ge=f[_];Array.isArray(ge)||(ge=[ge]);var ze=Object.getOwnPropertyDescriptor(h,_),_e=ge.reduce(function(Rt,wt){return wt(h,_,Rt)},ze);_e&&Object.defineProperty(h,_,_e)};for(var H in f)D(H);return s}function xi(s,f,h,D){D=At(D);var H=wa(D);return st(s),y(s,D.name,H.enhancer),f&&ho(s,f,h,H),s}function wa(s){return s.defaultDecorator||(s.deep===!1?Gt:It)}function ho(s,f,h,D){var H,_,ge,ze;if(!1)var _e,Rt,wt,Xt;kr();try{var Xt=ce(f);try{for(var Wt=Ue(Xt),Zt=Wt.next();!Zt.done;Zt=Wt.next()){var _e=Zt.value,mr=Object.getOwnPropertyDescriptor(f,_e),br=h&&_e in h?h[_e]:mr.get?nr:D,Ar=br(s,_e,mr,!0);Ar&&Object.defineProperty(s,_e,Ar)}}catch(Ji){ge={error:Ji}}finally{try{Zt&&!Zt.done&&(ze=Wt.return)&&ze.call(Wt)}finally{if(ge)throw ge.error}}}finally{Zr()}}function Ko(s,f){return ao(Te(s,f))}function ao(s){var f={name:s.name};return s.observing&&s.observing.length>0&&(f.dependencies=ee(s.observing).map(ao)),f}function Pi(s,f){return Mi(Te(s,f))}function Mi(s){var f={name:s.name};return fc(s)&&(f.observers=Array.from(Dl(s)).map(Mi)),f}var cn=0;function Co(){this.message="FLOW_CANCELLED"}Co.prototype=Object.create(Error.prototype);function Tr(s){return s instanceof Co}function Za(s){arguments.length!==1&&j("Flow expects 1 argument and cannot be used as decorator");var f=s.name||"<unnamed flow>";return function(){var h=this,D=arguments,H=++cn,_=en(f+" - runid: "+H+" - init",s).apply(h,D),ge,ze=void 0,_e=new Promise(function(Rt,wt){var Xt=0;ge=wt;function Wt(br){ze=void 0;var Ar;try{Ar=en(f+" - runid: "+H+" - yield "+Xt++,_.next).call(_,br)}catch(Jn){return wt(Jn)}mr(Ar)}function Zt(br){ze=void 0;var Ar;try{Ar=en(f+" - runid: "+H+" - yield "+Xt++,_.throw).call(_,br)}catch(Jn){return wt(Jn)}mr(Ar)}function mr(br){if(br&&typeof br.then=="function"){br.then(mr,wt);return}return br.done?Rt(br.value):(ze=Promise.resolve(br.value),ze.then(Wt,Zt))}Wt(void 0)});return _e.cancel=en(f+" - runid: "+H+" - cancel",function(){try{ze&&Wn(ze);var Rt=_.return(void 0),wt=Promise.resolve(Rt.value);wt.then(W,W),Wn(wt),ge(new Co)}catch(Xt){ge(Xt)}}),_e}}function Wn(s){typeof s.cancel=="function"&&s.cancel()}function Ds(s,f,h){var D;if(fr(s)||ar(s)||Oa(s))D=Ye(s);else if(Ee(s)){if(typeof f!="string")return j(!1);D=Ye(s,f)}else return j(!1);return D.dehancer!==void 0?j(!1):(D.dehancer=typeof f=="function"?f:h,function(){D.dehancer=void 0})}function js(s,f,h){return typeof h=="function"?Vo(s,f,h):Ja(s,f)}function Ja(s,f){return Ye(s).intercept(f)}function Vo(s,f,h){return Ye(s,f).intercept(h)}function Ro(s,f){if(s==null)return!1;if(f!==void 0){if(Ee(s)===!1||!s[re].values.has(f))return!1;var h=Te(s,f);return no(h)}return no(s)}function Zo(s){return arguments.length>1?j(!1):Ro(s)}function Io(s,f){return typeof f!="string"?j(!1):Ro(s,f)}function Ti(s,f){return s==null?!1:f!==void 0?Ee(s)?s[re].values.has(f):!1:Ee(s)||!!s[re]||Ce(s)||Pn(s)||no(s)}function Kn(s){return arguments.length!==1&&j(!1),Ti(s)}function Cs(s,f){return typeof f!="string"?j(!1):Ti(s,f)}function Dn(s){return Ee(s)?s[re].getKeys():fr(s)||E(s)?Array.from(s.keys()):ar(s)?s.map(function(f,h){return h}):j(!1)}function Jo(s){return Ee(s)?Dn(s).map(function(f){return s[f]}):fr(s)?Dn(s).map(function(f){return s.get(f)}):E(s)?Array.from(s.values()):ar(s)?s.slice():j(!1)}function dn(s){return Ee(s)?Dn(s).map(function(f){return[f,s[f]]}):fr(s)?Dn(s).map(function(f){return[f,s.get(f)]}):E(s)?Array.from(s.entries()):ar(s)?s.map(function(f,h){return[h,f]}):j(!1)}function Xi(s,f,h){if(arguments.length===2&&!E(s)){kr();var D=f;try{for(var H in D)Xi(s,H,D[H])}finally{Zr()}return}if(Ee(s)){var _=s[re],ge=_.values.get(f);ge?_.write(f,h):_.addObservableProp(f,h,_.defaultEnhancer)}else if(fr(s))s.set(f,h);else if(E(s))s.add(f);else if(ar(s))typeof f!="number"&&(f=parseInt(f,10)),L(f>=0,"Not a valid index: '"+f+"'"),kr(),f>=s.length&&(s.length=f+1),s[f]=h,Zr();else return j(!1)}function Rs(s,f){if(Ee(s))s[re].remove(f);else if(fr(s))s.delete(f);else if(E(s))s.delete(f);else if(ar(s))typeof f!="number"&&(f=parseInt(f,10)),L(f>=0,"Not a valid index: '"+f+"'"),s.splice(f,1);else return j(!1)}function Qa(s,f){if(Ee(s)){var h=Ye(s);return h.has(f)}else return fr(s)||E(s)?s.has(f):ar(s)?f>=0&&f<s.length:j(!1)}function qa(s,f){if(!!Qa(s,f))return Ee(s)?s[f]:fr(s)?s.get(f):ar(s)?s[f]:j(!1)}function Yi(s,f,h,D){return typeof h=="function"?Aa(s,f,h,D):_a(s,f,h)}function _a(s,f,h){return Ye(s).observe(f,h)}function Aa(s,f,h,D){return Ye(s,f).observe(h,D)}var Wi={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function jn(s,f,h,D){return D.detectCycles&&s.set(f,h),h}function nn(s,f,h){if(!f.recurseEverything&&!Kn(s)||typeof s!="object")return s;if(s===null)return null;if(s instanceof Date)return s;if(Oa(s))return nn(s.get(),f,h);Kn(s)&&Dn(s);var D=f.detectCycles===!0;if(D&&s!==null&&h.has(s))return h.get(s);if(ar(s)||Array.isArray(s)){var H=jn(h,s,[],f),_=s.map(function(Zt){return nn(Zt,f,h)});H.length=_.length;for(var ge=0,ze=_.length;ge<ze;ge++)H[ge]=_[ge];return H}if(E(s)||Object.getPrototypeOf(s)===Set.prototype)if(f.exportMapsAsObjects===!1){var _e=jn(h,s,new Set,f);return s.forEach(function(Zt){_e.add(nn(Zt,f,h))}),_e}else{var Rt=jn(h,s,[],f);return s.forEach(function(Zt){Rt.push(nn(Zt,f,h))}),Rt}if(fr(s)||Object.getPrototypeOf(s)===Map.prototype)if(f.exportMapsAsObjects===!1){var wt=jn(h,s,new Map,f);return s.forEach(function(Zt,mr){wt.set(mr,nn(Zt,f,h))}),wt}else{var Xt=jn(h,s,{},f);return s.forEach(function(Zt,mr){Xt[mr]=nn(Zt,f,h)}),Xt}var Wt=jn(h,s,{},f);return Q(s).forEach(function(Zt){Wt[Zt]=nn(s[Zt],f,h)}),Wt}function eu(s,f){typeof f=="boolean"&&(f={detectCycles:f}),f||(f=Wi),f.detectCycles=f.detectCycles===void 0?f.recurseEverything===!0:f.detectCycles===!0;var h;return f.detectCycles&&(h=new Map),nn(s,f,h)}function Ki(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];var h=!1;typeof s[s.length-1]=="boolean"&&(h=s.pop());var D=pn(s);if(!D)return j(!1);D.isTracing===ct.NONE&&console.log("[mobx.trace] '"+D.name+"' tracing enabled"),D.isTracing=h?ct.BREAK:ct.LOG}function pn(s){switch(s.length){case 0:return Je.trackingDerivation;case 1:return Te(s[0]);case 2:return Te(s[0],s[1])}}function Xr(s,f){f===void 0&&(f=void 0),kr();try{return s.apply(f)}finally{Zr()}}function Vn(s,f,h){return arguments.length===1||f&&typeof f=="object"?Cn(s,f):Vi(s,f,h||{})}function Vi(s,f,h){var D;typeof h.timeout=="number"&&(D=setTimeout(function(){if(!_[re].isDisposed){_();var ge=new Error("WHEN_TIMEOUT");if(h.onError)h.onError(ge);else throw ge}},h.timeout)),h.name=h.name||"When@"+C();var H=$r(h.name+"-effect",f),_=zr(function(ge){s()&&(ge.dispose(),D&&clearTimeout(D),H())},h);return _}function Cn(s,f){var h,D=new Promise(function(H,_){var ge=Vi(s,H,tt(tt({},f),{onError:_}));h=function(){ge(),_("WHEN_CANCELLED")}});return D.cancel=h,D}function Bo(s){return s[re]}function Lo(s){return typeof s=="string"||typeof s=="number"||typeof s=="symbol"}var Na={has:function(s,f){if(f===re||f==="constructor"||f===ne)return!0;var h=Bo(s);return Lo(f)?h.has(f):f in s},get:function(s,f){if(f===re||f==="constructor"||f===ne)return s[f];var h=Bo(s),D=h.values.get(f);if(D instanceof de){var H=D.get();return H===void 0&&h.has(f),H}return Lo(f)&&h.has(f),s[f]},set:function(s,f,h){return Lo(f)?(Xi(s,f,h),!0):!1},deleteProperty:function(s,f){if(!Lo(f))return!1;var h=Bo(s);return h.remove(f),!0},ownKeys:function(s){var f=Bo(s);return f.keysAtom.reportObserved(),Reflect.ownKeys(s)},preventExtensions:function(s){return j("Dynamic observable objects cannot be frozen"),!1}};function wi(s){var f=new Proxy(s,Na);return s[re].proxy=f,f}function Yr(s){return s.interceptors!==void 0&&s.interceptors.length>0}function Hn(s,f){var h=s.interceptors||(s.interceptors=[]);return h.push(f),U(function(){var D=h.indexOf(f);D!==-1&&h.splice(D,1)})}function Gr(s,f){var h=Xe();try{for(var D=Z(s.interceptors||[]),H=0,_=D.length;H<_&&(f=D[H](f),L(!f||f.type,"Intercept handlers should return nothing or a change object"),!!f);H++);return f}finally{nt(h)}}function Fr(s){return s.changeListeners!==void 0&&s.changeListeners.length>0}function Zn(s,f){var h=s.changeListeners||(s.changeListeners=[]);return h.push(f),U(function(){var D=h.indexOf(f);D!==-1&&h.splice(D,1)})}function Hr(s,f){var h=Xe(),D=s.changeListeners;if(!!D){D=D.slice();for(var H=0,_=D.length;H<_;H++)D[H](f);nt(h)}}var tu=1e4,jl={get:function(s,f){return f===re?s[re]:f==="length"?s[re].getArrayLength():typeof f=="number"?Jr.get.call(s,f):typeof f=="string"&&!isNaN(f)?Jr.get.call(s,parseInt(f)):Jr.hasOwnProperty(f)?Jr[f]:s[f]},set:function(s,f,h){return f==="length"&&s[re].setArrayLength(h),typeof f=="number"&&Jr.set.call(s,f,h),typeof f=="symbol"||isNaN(f)?s[f]=h:Jr.set.call(s,parseInt(f),h),!0},preventExtensions:function(s){return j("Observable arrays cannot be frozen"),!1}};function ru(s,f,h,D){h===void 0&&(h="ObservableArray@"+C()),D===void 0&&(D=!1);var H=new yo(h,f,D);me(H.values,re,H);var _=new Proxy(H.values,jl);if(H.proxy=_,s&&s.length){var ge=co(!0);H.spliceWithArray(0,0,s),wn(ge)}return _}var yo=function(){function s(f,h,D){this.owned=D,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new de(f||"ObservableArray@"+C()),this.enhancer=function(H,_){return h(H,_,f+"[..]")}}return s.prototype.dehanceValue=function(f){return this.dehancer!==void 0?this.dehancer(f):f},s.prototype.dehanceValues=function(f){return this.dehancer!==void 0&&f.length>0?f.map(this.dehancer):f},s.prototype.intercept=function(f){return Hn(this,f)},s.prototype.observe=function(f,h){return h===void 0&&(h=!1),h&&f({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Zn(this,f)},s.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},s.prototype.setArrayLength=function(f){if(typeof f!="number"||f<0)throw new Error("[mobx.array] Out of range: "+f);var h=this.values.length;if(f!==h)if(f>h){for(var D=new Array(f-h),H=0;H<f-h;H++)D[H]=void 0;this.spliceWithArray(h,0,D)}else this.spliceWithArray(f,h-f)},s.prototype.updateArrayLength=function(f,h){if(f!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=h},s.prototype.spliceWithArray=function(f,h,D){var H=this;g(this.atom);var _=this.values.length;if(f===void 0?f=0:f>_?f=_:f<0&&(f=Math.max(0,_+f)),arguments.length===1?h=_-f:h==null?h=0:h=Math.max(0,Math.min(h,_-f)),D===void 0&&(D=M),Yr(this)){var ge=Gr(this,{object:this.proxy,type:"splice",index:f,removedCount:h,added:D});if(!ge)return M;h=ge.removedCount,D=ge.added}if(D=D.length===0?D:D.map(function(Rt){return H.enhancer(Rt,void 0)}),!1)var ze;var _e=this.spliceItemsIntoValues(f,h,D);return(h!==0||D.length!==0)&&this.notifyArraySplice(f,D,_e),this.dehanceValues(_e)},s.prototype.spliceItemsIntoValues=function(f,h,D){var H;if(D.length<tu)return(H=this.values).splice.apply(H,Z([f,h],D));var _=this.values.slice(f,f+h);return this.values=this.values.slice(0,f).concat(D,this.values.slice(f+h)),_},s.prototype.notifyArrayChildUpdate=function(f,h,D){var H=!this.owned&&yr(),_=Fr(this),ge=_||H?{object:this.proxy,type:"update",index:f,newValue:h,oldValue:D}:null;this.atom.reportChanged(),_&&Hr(this,ge)},s.prototype.notifyArraySplice=function(f,h,D){var H=!this.owned&&yr(),_=Fr(this),ge=_||H?{object:this.proxy,type:"splice",index:f,removed:D,added:h,removedCount:D.length,addedCount:h.length}:null;this.atom.reportChanged(),_&&Hr(this,ge)},s}(),Jr={intercept:function(s){return this[re].intercept(s)},observe:function(s,f){f===void 0&&(f=!1);var h=this[re];return h.observe(s,f)},clear:function(){return this.splice(0)},replace:function(s){var f=this[re];return f.spliceWithArray(0,f.values.length,s)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(s,f){for(var h=[],D=2;D<arguments.length;D++)h[D-2]=arguments[D];var H=this[re];switch(arguments.length){case 0:return[];case 1:return H.spliceWithArray(s);case 2:return H.spliceWithArray(s,f)}return H.spliceWithArray(s,f,h)},spliceWithArray:function(s,f,h){var D=this[re];return D.spliceWithArray(s,f,h)},push:function(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];var h=this[re];return h.spliceWithArray(h.values.length,0,s),h.values.length},pop:function(){return this.splice(Math.max(this[re].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];var h=this[re];return h.spliceWithArray(0,0,s),h.values.length},reverse:function(){var s=this.slice();return s.reverse.apply(s,arguments)},sort:function(s){var f=this.slice();return f.sort.apply(f,arguments)},remove:function(s){var f=this[re],h=f.dehanceValues(f.values).indexOf(s);return h>-1?(this.splice(h,1),!0):!1},get:function(s){var f=this[re];if(f){if(s<f.values.length)return f.atom.reportObserved(),f.dehanceValue(f.values[s]);console.warn("[mobx.array] Attempt to read an array index ("+s+") that is out of bounds ("+f.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(s,f){var h=this[re],D=h.values;if(s<D.length){g(h.atom);var H=D[s];if(Yr(h)){var _=Gr(h,{type:"update",object:h.proxy,index:s,newValue:f});if(!_)return;f=_.newValue}f=h.enhancer(f,H);var ge=f!==H;ge&&(D[s]=f,h.notifyArrayChildUpdate(s,f,H))}else if(s===D.length)h.spliceWithArray(s,0,[f]);else throw new Error("[mobx.array] Index out of bounds, "+s+" is larger than "+D.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(s){typeof Array.prototype[s]=="function"&&(Jr[s]=function(){var f=this[re];f.atom.reportObserved();var h=f.dehanceValues(f.values);return h[s].apply(h,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(s){typeof Array.prototype[s]=="function"&&(Jr[s]=function(f,h){var D=this,H=this[re];H.atom.reportObserved();var _=H.dehanceValues(H.values);return _[s](function(ge,ze){return f.call(h,ge,ze,D)},h)})}),["reduce","reduceRight"].forEach(function(s){Jr[s]=function(){var f=this,h=this[re];h.atom.reportObserved();var D=arguments[0];return arguments[0]=function(H,_,ge){return _=h.dehanceValue(_),D(H,_,ge,f)},h.values[s].apply(h.values,arguments)}});var Qo=ue("ObservableArrayAdministration",yo);function ar(s){return ae(s)&&Qo(s[re])}var qo,Ai={},_o=function(){function s(f,h,D){if(h===void 0&&(h=De),D===void 0&&(D="ObservableMap@"+C()),this.enhancer=h,this.name=D,this[qo]=Ai,this._keysAtom=Re(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(f)}return s.prototype._has=function(f){return this._data.has(f)},s.prototype.has=function(f){var h=this;if(!Je.trackingDerivation)return this._has(f);var D=this._hasMap.get(f);if(!D){var H=D=new rn(this._has(f),at,this.name+"."+oe(f)+"?",!1);this._hasMap.set(f,H),fn(H,function(){return h._hasMap.delete(f)})}return D.get()},s.prototype.set=function(f,h){var D=this._has(f);if(Yr(this)){var H=Gr(this,{type:D?"update":"add",object:this,newValue:h,name:f});if(!H)return this;h=H.newValue}return D?this._updateValue(f,h):this._addValue(f,h),this},s.prototype.delete=function(f){var h=this;if(g(this._keysAtom),Yr(this)){var D=Gr(this,{type:"delete",object:this,name:f});if(!D)return!1}if(this._has(f)){var H=yr(),_=Fr(this),D=_||H?{type:"delete",object:this,oldValue:this._data.get(f).value,name:f}:null;return Xr(function(){h._keysAtom.reportChanged(),h._updateHasMapEntry(f,!1);var ze=h._data.get(f);ze.setNewValue(void 0),h._data.delete(f)}),_&&Hr(this,D),!0}return!1},s.prototype._updateHasMapEntry=function(f,h){var D=this._hasMap.get(f);D&&D.setNewValue(h)},s.prototype._updateValue=function(f,h){var D=this._data.get(f);if(h=D.prepareNewValue(h),h!==Je.UNCHANGED){var H=yr(),_=Fr(this),ge=_||H?{type:"update",object:this,oldValue:D.value,name:f,newValue:h}:null;D.setNewValue(h),_&&Hr(this,ge)}},s.prototype._addValue=function(f,h){var D=this;g(this._keysAtom),Xr(function(){var ze=new rn(h,D.enhancer,D.name+"."+oe(f),!1);D._data.set(f,ze),h=ze.value,D._updateHasMapEntry(f,!0),D._keysAtom.reportChanged()});var H=yr(),_=Fr(this),ge=_||H?{type:"add",object:this,name:f,newValue:h}:null;_&&Hr(this,ge)},s.prototype.get=function(f){return this.has(f)?this.dehanceValue(this._data.get(f).get()):this.dehanceValue(void 0)},s.prototype.dehanceValue=function(f){return this.dehancer!==void 0?this.dehancer(f):f},s.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},s.prototype.values=function(){var f=this,h=this.keys();return Ct({next:function(){var D=h.next(),H=D.done,_=D.value;return{done:H,value:H?void 0:f.get(_)}}})},s.prototype.entries=function(){var f=this,h=this.keys();return Ct({next:function(){var D=h.next(),H=D.done,_=D.value;return{done:H,value:H?void 0:[_,f.get(_)]}}})},s.prototype[qo=re,Symbol.iterator]=function(){return this.entries()},s.prototype.forEach=function(f,h){var D,H;try{for(var _=Ue(this),ge=_.next();!ge.done;ge=_.next()){var ze=V(ge.value,2),_e=ze[0],Rt=ze[1];f.call(h,Rt,_e,this)}}catch(wt){D={error:wt}}finally{try{ge&&!ge.done&&(H=_.return)&&H.call(_)}finally{if(D)throw D.error}}},s.prototype.merge=function(f){var h=this;return fr(f)&&(f=f.toJS()),Xr(function(){var D=co(!0);try{q(f)?Q(f).forEach(function(H){return h.set(H,f[H])}):Array.isArray(f)?f.forEach(function(H){var _=V(H,2),ge=_[0],ze=_[1];return h.set(ge,ze)}):te(f)?(f.constructor!==Map&&j("Cannot initialize from classes that inherit from Map: "+f.constructor.name),f.forEach(function(H,_){return h.set(_,H)})):f!=null&&j("Cannot initialize map from "+f)}finally{wn(D)}}),this},s.prototype.clear=function(){var f=this;Xr(function(){Ke(function(){var h,D;try{for(var H=Ue(f.keys()),_=H.next();!_.done;_=H.next()){var ge=_.value;f.delete(ge)}}catch(ze){h={error:ze}}finally{try{_&&!_.done&&(D=H.return)&&D.call(H)}finally{if(h)throw h.error}}})})},s.prototype.replace=function(f){var h=this;return Xr(function(){var D,H,_,ge,ze=Me(f),_e=new Map,Rt=!1;try{for(var wt=Ue(h._data.keys()),Xt=wt.next();!Xt.done;Xt=wt.next()){var Wt=Xt.value;if(!ze.has(Wt)){var Zt=h.delete(Wt);if(Zt)Rt=!0;else{var mr=h._data.get(Wt);_e.set(Wt,mr)}}}}catch(qi){D={error:qi}}finally{try{Xt&&!Xt.done&&(H=wt.return)&&H.call(wt)}finally{if(D)throw D.error}}try{for(var br=Ue(ze.entries()),Ar=br.next();!Ar.done;Ar=br.next()){var Jn=V(Ar.value,2),Wt=Jn[0],mr=Jn[1],Ji=h._data.has(Wt);if(h.set(Wt,mr),h._data.has(Wt)){var Is=h._data.get(Wt);_e.set(Wt,Is),Ji||(Rt=!0)}}}catch(qi){_={error:qi}}finally{try{Ar&&!Ar.done&&(ge=br.return)&&ge.call(br)}finally{if(_)throw _.error}}if(!Rt)if(h._data.size!==_e.size)h._keysAtom.reportChanged();else for(var ou=h._data.keys(),iu=_e.keys(),Qi=ou.next(),au=iu.next();!Qi.done;){if(Qi.value!==au.value){h._keysAtom.reportChanged();break}Qi=ou.next(),au=iu.next()}h._data=_e}),this},Object.defineProperty(s.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),s.prototype.toPOJO=function(){var f,h,D={};try{for(var H=Ue(this),_=H.next();!_.done;_=H.next()){var ge=V(_.value,2),ze=ge[0],_e=ge[1];D[typeof ze=="symbol"?ze:oe(ze)]=_e}}catch(Rt){f={error:Rt}}finally{try{_&&!_.done&&(h=H.return)&&h.call(H)}finally{if(f)throw f.error}}return D},s.prototype.toJS=function(){return new Map(this)},s.prototype.toJSON=function(){return this.toPOJO()},s.prototype.toString=function(){var f=this;return this.name+"[{ "+Array.from(this.keys()).map(function(h){return oe(h)+": "+(""+f.get(h))}).join(", ")+" }]"},s.prototype.observe=function(f,h){return Zn(this,f)},s.prototype.intercept=function(f){return Hn(this,f)},s}(),fr=ue("ObservableMap",_o),Zi,nu={},uo=function(){function s(f,h,D){if(h===void 0&&(h=De),D===void 0&&(D="ObservableSet@"+C()),this.name=D,this[Zi]=nu,this._data=new Set,this._atom=Re(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(H,_){return h(H,_,D)},f&&this.replace(f)}return s.prototype.dehanceValue=function(f){return this.dehancer!==void 0?this.dehancer(f):f},s.prototype.clear=function(){var f=this;Xr(function(){Ke(function(){var h,D;try{for(var H=Ue(f._data.values()),_=H.next();!_.done;_=H.next()){var ge=_.value;f.delete(ge)}}catch(ze){h={error:ze}}finally{try{_&&!_.done&&(D=H.return)&&D.call(H)}finally{if(h)throw h.error}}})})},s.prototype.forEach=function(f,h){var D,H;try{for(var _=Ue(this),ge=_.next();!ge.done;ge=_.next()){var ze=ge.value;f.call(h,ze,ze,this)}}catch(_e){D={error:_e}}finally{try{ge&&!ge.done&&(H=_.return)&&H.call(_)}finally{if(D)throw D.error}}},Object.defineProperty(s.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),s.prototype.add=function(f){var h=this;if(g(this._atom),Yr(this)){var D=Gr(this,{type:"add",object:this,newValue:f});if(!D)return this}if(!this.has(f)){Xr(function(){h._data.add(h.enhancer(f,void 0)),h._atom.reportChanged()});var H=yr(),_=Fr(this),D=_||H?{type:"add",object:this,newValue:f}:null;_&&Hr(this,D)}return this},s.prototype.delete=function(f){var h=this;if(Yr(this)){var D=Gr(this,{type:"delete",object:this,oldValue:f});if(!D)return!1}if(this.has(f)){var H=yr(),_=Fr(this),D=_||H?{type:"delete",object:this,oldValue:f}:null;return Xr(function(){h._atom.reportChanged(),h._data.delete(f)}),_&&Hr(this,D),!0}return!1},s.prototype.has=function(f){return this._atom.reportObserved(),this._data.has(this.dehanceValue(f))},s.prototype.entries=function(){var f=0,h=Array.from(this.keys()),D=Array.from(this.values());return Ct({next:function(){var H=f;return f+=1,H<D.length?{value:[h[H],D[H]],done:!1}:{done:!0}}})},s.prototype.keys=function(){return this.values()},s.prototype.values=function(){this._atom.reportObserved();var f=this,h=0,D=Array.from(this._data.values());return Ct({next:function(){return h<D.length?{value:f.dehanceValue(D[h++]),done:!1}:{done:!0}}})},s.prototype.replace=function(f){var h=this;return E(f)&&(f=f.toJS()),Xr(function(){var D=co(!0);try{Array.isArray(f)?(h.clear(),f.forEach(function(H){return h.add(H)})):z(f)?(h.clear(),f.forEach(function(H){return h.add(H)})):f!=null&&j("Cannot initialize set from "+f)}finally{wn(D)}}),this},s.prototype.observe=function(f,h){return Zn(this,f)},s.prototype.intercept=function(f){return Hn(this,f)},s.prototype.toJS=function(){return new Set(this)},s.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},s.prototype[Zi=re,Symbol.iterator]=function(){return this.values()},s}(),E=ue("ObservableSet",uo),m=function(){function s(f,h,D,H){h===void 0&&(h=new Map),this.target=f,this.values=h,this.name=D,this.defaultEnhancer=H,this.keysAtom=new de(D+".keys")}return s.prototype.read=function(f){return this.values.get(f).get()},s.prototype.write=function(f,h){var D=this.target,H=this.values.get(f);if(H instanceof Xn){H.set(h);return}if(Yr(this)){var _=Gr(this,{type:"update",object:this.proxy||D,name:f,newValue:h});if(!_)return;h=_.newValue}if(h=H.prepareNewValue(h),h!==Je.UNCHANGED){var ge=Fr(this),ze=yr(),_=ge||ze?{type:"update",object:this.proxy||D,oldValue:H.value,name:f,newValue:h}:null;H.setNewValue(h),ge&&Hr(this,_)}},s.prototype.has=function(f){var h=this.pendingKeys||(this.pendingKeys=new Map),D=h.get(f);if(D)return D.get();var H=!!this.values.get(f);return D=new rn(H,at,this.name+"."+oe(f)+"?",!1),h.set(f,D),D.get()},s.prototype.addObservableProp=function(f,h,D){D===void 0&&(D=this.defaultEnhancer);var H=this.target;if(Oe(H,f),Yr(this)){var _=Gr(this,{object:this.proxy||H,name:f,type:"add",newValue:h});if(!_)return;h=_.newValue}var ge=new rn(h,D,this.name+"."+oe(f),!1);this.values.set(f,ge),h=ge.value,Object.defineProperty(H,f,I(f)),this.notifyPropertyAddition(f,h)},s.prototype.addComputedProp=function(f,h,D){var H=this.target;D.name=D.name||this.name+"."+oe(h),this.values.set(h,new Xn(D)),(f===H||le(f,h))&&Object.defineProperty(f,h,ie(h))},s.prototype.remove=function(f){if(!!this.values.has(f)){var h=this.target;if(Yr(this)){var D=Gr(this,{object:this.proxy||h,name:f,type:"remove"});if(!D)return}try{kr();var H=Fr(this),_=yr(),ge=this.values.get(f),ze=ge&&ge.get();if(ge&&ge.set(void 0),this.keysAtom.reportChanged(),this.values.delete(f),this.pendingKeys){var _e=this.pendingKeys.get(f);_e&&_e.set(!1)}delete this.target[f];var D=H||_?{type:"remove",object:this.proxy||h,oldValue:ze,name:f}:null;H&&Hr(this,D)}finally{Zr()}}},s.prototype.illegalAccess=function(f,h){console.warn("Property '"+h+"' of '"+f+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},s.prototype.observe=function(f,h){return Zn(this,f)},s.prototype.intercept=function(f){return Hn(this,f)},s.prototype.notifyPropertyAddition=function(f,h){var D=Fr(this),H=yr(),_=D||H?{type:"add",object:this.proxy||this.target,name:f,newValue:h}:null;if(D&&Hr(this,_),this.pendingKeys){var ge=this.pendingKeys.get(f);ge&&ge.set(!0)}this.keysAtom.reportChanged()},s.prototype.getKeys=function(){var f,h;this.keysAtom.reportObserved();var D=[];try{for(var H=Ue(this.values),_=H.next();!_.done;_=H.next()){var ge=V(_.value,2),ze=ge[0],_e=ge[1];_e instanceof rn&&D.push(ze)}}catch(Rt){f={error:Rt}}finally{try{_&&!_.done&&(h=H.return)&&h.call(H)}finally{if(f)throw f.error}}return D},s}();function y(s,f,h){if(f===void 0&&(f=""),h===void 0&&(h=De),Object.prototype.hasOwnProperty.call(s,re))return s[re];q(s)||(f=(s.constructor.name||"ObservableObject")+"@"+C()),f||(f="ObservableObject@"+C());var D=new m(s,new Map,oe(f),h);return ye(s,re,D),D}var S=Object.create(null),T=Object.create(null);function I(s){return S[s]||(S[s]={configurable:!0,enumerable:!0,get:function(){return this[re].read(s)},set:function(f){this[re].write(s,f)}})}function K(s){var f=s[re];return f||(st(s),s[re])}function ie(s){return T[s]||(T[s]={configurable:Je.computedConfigurable,enumerable:!1,get:function(){return K(this).read(s)},set:function(f){K(this).write(s,f)}})}var be=ue("ObservableObjectAdministration",m);function Ee(s){return ae(s)?(st(s),be(s[re])):!1}function Te(s,f){if(typeof s=="object"&&s!==null){if(ar(s))return f!==void 0&&j(!1),s[re].atom;if(E(s))return s[re];if(fr(s)){var h=s;if(f===void 0)return h._keysAtom;var D=h._data.get(f)||h._hasMap.get(f);return D||j(!1),D}if(st(s),f&&!s[re]&&s[f],Ee(s)){if(!f)return j(!1);var D=s[re].values.get(f);return D||j(!1),D}if(Ce(s)||no(s)||Pn(s))return s}else if(typeof s=="function"&&Pn(s[re]))return s[re];return j(!1)}function Ye(s,f){if(s||j("Expecting some object"),f!==void 0)return Ye(Te(s,f));if(Ce(s)||no(s)||Pn(s)||fr(s)||E(s))return s;if(st(s),s[re])return s[re];j(!1)}function Qe(s,f){var h;return f!==void 0?h=Te(s,f):Ee(s)||fr(s)||E(s)?h=Ye(s):h=Te(s),h.name}var qe=Object.prototype.toString;function dt(s,f,h){return h===void 0&&(h=-1),Lt(s,f,h)}function Lt(s,f,h,D,H){if(s===f)return s!==0||1/s==1/f;if(s==null||f==null)return!1;if(s!==s)return f!==f;var _=typeof s;if(_!=="function"&&_!=="object"&&typeof f!="object")return!1;var ge=qe.call(s);if(ge!==qe.call(f))return!1;switch(ge){case"[object RegExp]":case"[object String]":return""+s==""+f;case"[object Number]":return+s!=+s?+f!=+f:+s==0?1/+s==1/f:+s==+f;case"[object Date]":case"[object Boolean]":return+s==+f;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(s)===Symbol.valueOf.call(f);case"[object Map]":case"[object Set]":h>=0&&h++;break}s=Ht(s),f=Ht(f);var ze=ge==="[object Array]";if(!ze){if(typeof s!="object"||typeof f!="object")return!1;var _e=s.constructor,Rt=f.constructor;if(_e!==Rt&&!(typeof _e=="function"&&_e instanceof _e&&typeof Rt=="function"&&Rt instanceof Rt)&&"constructor"in s&&"constructor"in f)return!1}if(h===0)return!1;h<0&&(h=-1),D=D||[],H=H||[];for(var wt=D.length;wt--;)if(D[wt]===s)return H[wt]===f;if(D.push(s),H.push(f),ze){if(wt=s.length,wt!==f.length)return!1;for(;wt--;)if(!Lt(s[wt],f[wt],h-1,D,H))return!1}else{var Xt=Object.keys(s),Wt=void 0;if(wt=Xt.length,Object.keys(f).length!==wt)return!1;for(;wt--;)if(Wt=Xt[wt],!(Yt(f,Wt)&&Lt(s[Wt],f[Wt],h-1,D,H)))return!1}return D.pop(),H.pop(),!0}function Ht(s){return ar(s)?s.slice():te(s)||fr(s)||z(s)||E(s)?Array.from(s.entries()):s}function Yt(s,f){return Object.prototype.hasOwnProperty.call(s,f)}function Ct(s){return s[Symbol.iterator]=tr,s}function tr(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{}catch(s){var jr=ko();typeof v=="undefined"&&(jr.process={}),jr.process.env={}}(function(){function s(){}if(s.name!=="testCodeMinification",!1)var f})(),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Nn,extras:{getDebugName:Qe},$mobx:re})}).call(this,u(155),u(82))},function(x,A,u){"use strict";u.d(A,"a",function(){return me}),u.d(A,"b",function(){return ye}),u.d(A,"c",function(){return tt}),u.d(A,"d",function(){return Ue}),u.d(A,"e",function(){return ae}),u.d(A,"f",function(){return Me}),u.d(A,"g",function(){return ae}),u.d(A,"h",function(){return et}),u.d(A,"i",function(){return c}),u.d(A,"j",function(){return Be}),u.d(A,"k",function(){return Q});var v,c,b,M,w,C,j,L,F={},Y=[],U=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function W(V,Z){for(var ne in Z)V[ne]=Z[ne];return V}function ee(V){var Z=V.parentNode;Z&&Z.removeChild(V)}function ae(V,Z,ne){var we,Ge,Pe,pt={};for(Pe in Z)Pe=="key"?we=Z[Pe]:Pe=="ref"?Ge=Z[Pe]:pt[Pe]=Z[Pe];if(arguments.length>2&&(pt.children=arguments.length>3?v.call(arguments,2):ne),typeof V=="function"&&V.defaultProps!=null)for(Pe in V.defaultProps)pt[Pe]===void 0&&(pt[Pe]=V.defaultProps[Pe]);return q(V,pt,we,Ge,null)}function q(V,Z,ne,we,Ge){var Pe={type:V,props:Z,key:ne,ref:we,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Ge==null?++b:Ge};return Ge==null&&c.vnode!=null&&c.vnode(Pe),Pe}function Me(){return{current:null}}function ye(V){return V.children}function me(V,Z){this.props=V,this.context=Z}function le(V,Z){if(Z==null)return V.__?le(V.__,V.__.__k.indexOf(V)+1):null;for(var ne;Z<V.__k.length;Z++)if((ne=V.__k[Z])!=null&&ne.__e!=null)return ne.__e;return typeof V.type=="function"?le(V):null}function Oe(V){var Z,ne;if((V=V.__)!=null&&V.__c!=null){for(V.__e=V.__c.base=null,Z=0;Z<V.__k.length;Z++)if((ne=V.__k[Z])!=null&&ne.__e!=null){V.__e=V.__c.base=ne.__e;break}return Oe(V)}}function ue(V){(!V.__d&&(V.__d=!0)&&w.push(V)&&!ve.__r++||j!==c.debounceRendering)&&((j=c.debounceRendering)||C)(ve)}function ve(){for(var V;ve.__r=w.length;)V=w.sort(function(Z,ne){return Z.__v.__b-ne.__v.__b}),w=[],V.some(function(Z){var ne,we,Ge,Pe,pt,st;Z.__d&&(pt=(Pe=(ne=Z).__v).__e,(st=ne.__P)&&(we=[],(Ge=W({},Pe)).__v=Pe.__v+1,Re(st,Pe,Ge,ne.__n,st.ownerSVGElement!==void 0,Pe.__h!=null?[pt]:null,we,pt==null?le(Pe):pt,Pe.__h),He(we,Pe),Pe.__e!=pt&&Oe(Pe)))})}function te(V,Z,ne,we,Ge,Pe,pt,st,ft,mt){var De,jt,at,ut,vt,Ut,Bt,At=we&&we.__k||Y,It=At.length;for(ne.__k=[],De=0;De<Z.length;De++)if((ut=ne.__k[De]=(ut=Z[De])==null||typeof ut=="boolean"?null:typeof ut=="string"||typeof ut=="number"||typeof ut=="bigint"?q(null,ut,null,null,ut):Array.isArray(ut)?q(ye,{children:ut},null,null,null):ut.__b>0?q(ut.type,ut.props,ut.key,null,ut.__v):ut)!=null){if(ut.__=ne,ut.__b=ne.__b+1,(at=At[De])===null||at&&ut.key==at.key&&ut.type===at.type)At[De]=void 0;else for(jt=0;jt<It;jt++){if((at=At[jt])&&ut.key==at.key&&ut.type===at.type){At[jt]=void 0;break}at=null}Re(V,ut,at=at||F,Ge,Pe,pt,st,ft,mt),vt=ut.__e,(jt=ut.ref)&&at.ref!=jt&&(Bt||(Bt=[]),at.ref&&Bt.push(at.ref,null,ut),Bt.push(jt,ut.__c||vt,ut)),vt!=null?(Ut==null&&(Ut=vt),typeof ut.type=="function"&&ut.__k===at.__k?ut.__d=ft=z(ut,ft,V):ft=oe(V,ut,at,At,vt,ft),typeof ne.type=="function"&&(ne.__d=ft)):ft&&at.__e==ft&&ft.parentNode!=V&&(ft=le(at))}for(ne.__e=Ut,De=It;De--;)At[De]!=null&&(typeof ne.type=="function"&&At[De].__e!=null&&At[De].__e==ne.__d&&(ne.__d=le(we,De+1)),yt(At[De],At[De]));if(Bt)for(De=0;De<Bt.length;De++)it(Bt[De],Bt[++De],Bt[++De])}function z(V,Z,ne){for(var we,Ge=V.__k,Pe=0;Ge&&Pe<Ge.length;Pe++)(we=Ge[Pe])&&(we.__=V,Z=typeof we.type=="function"?z(we,Z,ne):oe(ne,we,we,Ge,we.__e,Z));return Z}function Q(V,Z){return Z=Z||[],V==null||typeof V=="boolean"||(Array.isArray(V)?V.some(function(ne){Q(ne,Z)}):Z.push(V)),Z}function oe(V,Z,ne,we,Ge,Pe){var pt,st,ft;if(Z.__d!==void 0)pt=Z.__d,Z.__d=void 0;else if(ne==null||Ge!=Pe||Ge.parentNode==null)e:if(Pe==null||Pe.parentNode!==V)V.appendChild(Ge),pt=null;else{for(st=Pe,ft=0;(st=st.nextSibling)&&ft<we.length;ft+=2)if(st==Ge)break e;V.insertBefore(Ge,Pe),pt=Pe}return pt!==void 0?pt:Ge.nextSibling}function se(V,Z,ne,we,Ge){var Pe;for(Pe in ne)Pe==="children"||Pe==="key"||Pe in Z||re(V,Pe,null,ne[Pe],we);for(Pe in Z)Ge&&typeof Z[Pe]!="function"||Pe==="children"||Pe==="key"||Pe==="value"||Pe==="checked"||ne[Pe]===Z[Pe]||re(V,Pe,Z[Pe],ne[Pe],we)}function ce(V,Z,ne){Z[0]==="-"?V.setProperty(Z,ne):V[Z]=ne==null?"":typeof ne!="number"||U.test(Z)?ne:ne+"px"}function re(V,Z,ne,we,Ge){var Pe;e:if(Z==="style")if(typeof ne=="string")V.style.cssText=ne;else{if(typeof we=="string"&&(V.style.cssText=we=""),we)for(Z in we)ne&&Z in ne||ce(V.style,Z,"");if(ne)for(Z in ne)we&&ne[Z]===we[Z]||ce(V.style,Z,ne[Z])}else if(Z[0]==="o"&&Z[1]==="n")Pe=Z!==(Z=Z.replace(/Capture$/,"")),Z=Z.toLowerCase()in V?Z.toLowerCase().slice(2):Z.slice(2),V.l||(V.l={}),V.l[Z+Pe]=ne,ne?we||V.addEventListener(Z,Pe?Ce:de,Pe):V.removeEventListener(Z,Pe?Ce:de,Pe);else if(Z!=="dangerouslySetInnerHTML"){if(Ge)Z=Z.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(Z!=="href"&&Z!=="list"&&Z!=="form"&&Z!=="tabIndex"&&Z!=="download"&&Z in V)try{V[Z]=ne==null?"":ne;break e}catch(pt){}typeof ne=="function"||(ne!=null&&(ne!==!1||Z[0]==="a"&&Z[1]==="r")?V.setAttribute(Z,ne):V.removeAttribute(Z))}}function de(V){this.l[V.type+!1](c.event?c.event(V):V)}function Ce(V){this.l[V.type+!0](c.event?c.event(V):V)}function Re(V,Z,ne,we,Ge,Pe,pt,st,ft){var mt,De,jt,at,ut,vt,Ut,Bt,At,It,Qt,Gt=Z.type;if(Z.constructor!==void 0)return null;ne.__h!=null&&(ft=ne.__h,st=Z.__e=ne.__e,Z.__h=null,Pe=[st]),(mt=c.__b)&&mt(Z);try{e:if(typeof Gt=="function"){if(Bt=Z.props,At=(mt=Gt.contextType)&&we[mt.__c],It=mt?At?At.props.value:mt.__:we,ne.__c?Ut=(De=Z.__c=ne.__c).__=De.__E:("prototype"in Gt&&Gt.prototype.render?Z.__c=De=new Gt(Bt,It):(Z.__c=De=new me(Bt,It),De.constructor=Gt,De.render=ht),At&&At.sub(De),De.props=Bt,De.state||(De.state={}),De.context=It,De.__n=we,jt=De.__d=!0,De.__h=[]),De.__s==null&&(De.__s=De.state),Gt.getDerivedStateFromProps!=null&&(De.__s==De.state&&(De.__s=W({},De.__s)),W(De.__s,Gt.getDerivedStateFromProps(Bt,De.__s))),at=De.props,ut=De.state,jt)Gt.getDerivedStateFromProps==null&&De.componentWillMount!=null&&De.componentWillMount(),De.componentDidMount!=null&&De.__h.push(De.componentDidMount);else{if(Gt.getDerivedStateFromProps==null&&Bt!==at&&De.componentWillReceiveProps!=null&&De.componentWillReceiveProps(Bt,It),!De.__e&&De.shouldComponentUpdate!=null&&De.shouldComponentUpdate(Bt,De.__s,It)===!1||Z.__v===ne.__v){De.props=Bt,De.state=De.__s,Z.__v!==ne.__v&&(De.__d=!1),De.__v=Z,Z.__e=ne.__e,Z.__k=ne.__k,Z.__k.forEach(function(or){or&&(or.__=Z)}),De.__h.length&&pt.push(De);break e}De.componentWillUpdate!=null&&De.componentWillUpdate(Bt,De.__s,It),De.componentDidUpdate!=null&&De.__h.push(function(){De.componentDidUpdate(at,ut,vt)})}De.context=It,De.props=Bt,De.state=De.__s,(mt=c.__r)&&mt(Z),De.__d=!1,De.__v=Z,De.__P=V,mt=De.render(De.props,De.state,De.context),De.state=De.__s,De.getChildContext!=null&&(we=W(W({},we),De.getChildContext())),jt||De.getSnapshotBeforeUpdate==null||(vt=De.getSnapshotBeforeUpdate(at,ut)),Qt=mt!=null&&mt.type===ye&&mt.key==null?mt.props.children:mt,te(V,Array.isArray(Qt)?Qt:[Qt],Z,ne,we,Ge,Pe,pt,st,ft),De.base=Z.__e,Z.__h=null,De.__h.length&&pt.push(De),Ut&&(De.__E=De.__=null),De.__e=!1}else Pe==null&&Z.__v===ne.__v?(Z.__k=ne.__k,Z.__e=ne.__e):Z.__e=Ve(ne.__e,Z,ne,we,Ge,Pe,pt,ft);(mt=c.diffed)&&mt(Z)}catch(or){Z.__v=null,(ft||Pe!=null)&&(Z.__e=st,Z.__h=!!ft,Pe[Pe.indexOf(st)]=null),c.__e(or,Z,ne)}}function He(V,Z){c.__c&&c.__c(Z,V),V.some(function(ne){try{V=ne.__h,ne.__h=[],V.some(function(we){we.call(ne)})}catch(we){c.__e(we,ne.__v)}})}function Ve(V,Z,ne,we,Ge,Pe,pt,st){var ft,mt,De,jt=ne.props,at=Z.props,ut=Z.type,vt=0;if(ut==="svg"&&(Ge=!0),Pe!=null){for(;vt<Pe.length;vt++)if((ft=Pe[vt])&&"setAttribute"in ft==!!ut&&(ut?ft.localName===ut:ft.nodeType===3)){V=ft,Pe[vt]=null;break}}if(V==null){if(ut===null)return document.createTextNode(at);V=Ge?document.createElementNS("http://www.w3.org/2000/svg",ut):document.createElement(ut,at.is&&at),Pe=null,st=!1}if(ut===null)jt===at||st&&V.data===at||(V.data=at);else{if(Pe=Pe&&v.call(V.childNodes),mt=(jt=ne.props||F).dangerouslySetInnerHTML,De=at.dangerouslySetInnerHTML,!st){if(Pe!=null)for(jt={},vt=0;vt<V.attributes.length;vt++)jt[V.attributes[vt].name]=V.attributes[vt].value;(De||mt)&&(De&&(mt&&De.__html==mt.__html||De.__html===V.innerHTML)||(V.innerHTML=De&&De.__html||""))}if(se(V,at,jt,Ge,st),De)Z.__k=[];else if(vt=Z.props.children,te(V,Array.isArray(vt)?vt:[vt],Z,ne,we,Ge&&ut!=="foreignObject",Pe,pt,Pe?Pe[0]:ne.__k&&le(ne,0),st),Pe!=null)for(vt=Pe.length;vt--;)Pe[vt]!=null&&ee(Pe[vt]);st||("value"in at&&(vt=at.value)!==void 0&&(vt!==jt.value||vt!==V.value||ut==="progress"&&!vt)&&re(V,"value",vt,jt.value,!1),"checked"in at&&(vt=at.checked)!==void 0&&vt!==V.checked&&re(V,"checked",vt,jt.checked,!1))}return V}function it(V,Z,ne){try{typeof V=="function"?V(Z):V.current=Z}catch(we){c.__e(we,ne)}}function yt(V,Z,ne){var we,Ge;if(c.unmount&&c.unmount(V),(we=V.ref)&&(we.current&&we.current!==V.__e||it(we,null,Z)),(we=V.__c)!=null){if(we.componentWillUnmount)try{we.componentWillUnmount()}catch(Pe){c.__e(Pe,Z)}we.base=we.__P=null}if(we=V.__k)for(Ge=0;Ge<we.length;Ge++)we[Ge]&&yt(we[Ge],Z,typeof V.type!="function");ne||V.__e==null||ee(V.__e),V.__e=V.__d=void 0}function ht(V,Z,ne){return this.constructor(V,ne)}function Be(V,Z,ne){var we,Ge,Pe;c.__&&c.__(V,Z),Ge=(we=typeof ne=="function")?null:ne&&ne.__k||Z.__k,Pe=[],Re(Z,V=(!we&&ne||Z).__k=ae(ye,null,[V]),Ge||F,F,Z.ownerSVGElement!==void 0,!we&&ne?[ne]:Ge?null:Z.firstChild?v.call(Z.childNodes):null,Pe,!we&&ne?ne:Ge?Ge.__e:Z.firstChild,we),He(Pe,V)}function et(V,Z){Be(V,Z,et)}function tt(V,Z,ne){var we,Ge,Pe,pt=W({},V.props);for(Pe in Z)Pe=="key"?we=Z[Pe]:Pe=="ref"?Ge=Z[Pe]:pt[Pe]=Z[Pe];return arguments.length>2&&(pt.children=arguments.length>3?v.call(arguments,2):ne),q(V.type,pt,we||V.key,Ge||V.ref,null)}function Ue(V,Z){var ne={__c:Z="__cC"+L++,__:V,Consumer:function(we,Ge){return we.children(Ge)},Provider:function(we){var Ge,Pe;return this.getChildContext||(Ge=[],(Pe={})[Z]=this,this.getChildContext=function(){return Pe},this.shouldComponentUpdate=function(pt){this.props.value!==pt.value&&Ge.some(ue)},this.sub=function(pt){Ge.push(pt);var st=pt.componentWillUnmount;pt.componentWillUnmount=function(){Ge.splice(Ge.indexOf(pt),1),st&&st.call(pt)}}),we.children}};return ne.Provider.__=ne.Consumer.contextType=ne}v=Y.slice,c={__e:function(V,Z){for(var ne,we,Ge;Z=Z.__;)if((ne=Z.__c)&&!ne.__)try{if((we=ne.constructor)&&we.getDerivedStateFromError!=null&&(ne.setState(we.getDerivedStateFromError(V)),Ge=ne.__d),ne.componentDidCatch!=null&&(ne.componentDidCatch(V),Ge=ne.__d),Ge)return ne.__E=ne}catch(Pe){V=Pe}throw V}},b=0,M=function(V){return V!=null&&V.constructor===void 0},me.prototype.setState=function(V,Z){var ne;ne=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=W({},this.state),typeof V=="function"&&(V=V(W({},ne),this.props)),V&&W(ne,V),V!=null&&this.__v&&(Z&&this.__h.push(Z),ue(this))},me.prototype.forceUpdate=function(V){this.__v&&(this.__e=!0,V&&this.__h.push(V),ue(this))},me.prototype.render=ye,w=[],C=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ve.__r=0,L=0},function(x,A,u){var v=u(116),c=u(44),b=u(178);v||c(Object.prototype,"toString",b,{unsafe:!0})},function(x,A,u){"use strict";var v=u(39),c=u(83),b=u(70),M=u(56),w=u(111),C="Array Iterator",j=M.set,L=M.getterFor(C);x.exports=w(Array,"Array",function(F,Y){j(this,{type:C,target:v(F),index:0,kind:Y})},function(){var F=L(this),Y=F.target,U=F.kind,W=F.index++;return!Y||W>=Y.length?(F.target=void 0,{value:void 0,done:!0}):U=="keys"?{value:W,done:!1}:U=="values"?{value:Y[W],done:!1}:{value:[W,Y[W]],done:!1}},"values"),b.Arguments=b.Array,c("keys"),c("values"),c("entries")},function(x,A,u){var v=u(7),c=u(147),b=u(148),M=u(3),w=u(57),C=u(27),j=C("iterator"),L=C("toStringTag"),F=M.values,Y=function(W,ee){if(W){if(W[j]!==F)try{w(W,j,F)}catch(q){W[j]=F}if(W[L]||w(W,L,ee),c[ee]){for(var ae in M)if(W[ae]!==M[ae])try{w(W,ae,M[ae])}catch(q){W[ae]=M[ae]}}}};for(var U in c)Y(v[U]&&v[U].prototype,U);Y(b,"DOMTokenList")},function(x,A,u){"use strict";var v=u(16),c=u(7),b=u(46),M=u(76),w=u(35),C=u(15),j=u(64),L=u(36),F=u(109),Y=u(18),U=u(34),W=u(99),ee=u(28),ae=u(33),q=u(58),Me=u(88),ye=u(32),me=u(38),le=u(39),Oe=u(87),ue=u(40),ve=u(71),te=u(54),z=u(66),Q=u(72),oe=u(139),se=u(112),ce=u(51),re=u(37),de=u(93),Ce=u(101),Re=u(44),He=u(84),Ve=u(91),it=u(69),yt=u(85),ht=u(27),Be=u(149),et=u(150),tt=u(73),Ue=u(56),V=u(74).forEach,Z=Ve("hidden"),ne="Symbol",we="prototype",Ge=ht("toPrimitive"),Pe=Ue.set,pt=Ue.getterFor(ne),st=Object[we],ft=c.Symbol,mt=ft&&ft[we],De=c.TypeError,jt=c.QObject,at=b("JSON","stringify"),ut=ce.f,vt=re.f,Ut=oe.f,Bt=de.f,At=C([].push),It=He("symbols"),Qt=He("op-symbols"),Gt=He("string-to-symbol-registry"),or=He("symbol-to-string-registry"),gr=He("wks"),pr=!jt||!jt[we]||!jt[we].findChild,sr=L&&Y(function(){return te(vt({},"a",{get:function(){return vt(this,"a",{value:7}).a}})).a!=7})?function(G,g,P){var R=ut(st,g);R&&delete st[g],vt(G,g,P),R&&G!==st&&vt(st,g,R)}:vt,Ft=function(G,g){var P=It[G]=te(mt);return Pe(P,{type:ne,tag:G,description:g}),L||(P.description=g),P},kt=function(g,P,R){g===st&&kt(Qt,P,R),ye(g);var X=Oe(P);return ye(R),U(It,X)?(R.enumerable?(U(g,Z)&&g[Z][X]&&(g[Z][X]=!1),R=te(R,{enumerable:ve(0,!1)})):(U(g,Z)||vt(g,Z,ve(1,{})),g[Z][X]=!0),sr(g,X,R)):vt(g,X,R)},nr=function(g,P){ye(g);var R=le(P),X=z(R).concat(xt(R));return V(X,function(je){(!L||w(ot,R,je))&&kt(g,je,R[je])}),g},We=function(g,P){return P===void 0?te(g):nr(te(g),P)},ot=function(g){var P=Oe(g),R=w(Bt,this,P);return this===st&&U(It,P)&&!U(Qt,P)?!1:R||!U(this,P)||!U(It,P)||U(this,Z)&&this[Z][P]?R:!0},$e=function(g,P){var R=le(g),X=Oe(P);if(!(R===st&&U(It,X)&&!U(Qt,X))){var je=ut(R,X);return je&&U(It,X)&&!(U(R,Z)&&R[Z][X])&&(je.enumerable=!0),je}},ct=function(g){var P=Ut(le(g)),R=[];return V(P,function(X){!U(It,X)&&!U(it,X)&&At(R,X)}),R},xt=function(g){var P=g===st,R=Ut(P?Qt:le(g)),X=[];return V(R,function(je){U(It,je)&&(!P||U(st,je))&&At(X,It[je])}),X};if(F||(ft=function(){if(q(mt,this))throw De("Symbol is not a constructor");var g=!arguments.length||arguments[0]===void 0?void 0:ue(arguments[0]),P=yt(g),R=function(X){this===st&&w(R,Qt,X),U(this,Z)&&U(this[Z],P)&&(this[Z][P]=!1),sr(this,P,ve(1,X))};return L&&pr&&sr(st,P,{configurable:!0,set:R}),Ft(P,g)},mt=ft[we],Re(mt,"toString",function(){return pt(this).tag}),Re(ft,"withoutSetter",function(G){return Ft(yt(G),G)}),de.f=ot,re.f=kt,ce.f=$e,Q.f=oe.f=ct,se.f=xt,Be.f=function(G){return Ft(ht(G),G)},L&&(vt(mt,"description",{configurable:!0,get:function(){return pt(this).description}}),j||Re(st,"propertyIsEnumerable",ot,{unsafe:!0}))),v({global:!0,wrap:!0,forced:!F,sham:!F},{Symbol:ft}),V(z(gr),function(G){et(G)}),v({target:ne,stat:!0,forced:!F},{for:function(G){var g=ue(G);if(U(Gt,g))return Gt[g];var P=ft(g);return Gt[g]=P,or[P]=g,P},keyFor:function(g){if(!Me(g))throw De(g+" is not a symbol");if(U(or,g))return or[g]},useSetter:function(){pr=!0},useSimple:function(){pr=!1}}),v({target:"Object",stat:!0,forced:!F,sham:!L},{create:We,defineProperty:kt,defineProperties:nr,getOwnPropertyDescriptor:$e}),v({target:"Object",stat:!0,forced:!F},{getOwnPropertyNames:ct,getOwnPropertySymbols:xt}),v({target:"Object",stat:!0,forced:Y(function(){se.f(1)})},{getOwnPropertySymbols:function(g){return se.f(me(g))}}),at){var Dt=!F||Y(function(){var G=ft();return at([G])!="[null]"||at({a:G})!="{}"||at(Object(G))!="{}"});v({target:"JSON",stat:!0,forced:Dt},{stringify:function(g,P,R){var X=Ce(arguments),je=P;if(!(!ae(P)&&g===void 0||Me(g)))return W(P)||(P=function(Ae,Ke){if(ee(je)&&(Ke=w(je,this,Ae,Ke)),!Me(Ke))return Ke}),X[1]=P,M(at,null,X)}})}if(!mt[Ge]){var k=mt.valueOf;Re(mt,Ge,function(G){return w(k,this)})}tt(ft,ne),it[Z]=!0},function(x,A,u){"use strict";var v=u(146).charAt,c=u(40),b=u(56),M=u(111),w="String Iterator",C=b.set,j=b.getterFor(w);M(String,"String",function(L){C(this,{type:w,string:c(L),index:0})},function(){var F=j(this),Y=F.string,U=F.index,W;return U>=Y.length?{value:void 0,done:!0}:(W=v(Y,U),F.index+=W.length,{value:W,done:!1})})},function(x,A,u){(function(v){var c=function(b){return b&&b.Math==Math&&b};x.exports=c(typeof globalThis=="object"&&globalThis)||c(typeof window=="object"&&window)||c(typeof self=="object"&&self)||c(typeof v=="object"&&v)||function(){return this}()||Function("return this")()}).call(this,u(82))},function(x,A,u){"use strict";var v=u(16),c=u(36),b=u(7),M=u(15),w=u(34),C=u(28),j=u(58),L=u(40),F=u(37).f,Y=u(134),U=b.Symbol,W=U&&U.prototype;if(c&&C(U)&&(!("description"in W)||U().description!==void 0)){var ee={},ae=function(){var ve=arguments.length<1||arguments[0]===void 0?void 0:L(arguments[0]),te=j(W,this)?new U(ve):ve===void 0?U():U(ve);return ve===""&&(ee[te]=!0),te};Y(ae,U),ae.prototype=W,W.constructor=ae;var q=String(U("test"))=="Symbol(test)",Me=M(W.toString),ye=M(W.valueOf),me=/^Symbol\((.*)\)[^)]+$/,le=M("".replace),Oe=M("".slice);F(W,"description",{configurable:!0,get:function(){var ve=ye(this),te=Me(ve);if(w(ee,ve))return"";var z=q?Oe(te,7,-1):le(te,me,"$1");return z===""?void 0:z}}),v({global:!0,forced:!0},{Symbol:ae})}},function(x,A,u){var v=u(150);v("iterator")},function(x,A,u){"use strict";u.d(A,"a",function(){return v.a}),u.d(A,"c",function(){return v.e}),u.d(A,"h",function(){return Oe}),u.d(A,"i",function(){return q}),u.d(A,"j",function(){return ee}),u.d(A,"b",function(){return He}),u.d(A,"e",function(){return ht}),u.d(A,"f",function(){return Ve}),u.d(A,"g",function(){return ct});var v=u(1),c,b,M,w=0,C=[],j=v.i.__b,L=v.i.__r,F=v.i.diffed,Y=v.i.__c,U=v.i.unmount;function W(g,P){v.i.__h&&v.i.__h(b,g,w||P),w=0;var R=b.__H||(b.__H={__:[],__h:[]});return g>=R.__.length&&R.__.push({}),R.__[g]}function ee(g){return w=1,ae(de,g)}function ae(g,P,R){var X=W(c++,2);return X.t=g,X.__c||(X.__=[R?R(P):de(void 0,P),function(je){var Ae=X.t(X.__[0],je);X.__[0]!==Ae&&(X.__=[Ae,X.__[1]],X.__c.setState({}))}],X.__c=b),X.__}function q(g,P){var R=W(c++,3);!v.i.__s&&re(R.__H,P)&&(R.__=g,R.__H=P,b.__H.__h.push(R))}function Me(g,P){var R=W(c++,4);!v.i.__s&&re(R.__H,P)&&(R.__=g,R.__H=P,b.__h.push(R))}function ye(g){return w=5,le(function(){return{current:g}},[])}function me(g,P,R){w=6,Me(function(){typeof g=="function"?g(P()):g&&(g.current=P())},R==null?R:R.concat(g))}function le(g,P){var R=W(c++,7);return re(R.__H,P)&&(R.__=g(),R.__H=P,R.__h=g),R.__}function Oe(g,P){return w=8,le(function(){return g},P)}function ue(g){var P=b.context[g.__c],R=W(c++,9);return R.c=g,P?(R.__==null&&(R.__=!0,P.sub(b)),P.props.value):g.__}function ve(g,P){v.i.useDebugValue&&v.i.useDebugValue(P?P(g):g)}function te(g){var P=W(c++,10),R=ee();return P.__=g,b.componentDidCatch||(b.componentDidCatch=function(X){P.__&&P.__(X),R[1](X)}),[R[0],function(){R[1](void 0)}]}function z(){var g;for(C.sort(function(P,R){return P.__v.__b-R.__v.__b});g=C.pop();)if(g.__P)try{g.__H.__h.forEach(se),g.__H.__h.forEach(ce),g.__H.__h=[]}catch(P){g.__H.__h=[],v.i.__e(P,g.__v)}}v.i.__b=function(g){b=null,j&&j(g)},v.i.__r=function(g){L&&L(g),c=0;var P=(b=g.__c).__H;P&&(P.__h.forEach(se),P.__h.forEach(ce),P.__h=[])},v.i.diffed=function(g){F&&F(g);var P=g.__c;P&&P.__H&&P.__H.__h.length&&(C.push(P)!==1&&M===v.i.requestAnimationFrame||((M=v.i.requestAnimationFrame)||oe)(z)),b=null},v.i.__c=function(g,P){P.some(function(R){try{R.__h.forEach(se),R.__h=R.__h.filter(function(X){return!X.__||ce(X)})}catch(X){P.some(function(je){je.__h&&(je.__h=[])}),P=[],v.i.__e(X,R.__v)}}),Y&&Y(g,P)},v.i.unmount=function(g){U&&U(g);var P,R=g.__c;R&&R.__H&&(R.__H.__.forEach(function(X){try{se(X)}catch(je){P=je}}),P&&v.i.__e(P,R.__v))};var Q=typeof requestAnimationFrame=="function";function oe(g){var P,R=function(){clearTimeout(X),Q&&cancelAnimationFrame(P),setTimeout(g)},X=setTimeout(R,100);Q&&(P=requestAnimationFrame(R))}function se(g){var P=b,R=g.__c;typeof R=="function"&&(g.__c=void 0,R()),b=P}function ce(g){var P=b;g.__c=g.__(),b=P}function re(g,P){return!g||g.length!==P.length||P.some(function(R,X){return R!==g[X]})}function de(g,P){return typeof P=="function"?P(g):P}function Ce(g,P){for(var R in P)g[R]=P[R];return g}function Re(g,P){for(var R in g)if(R!=="__source"&&!(R in P))return!0;for(var X in P)if(X!=="__source"&&g[X]!==P[X])return!0;return!1}function He(g){this.props=g}function Ve(g,P){function R(je){var Ae=this.props.ref,Ke=Ae==je.ref;return!Ke&&Ae&&(Ae.call?Ae(null):Ae.current=null),P?!P(this.props,je)||!Ke:Re(this.props,je)}function X(je){return this.shouldComponentUpdate=R,Object(v.e)(g,je)}return X.displayName="Memo("+(g.displayName||g.name)+")",X.prototype.isReactComponent=!0,X.__f=!0,X}(He.prototype=new v.a).isPureReactComponent=!0,He.prototype.shouldComponentUpdate=function(g,P){return Re(this.props,g)||Re(this.state,P)};var it=v.i.__b;v.i.__b=function(g){g.type&&g.type.__f&&g.ref&&(g.props.ref=g.ref,g.ref=null),it&&it(g)};var yt=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function ht(g){function P(R,X){var je=Ce({},R);return delete je.ref,g(je,!(X=R.ref||X)||typeof X=="object"&&!("current"in X)?null:X)}return P.$$typeof=yt,P.render=P,P.prototype.isReactComponent=P.__f=!0,P.displayName="ForwardRef("+(g.displayName||g.name)+")",P}var Be=function(g,P){return g==null?null:Object(v.k)(Object(v.k)(g).map(P))},et={map:Be,forEach:Be,count:function(g){return g?Object(v.k)(g).length:0},only:function(g){var P=Object(v.k)(g);if(P.length!==1)throw"Children.only";return P[0]},toArray:v.k},tt=v.i.__e;v.i.__e=function(g,P,R){if(g.then){for(var X,je=P;je=je.__;)if((X=je.__c)&&X.__c)return P.__e==null&&(P.__e=R.__e,P.__k=R.__k),X.__c(g,P)}tt(g,P,R)};var Ue=v.i.unmount;function V(g,P,R){return g&&(g.__c&&g.__c.__H&&(g.__c.__H.__.forEach(function(X){typeof X.__c=="function"&&X.__c()}),g.__c.__H=null),(g=Ce({},g)).__c!=null&&(g.__c.__P===R&&(g.__c.__P=P),g.__c=null),g.__k=g.__k&&g.__k.map(function(X){return V(X,P,R)})),g}function Z(g,P,R){return g&&(g.__v=null,g.__k=g.__k&&g.__k.map(function(X){return Z(X,P,R)}),g.__c&&g.__c.__P===P&&(g.__e&&R.insertBefore(g.__e,g.__d),g.__c.__e=!0,g.__c.__P=R)),g}function ne(){this.__u=0,this.t=null,this.__b=null}function we(g){var P=g.__.__c;return P&&P.__e&&P.__e(g)}function Ge(g){var P,R,X;function je(Ae){if(P||(P=g()).then(function(Ke){R=Ke.default||Ke},function(Ke){X=Ke}),X)throw X;if(!R)throw P;return Object(v.e)(R,Ae)}return je.displayName="Lazy",je.__f=!0,je}function Pe(){this.u=null,this.o=null}v.i.unmount=function(g){var P=g.__c;P&&P.__R&&P.__R(),P&&g.__h===!0&&(g.type=null),Ue&&Ue(g)},(ne.prototype=new v.a).__c=function(g,P){var R=P.__c,X=this;X.t==null&&(X.t=[]),X.t.push(R);var je=we(X.__v),Ae=!1,Ke=function(){Ae||(Ae=!0,R.__R=null,je?je(Xe):Xe())};R.__R=Ke;var Xe=function(){if(!--X.__u){if(X.state.__e){var Nt=X.state.__e;X.__v.__k[0]=Z(Nt,Nt.__c.__P,Nt.__c.__O)}var bt;for(X.setState({__e:X.__b=null});bt=X.t.pop();)bt.forceUpdate()}},nt=P.__h===!0;X.__u++||nt||X.setState({__e:X.__b=X.__v.__k[0]}),g.then(Ke,Ke)},ne.prototype.componentWillUnmount=function(){this.t=[]},ne.prototype.render=function(g,P){if(this.__b){if(this.__v.__k){var R=document.createElement("div"),X=this.__v.__k[0].__c;this.__v.__k[0]=V(this.__b,R,X.__O=X.__P)}this.__b=null}var je=P.__e&&Object(v.e)(v.b,null,g.fallback);return je&&(je.__h=null),[Object(v.e)(v.b,null,P.__e?null:g.children),je]};var pt=function(g,P,R){if(++R[1]===R[0]&&g.o.delete(P),g.props.revealOrder&&(g.props.revealOrder[0]!=="t"||!g.o.size))for(R=g.u;R;){for(;R.length>3;)R.pop()();if(R[1]<R[0])break;g.u=R=R[2]}};function st(g){return this.getChildContext=function(){return g.context},g.children}function ft(g){var P=this,R=g.i;P.componentWillUnmount=function(){Object(v.j)(null,P.l),P.l=null,P.i=null},P.i&&P.i!==R&&P.componentWillUnmount(),g.__v?(P.l||(P.i=R,P.l={nodeType:1,parentNode:R,childNodes:[],appendChild:function(X){this.childNodes.push(X),P.i.appendChild(X)},insertBefore:function(X,je){this.childNodes.push(X),P.i.appendChild(X)},removeChild:function(X){this.childNodes.splice(this.childNodes.indexOf(X)>>>1,1),P.i.removeChild(X)}}),Object(v.j)(Object(v.e)(st,{context:P.context},g.__v),P.l)):P.l&&P.componentWillUnmount()}function mt(g,P){return Object(v.e)(ft,{__v:g,i:P})}(Pe.prototype=new v.a).__e=function(g){var P=this,R=we(P.__v),X=P.o.get(g);return X[0]++,function(je){var Ae=function(){P.props.revealOrder?(X.push(je),pt(P,g,X)):je()};R?R(Ae):Ae()}},Pe.prototype.render=function(g){this.u=null,this.o=new Map;var P=Object(v.k)(g.children);g.revealOrder&&g.revealOrder[0]==="b"&&P.reverse();for(var R=P.length;R--;)this.o.set(P[R],this.u=[1,0,this.u]);return g.children},Pe.prototype.componentDidUpdate=Pe.prototype.componentDidMount=function(){var g=this;this.o.forEach(function(P,R){pt(g,R,P)})};var De=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,jt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,at=typeof document!="undefined",ut=function(g){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(g)};function vt(g,P,R){return P.__k==null&&(P.textContent=""),Object(v.j)(g,P),typeof R=="function"&&R(),g?g.__c:null}function Ut(g,P,R){return Object(v.h)(g,P),typeof R=="function"&&R(),g?g.__c:null}v.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(g){Object.defineProperty(v.a.prototype,g,{configurable:!0,get:function(){return this["UNSAFE_"+g]},set:function(P){Object.defineProperty(this,g,{configurable:!0,writable:!0,value:P})}})});var Bt=v.i.event;function At(){}function It(){return this.cancelBubble}function Qt(){return this.defaultPrevented}v.i.event=function(g){return Bt&&(g=Bt(g)),g.persist=At,g.isPropagationStopped=It,g.isDefaultPrevented=Qt,g.nativeEvent=g};var Gt,or={configurable:!0,get:function(){return this.class}},gr=v.i.vnode;v.i.vnode=function(g){var P=g.type,R=g.props,X=R;if(typeof P=="string"){var je=P.indexOf("-")===-1;for(var Ae in X={},R){var Ke=R[Ae];at&&Ae==="children"&&P==="noscript"||Ae==="value"&&"defaultValue"in R&&Ke==null||(Ae==="defaultValue"&&"value"in R&&R.value==null?Ae="value":Ae==="download"&&Ke===!0?Ke="":/ondoubleclick/i.test(Ae)?Ae="ondblclick":/^onchange(textarea|input)/i.test(Ae+P)&&!ut(R.type)?Ae="oninput":/^onfocus$/i.test(Ae)?Ae="onfocusin":/^onblur$/i.test(Ae)?Ae="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ae)?Ae=Ae.toLowerCase():je&&jt.test(Ae)?Ae=Ae.replace(/[A-Z0-9]/,"-$&").toLowerCase():Ke===null&&(Ke=void 0),X[Ae]=Ke)}P=="select"&&X.multiple&&Array.isArray(X.value)&&(X.value=Object(v.k)(R.children).forEach(function(Xe){Xe.props.selected=X.value.indexOf(Xe.props.value)!=-1})),P=="select"&&X.defaultValue!=null&&(X.value=Object(v.k)(R.children).forEach(function(Xe){Xe.props.selected=X.multiple?X.defaultValue.indexOf(Xe.props.value)!=-1:X.defaultValue==Xe.props.value})),g.props=X,R.class!=R.className&&(or.enumerable="className"in R,R.className!=null&&(X.class=R.className),Object.defineProperty(X,"className",or))}g.$$typeof=De,gr&&gr(g)};var pr=v.i.__r;v.i.__r=function(g){pr&&pr(g),Gt=g.__c};var sr={ReactCurrentDispatcher:{current:{readContext:function(g){return Gt.__n[g.__c].props.value}}}},Ft="17.0.2";function kt(g){return v.e.bind(null,g)}function nr(g){return!!g&&g.$$typeof===De}function We(g){return nr(g)?v.c.apply(null,arguments):g}function ot(g){return!!g.__k&&(Object(v.j)(null,g),!0)}function $e(g){return g&&(g.base||g.nodeType===1&&g)||null}var ct=function(g,P){return g(P)},xt=function(g,P){return g(P)},Dt=v.b,k={useState:ee,useReducer:ae,useEffect:q,useLayoutEffect:Me,useRef:ye,useImperativeHandle:me,useMemo:le,useCallback:Oe,useContext:ue,useDebugValue:ve,version:"17.0.2",Children:et,render:vt,hydrate:Ut,unmountComponentAtNode:ot,createPortal:mt,createElement:v.e,createContext:v.d,createFactory:kt,cloneElement:We,createRef:v.f,Fragment:v.b,isValidElement:nr,findDOMNode:$e,Component:v.a,PureComponent:He,memo:Ve,forwardRef:ht,flushSync:xt,unstable_batchedUpdates:ct,StrictMode:Dt,Suspense:ne,SuspenseList:Pe,lazy:Ge,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:sr},G=A.d=k},function(x,A,u){var v=u(7),c=u(147),b=u(148),M=u(179),w=u(57),C=function(L){if(L&&L.forEach!==M)try{w(L,"forEach",M)}catch(F){L.forEach=M}};for(var j in c)c[j]&&C(v[j]&&v[j].prototype);C(b)},function(x,A,u){var v=u(16),c=u(97);v({target:"Object",stat:!0},{setPrototypeOf:c})},function(x,A,u){var v=u(16),c=u(18),b=u(38),M=u(96),w=u(137),C=c(function(){M(1)});v({target:"Object",stat:!0,forced:C,sham:!w},{getPrototypeOf:function(L){return M(b(L))}})},function(x,A,u){var v=u(16),c=u(46),b=u(76),M=u(199),w=u(157),C=u(32),j=u(33),L=u(54),F=u(18),Y=c("Reflect","construct"),U=Object.prototype,W=[].push,ee=F(function(){function Me(){}return!(Y(function(){},[],Me)instanceof Me)}),ae=!F(function(){Y(function(){})}),q=ee||ae;v({target:"Reflect",stat:!0,forced:q,sham:q},{construct:function(ye,me){w(ye),C(me);var le=arguments.length<3?ye:w(arguments[2]);if(ae&&!ee)return Y(ye,me,le);if(ye==le){switch(me.length){case 0:return new ye;case 1:return new ye(me[0]);case 2:return new ye(me[0],me[1]);case 3:return new ye(me[0],me[1],me[2]);case 4:return new ye(me[0],me[1],me[2],me[3])}var Oe=[null];return b(W,Oe,me),new(b(M,ye,Oe))}var ue=le.prototype,ve=L(j(ue)?ue:U),te=b(ye,ve,me);return j(te)?te:ve}})},function(x,A){var u=Function.prototype,v=u.bind,c=u.call,b=v&&v.bind(c);x.exports=v?function(M){return M&&b(c,M)}:function(M){return M&&function(){return c.apply(M,arguments)}}},function(x,A,u){var v=u(7),c=u(51).f,b=u(57),M=u(44),w=u(108),C=u(134),j=u(95);x.exports=function(L,F){var Y=L.target,U=L.global,W=L.stat,ee,ae,q,Me,ye,me;if(U?ae=v:W?ae=v[Y]||w(Y,{}):ae=(v[Y]||{}).prototype,ae)for(q in F){if(ye=F[q],L.noTargetGet?(me=c(ae,q),Me=me&&me.value):Me=ae[q],ee=j(U?q:Y+(W?".":"#")+q,L.forced),!ee&&Me!==void 0){if(typeof ye==typeof Me)continue;C(ye,Me)}(L.sham||Me&&Me.sham)&&b(ye,"sham",!0),M(ae,q,ye,L)}}},function(x,A,u){"use strict";var v=u(16),c=u(7),b=u(99),M=u(100),w=u(33),C=u(67),j=u(43),L=u(39),F=u(61),Y=u(27),U=u(75),W=u(101),ee=U("slice"),ae=Y("species"),q=c.Array,Me=Math.max;v({target:"Array",proto:!0,forced:!ee},{slice:function(me,le){var Oe=L(this),ue=j(Oe),ve=C(me,ue),te=C(le===void 0?ue:le,ue),z,Q,oe;if(b(Oe)&&(z=Oe.constructor,M(z)&&(z===q||b(z.prototype))?z=void 0:w(z)&&(z=z[ae],z===null&&(z=void 0)),z===q||z===void 0))return W(Oe,ve,te);for(Q=new(z===void 0?q:z)(Me(te-ve,0)),oe=0;ve<te;ve++,oe++)ve in Oe&&F(Q,oe,Oe[ve]);return Q.length=oe,Q}})},function(x,A){x.exports=function(u){try{return!!u()}catch(v){return!0}}},function(x,A,u){"use strict";var v=u(16),c=u(102);v({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},function(x,A,u){var v=u(16),c=u(38),b=u(66),M=u(18),w=M(function(){b(1)});v({target:"Object",stat:!0,forced:w},{keys:function(j){return b(c(j))}})},function(x,A,u){var v=u(16),c=u(18),b=u(39),M=u(51).f,w=u(36),C=c(function(){M(1)}),j=!w||C;v({target:"Object",stat:!0,forced:j,sham:!w},{getOwnPropertyDescriptor:function(F,Y){return M(b(F),Y)}})},function(x,A,u){"use strict";var v=u(16),c=u(74).filter,b=u(75),M=b("filter");v({target:"Array",proto:!0,forced:!M},{filter:function(C){return c(this,C,arguments.length>1?arguments[1]:void 0)}})},function(x,A,u){var v=u(16),c=u(36),b=u(135),M=u(39),w=u(51),C=u(61);v({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(L){for(var F=M(L),Y=w.f,U=b(F),W={},ee=0,ae,q;U.length>ee;)q=Y(F,ae=U[ee++]),q!==void 0&&C(W,ae,q);return W}})},function(x,A,u){var v=u(36),c=u(94).EXISTS,b=u(15),M=u(37).f,w=Function.prototype,C=b(w.toString),j=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,L=b(j.exec),F="name";v&&!c&&M(w,F,{configurable:!0,get:function(){try{return L(j,C(this))[1]}catch(Y){return""}}})},function(x,A,u){var v=u(16),c=u(182),b=u(118),M=!b(function(w){Array.from(w)});v({target:"Array",stat:!0,forced:M},{from:c})},,function(x,A,u){var v=u(7),c=u(84),b=u(34),M=u(85),w=u(109),C=u(128),j=c("wks"),L=v.Symbol,F=L&&L.for,Y=C?L:L&&L.withoutSetter||M;x.exports=function(U){if(!b(j,U)||!(w||typeof j[U]=="string")){var W="Symbol."+U;w&&b(L,U)?j[U]=L[U]:C&&F?j[U]=F(W):j[U]=Y(W)}return j[U]}},function(x,A){x.exports=function(u){return typeof u=="function"}},function(x,A,u){"use strict";var v=u(16),c=u(7),b=u(18),M=u(99),w=u(33),C=u(38),j=u(43),L=u(61),F=u(119),Y=u(75),U=u(27),W=u(65),ee=U("isConcatSpreadable"),ae=9007199254740991,q="Maximum allowed index exceeded",Me=c.TypeError,ye=W>=51||!b(function(){var ue=[];return ue[ee]=!1,ue.concat()[0]!==ue}),me=Y("concat"),le=function(ue){if(!w(ue))return!1;var ve=ue[ee];return ve!==void 0?!!ve:M(ue)},Oe=!ye||!me;v({target:"Array",proto:!0,forced:Oe},{concat:function(ve){var te=C(this),z=F(te,0),Q=0,oe,se,ce,re,de;for(oe=-1,ce=arguments.length;oe<ce;oe++)if(de=oe===-1?te:arguments[oe],le(de)){if(re=j(de),Q+re>ae)throw Me(q);for(se=0;se<re;se++,Q++)se in de&&L(z,Q,de[se])}else{if(Q>=ae)throw Me(q);L(z,Q++,de)}return z.length=Q,z}})},function(x,A,u){var v=u(16),c=u(198);v({target:"Object",stat:!0,forced:Object.assign!==c},{assign:c})},function(x,A,u){"use strict";var v=u(105),c=typeof self=="object"&&self&&self.Object===Object&&self,b=v.a||c||Function("return this")();A.a=b},function(x,A,u){var v=u(7),c=u(33),b=v.String,M=v.TypeError;x.exports=function(w){if(c(w))return w;throw M(b(w)+" is not an object")}},function(x,A,u){var v=u(28);x.exports=function(c){return typeof c=="object"?c!==null:v(c)}},function(x,A,u){var v=u(15),c=u(38),b=v({}.hasOwnProperty);x.exports=Object.hasOwn||function(w,C){return b(c(w),C)}},function(x,A){var u=Function.prototype.call;x.exports=u.bind?u.bind(u):function(){return u.apply(u,arguments)}},function(x,A,u){var v=u(18);x.exports=!v(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(x,A,u){var v=u(7),c=u(36),b=u(129),M=u(32),w=u(87),C=v.TypeError,j=Object.defineProperty;A.f=c?j:function(F,Y,U){if(M(F),Y=w(Y),M(U),b)try{return j(F,Y,U)}catch(W){}if("get"in U||"set"in U)throw C("Accessors not supported");return"value"in U&&(F[Y]=U.value),F}},function(x,A,u){var v=u(7),c=u(45),b=v.Object;x.exports=function(M){return b(c(M))}},function(x,A,u){var v=u(81),c=u(45);x.exports=function(b){return v(c(b))}},function(x,A,u){var v=u(7),c=u(98),b=v.String;x.exports=function(M){if(c(M)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return b(M)}},function(x,A,u){"use strict";var v=u(16),c=u(74).map,b=u(75),M=b("map");v({target:"Array",proto:!0,forced:!M},{map:function(C){return c(this,C,arguments.length>1?arguments[1]:void 0)}})},function(x,A,u){"use strict";(function(v){u.d(A,"d",function(){return C}),u.d(A,"c",function(){return j}),u.d(A,"b",function(){return L}),u.d(A,"a",function(){return Y});var c=u(10),b=function(U,W){var ee=typeof Symbol=="function"&&U[Symbol.iterator];if(!ee)return U;var ae=ee.call(U),q,Me=[],ye;try{for(;(W===void 0||W-- >0)&&!(q=ae.next()).done;)Me.push(q.value)}catch(me){ye={error:me}}finally{try{q&&!q.done&&(ee=ae.return)&&ee.call(ae)}finally{if(ye)throw ye.error}}return Me},M=[];function w(U){Object(c.i)(function(){return U},M)}function C(){var U=b(Object(c.j)(0),2),W=U[1],ee=Object(c.h)(function(){W(function(ae){return ae+1})},[]);return ee}function j(U){if(!U||typeof U!="object")return!1;var W=Object.getPrototypeOf(U);return!W||W===Object.prototype}function L(U){return typeof Symbol=="function"?Symbol.for(U):"__$mobx-react "+U+"__"}var F={};function Y(){return typeof window!="undefined"?window:typeof v!="undefined"?v:typeof self!="undefined"?self:F}}).call(this,u(82))},function(x,A,u){var v=u(90);x.exports=function(c){return v(c.length)}},function(x,A,u){var v=u(7),c=u(28),b=u(34),M=u(57),w=u(108),C=u(92),j=u(56),L=u(94).CONFIGURABLE,F=j.get,Y=j.enforce,U=String(String).split("String");(x.exports=function(W,ee,ae,q){var Me=q?!!q.unsafe:!1,ye=q?!!q.enumerable:!1,me=q?!!q.noTargetGet:!1,le=q&&q.name!==void 0?q.name:ee,Oe;if(c(ae)&&(String(le).slice(0,7)==="Symbol("&&(le="["+String(le).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!b(ae,"name")||L&&ae.name!==le)&&M(ae,"name",le),Oe=Y(ae),Oe.source||(Oe.source=U.join(typeof le=="string"?le:""))),W===v){ye?W[ee]=ae:w(ee,ae);return}else Me?!me&&W[ee]&&(ye=!0):delete W[ee];ye?W[ee]=ae:M(W,ee,ae)})(Function.prototype,"toString",function(){return c(this)&&F(this).source||C(this)})},function(x,A,u){var v=u(7),c=v.TypeError;x.exports=function(b){if(b==null)throw c("Can't call method on "+b);return b}},function(x,A,u){var v=u(7),c=u(28),b=function(M){return c(M)?M:void 0};x.exports=function(M,w){return arguments.length<2?b(v[M]):v[M]&&v[M][w]}},function(x,A,u){var v=u(16),c=u(35),b=u(33),M=u(32),w=u(200),C=u(51),j=u(96);function L(F,Y){var U=arguments.length<3?F:arguments[2],W,ee;if(M(F)===U)return F[Y];if(W=C.f(F,Y),W)return w(W)?W.value:W.get===void 0?void 0:c(W.get,U);if(b(ee=j(F)))return L(ee,Y,U)}v({target:"Reflect",stat:!0},{get:L})},function(x,A,u){"use strict";(function(v){var c=u(31),b=u(165),M=rr&&!rr.nodeType&&rr,w=M&&typeof v=="object"&&v&&!v.nodeType&&v,C=w&&w.exports===M,j=C?c.a.Buffer:void 0,L=j?j.isBuffer:void 0,F=L||b.a;A.a=F}).call(this,u(121)(x))},function(x,A,u){"use strict";(function(v){var c=u(105),b=rr&&!rr.nodeType&&rr,M=b&&typeof v=="object"&&v&&!v.nodeType&&v,w=M&&M.exports===b,C=w&&c.a.process,j=function(){try{var L=M&&M.require&&M.require("util").types;return L||C&&C.binding&&C.binding("util")}catch(F){}}();A.a=j}).call(this,u(121)(x))},function(x,A,u){var v=u(15),c=v({}.toString),b=v("".slice);x.exports=function(M){return b(c(M),8,-1)}},function(x,A,u){var v=u(36),c=u(35),b=u(93),M=u(71),w=u(39),C=u(87),j=u(34),L=u(129),F=Object.getOwnPropertyDescriptor;A.f=v?F:function(U,W){if(U=w(U),W=C(W),L)try{return F(U,W)}catch(ee){}if(j(U,W))return M(!c(b.f,U,W),U[W])}},function(x,A,u){var v=u(16),c=u(213).entries;v({target:"Object",stat:!0},{entries:function(M){return c(M)}})},function(x,A,u){var v=u(46);x.exports=v("navigator","userAgent")||""},function(x,A,u){var v=u(32),c=u(168),b=u(110),M=u(69),w=u(133),C=u(86),j=u(91),L=">",F="<",Y="prototype",U="script",W=j("IE_PROTO"),ee=function(){},ae=function(le){return F+U+L+le+F+"/"+U+L},q=function(le){le.write(ae("")),le.close();var Oe=le.parentWindow.Object;return le=null,Oe},Me=function(){var le=C("iframe"),Oe="java"+U+":",ue;return le.style.display="none",w.appendChild(le),le.src=String(Oe),ue=le.contentWindow.document,ue.open(),ue.write(ae("document.F=Object")),ue.close(),ue.F},ye,me=function(){try{ye=new ActiveXObject("htmlfile")}catch(Oe){}me=typeof document!="undefined"?document.domain&&ye?q(ye):Me():q(ye);for(var le=b.length;le--;)delete me[Y][b[le]];return me()};M[W]=!0,x.exports=Object.create||function(Oe,ue){var ve;return Oe!==null?(ee[Y]=v(Oe),ve=new ee,ee[Y]=null,ve[W]=Oe):ve=me(),ue===void 0?ve:c(ve,ue)}},function(x,A,u){var v=u(7),c=u(28),b=u(89),M=v.TypeError;x.exports=function(w){if(c(w))return w;throw M(b(w)+" is not a function")}},function(x,A,u){var v=u(170),c=u(7),b=u(15),M=u(33),w=u(57),C=u(34),j=u(107),L=u(91),F=u(69),Y="Object already initialized",U=c.TypeError,W=c.WeakMap,ee,ae,q,Me=function(te){return q(te)?ae(te):ee(te,{})},ye=function(te){return function(z){var Q;if(!M(z)||(Q=ae(z)).type!==te)throw U("Incompatible receiver, "+te+" required");return Q}};if(v||j.state){var me=j.state||(j.state=new W),le=b(me.get),Oe=b(me.has),ue=b(me.set);ee=function(te,z){if(Oe(me,te))throw new U(Y);return z.facade=te,ue(me,te,z),z},ae=function(te){return le(me,te)||{}},q=function(te){return Oe(me,te)}}else{var ve=L("state");F[ve]=!0,ee=function(te,z){if(C(te,ve))throw new U(Y);return z.facade=te,w(te,ve,z),z},ae=function(te){return C(te,ve)?te[ve]:{}},q=function(te){return C(te,ve)}}x.exports={set:ee,get:ae,has:q,enforce:Me,getterFor:ye}},function(x,A,u){var v=u(36),c=u(37),b=u(71);x.exports=v?function(M,w,C){return c.f(M,w,b(1,C))}:function(M,w,C){return M[w]=C,M}},function(x,A,u){var v=u(15);x.exports=v({}.isPrototypeOf)},function(x,A,u){var v=u(55);x.exports=function(c,b){var M=c[b];return M==null?void 0:v(M)}},function(x,A,u){"use strict";var v=u(173),c=u(177);v("Map",function(b){return function(){return b(this,arguments.length?arguments[0]:void 0)}},c)},function(x,A,u){"use strict";var v=u(87),c=u(37),b=u(71);x.exports=function(M,w,C){var j=v(w);j in M?c.f(M,j,b(0,C)):M[j]=C}},function(x,A,u){var v=u(15),c=u(55),b=v(v.bind);x.exports=function(M,w){return c(M),w===void 0?M:b?b(M,w):function(){return M.apply(w,arguments)}}},function(x,A,u){var v=u(16),c=u(214),b=u(83);v({target:"Array",proto:!0},{fill:c}),b("fill")},function(x,A){x.exports=!1},function(x,A,u){var v=u(7),c=u(53),b=v.process,M=v.Deno,w=b&&b.versions||M&&M.version,C=w&&w.v8,j,L;C&&(j=C.split("."),L=j[0]>0&&j[0]<4?1:+(j[0]+j[1])),!L&&c&&(j=c.match(/Edge\/(\d+)/),(!j||j[1]>=74)&&(j=c.match(/Chrome\/(\d+)/),j&&(L=+j[1]))),x.exports=L},function(x,A,u){var v=u(131),c=u(110);x.exports=Object.keys||function(M){return v(M,c)}},function(x,A,u){var v=u(68),c=Math.max,b=Math.min;x.exports=function(M,w){var C=v(M);return C<0?c(C+w,0):b(C,w)}},function(x,A){var u=Math.ceil,v=Math.floor;x.exports=function(c){var b=+c;return b!==b||b===0?0:(b>0?v:u)(b)}},function(x,A){x.exports={}},function(x,A){x.exports={}},function(x,A){x.exports=function(u,v){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:v}}},function(x,A,u){var v=u(131),c=u(110),b=c.concat("length","prototype");A.f=Object.getOwnPropertyNames||function(w){return v(w,b)}},function(x,A,u){var v=u(37).f,c=u(34),b=u(27),M=b("toStringTag");x.exports=function(w,C,j){w&&!c(w=j?w:w.prototype,M)&&v(w,M,{configurable:!0,value:C})}},function(x,A,u){var v=u(62),c=u(15),b=u(81),M=u(38),w=u(43),C=u(119),j=c([].push),L=function(F){var Y=F==1,U=F==2,W=F==3,ee=F==4,ae=F==6,q=F==7,Me=F==5||ae;return function(ye,me,le,Oe){for(var ue=M(ye),ve=b(ue),te=v(me,le),z=w(ve),Q=0,oe=Oe||C,se=Y?oe(ye,z):U||q?oe(ye,0):void 0,ce,re;z>Q;Q++)if((Me||Q in ve)&&(ce=ve[Q],re=te(ce,Q,ue),F))if(Y)se[Q]=re;else if(re)switch(F){case 3:return!0;case 5:return ce;case 6:return Q;case 2:j(se,ce)}else switch(F){case 4:return!1;case 7:j(se,ce)}return ae?-1:W||ee?ee:se}};x.exports={forEach:L(0),map:L(1),filter:L(2),some:L(3),every:L(4),find:L(5),findIndex:L(6),filterReject:L(7)}},function(x,A,u){var v=u(18),c=u(27),b=u(65),M=c("species");x.exports=function(w){return b>=51||!v(function(){var C=[],j=C.constructor={};return j[M]=function(){return{foo:1}},C[w](Boolean).foo!==1})}},function(x,A){var u=Function.prototype,v=u.apply,c=u.bind,b=u.call;x.exports=typeof Reflect=="object"&&Reflect.apply||(c?b.bind(v):function(){return b.apply(v,arguments)})},function(x,A,u){"use strict";var v=u(16),c=u(15),b=u(81),M=u(39),w=u(120),C=c([].join),j=b!=Object,L=w("join",",");v({target:"Array",proto:!0,forced:j||!L},{join:function(Y){return C(M(this),Y===void 0?",":Y)}})},function(x,A,u){"use strict";var v=u(76),c=u(35),b=u(15),M=u(122),w=u(154),C=u(32),j=u(45),L=u(156),F=u(123),Y=u(90),U=u(40),W=u(59),ee=u(113),ae=u(124),q=u(102),Me=u(151),ye=u(18),me=Me.UNSUPPORTED_Y,le=4294967295,Oe=Math.min,ue=[].push,ve=b(/./.exec),te=b(ue),z=b("".slice),Q=!ye(function(){var oe=/(?:)/,se=oe.exec;oe.exec=function(){return se.apply(this,arguments)};var ce="ab".split(oe);return ce.length!==2||ce[0]!=="a"||ce[1]!=="b"});M("split",function(oe,se,ce){var re;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?re=function(de,Ce){var Re=U(j(this)),He=Ce===void 0?le:Ce>>>0;if(He===0)return[];if(de===void 0)return[Re];if(!w(de))return c(se,Re,de,He);for(var Ve=[],it=(de.ignoreCase?"i":"")+(de.multiline?"m":"")+(de.unicode?"u":"")+(de.sticky?"y":""),yt=0,ht=new RegExp(de.source,it+"g"),Be,et,tt;(Be=c(q,ht,Re))&&(et=ht.lastIndex,!(et>yt&&(te(Ve,z(Re,yt,Be.index)),Be.length>1&&Be.index<Re.length&&v(ue,Ve,ee(Be,1)),tt=Be[0].length,yt=et,Ve.length>=He)));)ht.lastIndex===Be.index&&ht.lastIndex++;return yt===Re.length?(tt||!ve(ht,""))&&te(Ve,""):te(Ve,z(Re,yt)),Ve.length>He?ee(Ve,0,He):Ve}:"0".split(void 0,0).length?re=function(de,Ce){return de===void 0&&Ce===0?[]:c(se,this,de,Ce)}:re=se,[function(Ce,Re){var He=j(this),Ve=Ce==null?void 0:W(Ce,oe);return Ve?c(Ve,Ce,He,Re):c(re,U(He),Ce,Re)},function(de,Ce){var Re=C(this),He=U(de),Ve=ce(re,Re,He,Ce,re!==se);if(Ve.done)return Ve.value;var it=L(Re,RegExp),yt=Re.unicode,ht=(Re.ignoreCase?"i":"")+(Re.multiline?"m":"")+(Re.unicode?"u":"")+(me?"g":"y"),Be=new it(me?"^(?:"+Re.source+")":Re,ht),et=Ce===void 0?le:Ce>>>0;if(et===0)return[];if(He.length===0)return ae(Be,He)===null?[He]:[];for(var tt=0,Ue=0,V=[];Ue<He.length;){Be.lastIndex=me?0:Ue;var Z=ae(Be,me?z(He,Ue):He),ne;if(Z===null||(ne=Oe(Y(Be.lastIndex+(me?Ue:0)),He.length))===tt)Ue=F(He,Ue,yt);else{if(te(V,z(He,tt,Ue)),V.length===et)return V;for(var we=1;we<=Z.length-1;we++)if(te(V,Z[we]),V.length===et)return V;Ue=tt=ne}}return te(V,z(He,tt)),V}]},!Q,me)},function(x,A,u){"use strict";var v=u(36),c=u(7),b=u(15),M=u(95),w=u(44),C=u(34),j=u(143),L=u(58),F=u(88),Y=u(130),U=u(18),W=u(72).f,ee=u(51).f,ae=u(37).f,q=u(196),Me=u(159).trim,ye="Number",me=c[ye],le=me.prototype,Oe=c.TypeError,ue=b("".slice),ve=b("".charCodeAt),te=function(re){var de=Y(re,"number");return typeof de=="bigint"?de:z(de)},z=function(re){var de=Y(re,"number"),Ce,Re,He,Ve,it,yt,ht,Be;if(F(de))throw Oe("Cannot convert a Symbol value to a number");if(typeof de=="string"&&de.length>2){if(de=Me(de),Ce=ve(de,0),Ce===43||Ce===45){if(Re=ve(de,2),Re===88||Re===120)return NaN}else if(Ce===48){switch(ve(de,1)){case 66:case 98:He=2,Ve=49;break;case 79:case 111:He=8,Ve=55;break;default:return+de}for(it=ue(de,2),yt=it.length,ht=0;ht<yt;ht++)if(Be=ve(it,ht),Be<48||Be>Ve)return NaN;return parseInt(it,He)}}return+de};if(M(ye,!me(" 0o1")||!me("0b1")||me("+0x1"))){for(var Q=function(de){var Ce=arguments.length<1?0:me(te(de)),Re=this;return L(le,Re)&&U(function(){q(Re)})?j(Object(Ce),Re,Q):Ce},oe=v?W(me):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),se=0,ce;oe.length>se;se++)C(me,ce=oe[se])&&!C(Q,ce)&&ae(Q,ce,ee(me,ce));Q.prototype=le,le.constructor=Q,w(c,ye,Q)}},function(x,A,u){var v=u(16);v({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(x,A,u){var v=u(7),c=u(15),b=u(18),M=u(50),w=v.Object,C=c("".split);x.exports=b(function(){return!w("z").propertyIsEnumerable(0)})?function(j){return M(j)=="String"?C(j,""):w(j)}:w},function(x,A){var u;u=function(){return this}();try{u=u||new Function("return this")()}catch(v){typeof window=="object"&&(u=window)}x.exports=u},function(x,A,u){var v=u(27),c=u(54),b=u(37),M=v("unscopables"),w=Array.prototype;w[M]==null&&b.f(w,M,{configurable:!0,value:c(null)}),x.exports=function(C){w[M][C]=!0}},function(x,A,u){var v=u(64),c=u(107);(x.exports=function(b,M){return c[b]||(c[b]=M!==void 0?M:{})})("versions",[]).push({version:"3.19.3",mode:v?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(x,A,u){var v=u(15),c=0,b=Math.random(),M=v(1 .toString);x.exports=function(w){return"Symbol("+(w===void 0?"":w)+")_"+M(++c+b,36)}},function(x,A,u){var v=u(7),c=u(33),b=v.document,M=c(b)&&c(b.createElement);x.exports=function(w){return M?b.createElement(w):{}}},function(x,A,u){var v=u(130),c=u(88);x.exports=function(b){var M=v(b,"string");return c(M)?M:M+""}},function(x,A,u){var v=u(7),c=u(46),b=u(28),M=u(58),w=u(128),C=v.Object;x.exports=w?function(j){return typeof j=="symbol"}:function(j){var L=c("Symbol");return b(L)&&M(L.prototype,C(j))}},function(x,A,u){var v=u(7),c=v.String;x.exports=function(b){try{return c(b)}catch(M){return"Object"}}},function(x,A,u){var v=u(68),c=Math.min;x.exports=function(b){return b>0?c(v(b),9007199254740991):0}},function(x,A,u){var v=u(84),c=u(85),b=v("keys");x.exports=function(M){return b[M]||(b[M]=c(M))}},function(x,A,u){var v=u(15),c=u(28),b=u(107),M=v(Function.toString);c(b.inspectSource)||(b.inspectSource=function(w){return M(w)}),x.exports=b.inspectSource},function(x,A,u){"use strict";var v={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,b=c&&!v.call({1:2},1);A.f=b?function(w){var C=c(this,w);return!!C&&C.enumerable}:v},function(x,A,u){var v=u(36),c=u(34),b=Function.prototype,M=v&&Object.getOwnPropertyDescriptor,w=c(b,"name"),C=w&&function(){}.name==="something",j=w&&(!v||v&&M(b,"name").configurable);x.exports={EXISTS:w,PROPER:C,CONFIGURABLE:j}},function(x,A,u){var v=u(18),c=u(28),b=/#|\.prototype\./,M=function(F,Y){var U=C[w(F)];return U==L?!0:U==j?!1:c(Y)?v(Y):!!Y},w=M.normalize=function(F){return String(F).replace(b,".").toLowerCase()},C=M.data={},j=M.NATIVE="N",L=M.POLYFILL="P";x.exports=M},function(x,A,u){var v=u(7),c=u(34),b=u(28),M=u(38),w=u(91),C=u(137),j=w("IE_PROTO"),L=v.Object,F=L.prototype;x.exports=C?L.getPrototypeOf:function(Y){var U=M(Y);if(c(U,j))return U[j];var W=U.constructor;return b(W)&&U instanceof W?W.prototype:U instanceof L?F:null}},function(x,A,u){var v=u(15),c=u(32),b=u(172);x.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var M=!1,w={},C;try{C=v(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),C(w,[]),M=w instanceof Array}catch(j){}return function(L,F){return c(L),b(F),M?C(L,F):L.__proto__=F,L}}():void 0)},function(x,A,u){var v=u(7),c=u(116),b=u(28),M=u(50),w=u(27),C=w("toStringTag"),j=v.Object,L=M(function(){return arguments}())=="Arguments",F=function(Y,U){try{return Y[U]}catch(W){}};x.exports=c?M:function(Y){var U,W,ee;return Y===void 0?"Undefined":Y===null?"Null":typeof(W=F(U=j(Y),C))=="string"?W:L?M(U):(ee=M(U))=="Object"&&b(U.callee)?"Arguments":ee}},function(x,A,u){var v=u(50);x.exports=Array.isArray||function(b){return v(b)=="Array"}},function(x,A,u){var v=u(15),c=u(18),b=u(28),M=u(98),w=u(46),C=u(92),j=function(){},L=[],F=w("Reflect","construct"),Y=/^\s*(?:class|function)\b/,U=v(Y.exec),W=!Y.exec(j),ee=function(q){if(!b(q))return!1;try{return F(j,L,q),!0}catch(Me){return!1}},ae=function(q){if(!b(q))return!1;switch(M(q)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return W||!!U(Y,C(q))};x.exports=!F||c(function(){var q;return ee(ee.call)||!ee(Object)||!ee(function(){q=!0})||q})?ae:ee},function(x,A,u){var v=u(15);x.exports=v([].slice)},function(x,A,u){"use strict";var v=u(35),c=u(15),b=u(40),M=u(184),w=u(151),C=u(84),j=u(54),L=u(56).get,F=u(185),Y=u(186),U=C("native-string-replace",String.prototype.replace),W=RegExp.prototype.exec,ee=W,ae=c("".charAt),q=c("".indexOf),Me=c("".replace),ye=c("".slice),me=function(){var ve=/a/,te=/b*/g;return v(W,ve,"a"),v(W,te,"a"),ve.lastIndex!==0||te.lastIndex!==0}(),le=w.BROKEN_CARET,Oe=/()??/.exec("")[1]!==void 0,ue=me||Oe||le||F||Y;ue&&(ee=function(te){var z=this,Q=L(z),oe=b(te),se=Q.raw,ce,re,de,Ce,Re,He,Ve;if(se)return se.lastIndex=z.lastIndex,ce=v(ee,se,oe),z.lastIndex=se.lastIndex,ce;var it=Q.groups,yt=le&&z.sticky,ht=v(M,z),Be=z.source,et=0,tt=oe;if(yt&&(ht=Me(ht,"y",""),q(ht,"g")===-1&&(ht+="g"),tt=ye(oe,z.lastIndex),z.lastIndex>0&&(!z.multiline||z.multiline&&ae(oe,z.lastIndex-1)!==`
`)&&(Be="(?: "+Be+")",tt=" "+tt,et++),re=new RegExp("^(?:"+Be+")",ht)),Oe&&(re=new RegExp("^"+Be+"$(?!\\s)",ht)),me&&(de=z.lastIndex),Ce=v(W,yt?re:z,tt),yt?Ce?(Ce.input=ye(Ce.input,et),Ce[0]=ye(Ce[0],et),Ce.index=z.lastIndex,z.lastIndex+=Ce[0].length):z.lastIndex=0:me&&Ce&&(z.lastIndex=z.global?Ce.index+Ce[0].length:de),Oe&&Ce&&Ce.length>1&&v(U,Ce[0],re,function(){for(Re=1;Re<arguments.length-2;Re++)arguments[Re]===void 0&&(Ce[Re]=void 0)}),Ce&&it)for(Ce.groups=He=j(null),Re=0;Re<it.length;Re++)Ve=it[Re],He[Ve[0]]=Ce[Ve[1]];return Ce}),x.exports=ee},function(x,A,u){"use strict";var v=u(16),c=u(7),b=u(67),M=u(68),w=u(43),C=u(38),j=u(119),L=u(61),F=u(75),Y=F("splice"),U=c.TypeError,W=Math.max,ee=Math.min,ae=9007199254740991,q="Maximum allowed length exceeded";v({target:"Array",proto:!0,forced:!Y},{splice:function(ye,me){var le=C(this),Oe=w(le),ue=b(ye,Oe),ve=arguments.length,te,z,Q,oe,se,ce;if(ve===0?te=z=0:ve===1?(te=0,z=Oe-ue):(te=ve-2,z=ee(W(M(me),0),Oe-ue)),Oe+te-z>ae)throw U(q);for(Q=j(le,z),oe=0;oe<z;oe++)se=ue+oe,se in le&&L(Q,oe,le[se]);if(Q.length=z,te<z){for(oe=ue;oe<Oe-z;oe++)se=oe+z,ce=oe+te,se in le?le[ce]=le[se]:delete le[ce];for(oe=Oe;oe>Oe-z+te;oe--)delete le[oe-1]}else if(te>z)for(oe=Oe-z;oe>ue;oe--)se=oe+z-1,ce=oe+te-1,se in le?le[ce]=le[se]:delete le[ce];for(oe=0;oe<te;oe++)le[oe+ue]=arguments[oe+2];return le.length=Oe-z+te,Q}})},function(x,A,u){"use strict";var v=u(16),c=u(201),b=u(202);v({target:"String",proto:!0,forced:b("anchor")},{anchor:function(w){return c(this,"a","name",w)}})},function(x,A,u){"use strict";(function(v){var c=typeof v=="object"&&v&&v.Object===Object&&v;A.a=c}).call(this,u(82))},function(x,A,u){"use strict";(function(v){var c=u(31),b=rr&&!rr.nodeType&&rr,M=b&&typeof v=="object"&&v&&!v.nodeType&&v,w=M&&M.exports===b,C=w?c.a.Buffer:void 0,j=C?C.allocUnsafe:void 0;function L(F,Y){if(Y)return F.slice();var U=F.length,W=j?j(U):new F.constructor(U);return F.copy(W),W}A.a=L}).call(this,u(121)(x))},function(x,A,u){var v=u(7),c=u(108),b="__core-js_shared__",M=v[b]||c(b,{});x.exports=M},function(x,A,u){var v=u(7),c=Object.defineProperty;x.exports=function(b,M){try{c(v,b,{value:M,configurable:!0,writable:!0})}catch(w){v[b]=M}return M}},function(x,A,u){var v=u(65),c=u(18);x.exports=!!Object.getOwnPropertySymbols&&!c(function(){var b=Symbol();return!String(b)||!(Object(b)instanceof Symbol)||!Symbol.sham&&v&&v<41})},function(x,A){x.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(x,A,u){"use strict";var v=u(16),c=u(35),b=u(64),M=u(94),w=u(28),C=u(171),j=u(96),L=u(97),F=u(73),Y=u(57),U=u(44),W=u(27),ee=u(70),ae=u(136),q=M.PROPER,Me=M.CONFIGURABLE,ye=ae.IteratorPrototype,me=ae.BUGGY_SAFARI_ITERATORS,le=W("iterator"),Oe="keys",ue="values",ve="entries",te=function(){return this};x.exports=function(z,Q,oe,se,ce,re,de){C(oe,Q,se);var Ce=function(Ue){if(Ue===ce&&yt)return yt;if(!me&&Ue in Ve)return Ve[Ue];switch(Ue){case Oe:return function(){return new oe(this,Ue)};case ue:return function(){return new oe(this,Ue)};case ve:return function(){return new oe(this,Ue)}}return function(){return new oe(this)}},Re=Q+" Iterator",He=!1,Ve=z.prototype,it=Ve[le]||Ve["@@iterator"]||ce&&Ve[ce],yt=!me&&it||Ce(ce),ht=Q=="Array"&&Ve.entries||it,Be,et,tt;if(ht&&(Be=j(ht.call(new z)),Be!==Object.prototype&&Be.next&&(!b&&j(Be)!==ye&&(L?L(Be,ye):w(Be[le])||U(Be,le,te)),F(Be,Re,!0,!0),b&&(ee[Re]=te))),q&&ce==ue&&it&&it.name!==ue&&(!b&&Me?Y(Ve,"name",ue):(He=!0,yt=function(){return c(it,this)})),ce)if(et={values:Ce(ue),keys:re?yt:Ce(Oe),entries:Ce(ve)},de)for(tt in et)(me||He||!(tt in Ve))&&U(Ve,tt,et[tt]);else v({target:Q,proto:!0,forced:me||He},et);return(!b||de)&&Ve[le]!==yt&&U(Ve,le,yt,{name:ce}),ee[Q]=yt,et}},function(x,A){A.f=Object.getOwnPropertySymbols},function(x,A,u){var v=u(7),c=u(67),b=u(43),M=u(61),w=v.Array,C=Math.max;x.exports=function(j,L,F){for(var Y=b(j),U=c(L,Y),W=c(F===void 0?Y:F,Y),ee=w(C(W-U,0)),ae=0;U<W;U++,ae++)M(ee,ae,j[U]);return ee.length=ae,ee}},function(x,A,u){var v=u(7),c=u(62),b=u(35),M=u(32),w=u(89),C=u(140),j=u(43),L=u(58),F=u(141),Y=u(115),U=u(142),W=v.TypeError,ee=function(q,Me){this.stopped=q,this.result=Me},ae=ee.prototype;x.exports=function(q,Me,ye){var me=ye&&ye.that,le=!!(ye&&ye.AS_ENTRIES),Oe=!!(ye&&ye.IS_ITERATOR),ue=!!(ye&&ye.INTERRUPTED),ve=c(Me,me),te,z,Q,oe,se,ce,re,de=function(Re){return te&&U(te,"normal",Re),new ee(!0,Re)},Ce=function(Re){return le?(M(Re),ue?ve(Re[0],Re[1],de):ve(Re[0],Re[1])):ue?ve(Re,de):ve(Re)};if(Oe)te=q;else{if(z=Y(q),!z)throw W(w(q)+" is not iterable");if(C(z)){for(Q=0,oe=j(q);oe>Q;Q++)if(se=Ce(q[Q]),se&&L(ae,se))return se;return new ee(!1)}te=F(q,z)}for(ce=te.next;!(re=b(ce,te)).done;){try{se=Ce(re.value)}catch(Re){U(te,"throw",Re)}if(typeof se=="object"&&se&&L(ae,se))return se}return new ee(!1)}},function(x,A,u){var v=u(98),c=u(59),b=u(70),M=u(27),w=M("iterator");x.exports=function(C){if(C!=null)return c(C,w)||c(C,"@@iterator")||b[v(C)]}},function(x,A,u){var v=u(27),c=v("toStringTag"),b={};b[c]="z",x.exports=String(b)==="[object z]"},function(x,A,u){var v=u(7),c=u(58),b=v.TypeError;x.exports=function(M,w){if(c(w,M))return M;throw b("Incorrect invocation")}},function(x,A,u){var v=u(27),c=v("iterator"),b=!1;try{var M=0,w={next:function(){return{done:!!M++}},return:function(){b=!0}};w[c]=function(){return this},Array.from(w,function(){throw 2})}catch(C){}x.exports=function(C,j){if(!j&&!b)return!1;var L=!1;try{var F={};F[c]=function(){return{next:function(){return{done:L=!0}}}},C(F)}catch(Y){}return L}},function(x,A,u){var v=u(180);x.exports=function(c,b){return new(v(c))(b===0?0:b)}},function(x,A,u){"use strict";var v=u(18);x.exports=function(c,b){var M=[][c];return!!M&&v(function(){M.call(null,b||function(){throw 1},1)})}},function(x,A){x.exports=function(u){if(!u.webpackPolyfill){var v=Object.create(u);v.children||(v.children=[]),Object.defineProperty(v,"loaded",{enumerable:!0,get:function(){return v.l}}),Object.defineProperty(v,"id",{enumerable:!0,get:function(){return v.i}}),Object.defineProperty(v,"exports",{enumerable:!0}),v.webpackPolyfill=1}return v}},function(x,A,u){"use strict";u(19);var v=u(15),c=u(44),b=u(102),M=u(18),w=u(27),C=u(57),j=w("species"),L=RegExp.prototype;x.exports=function(F,Y,U,W){var ee=w(F),ae=!M(function(){var me={};return me[ee]=function(){return 7},""[F](me)!=7}),q=ae&&!M(function(){var me=!1,le=/a/;return F==="split"&&(le={},le.constructor={},le.constructor[j]=function(){return le},le.flags="",le[ee]=/./[ee]),le.exec=function(){return me=!0,null},le[ee](""),!me});if(!ae||!q||U){var Me=v(/./[ee]),ye=Y(ee,""[F],function(me,le,Oe,ue,ve){var te=v(me),z=le.exec;return z===b||z===L.exec?ae&&!ve?{done:!0,value:Me(le,Oe,ue)}:{done:!0,value:te(Oe,le,ue)}:{done:!1}});c(String.prototype,F,ye[0]),c(L,ee,ye[1])}W&&C(L[ee],"sham",!0)}},function(x,A,u){"use strict";var v=u(146).charAt;x.exports=function(c,b,M){return b+(M?v(c,b).length:1)}},function(x,A,u){var v=u(7),c=u(35),b=u(32),M=u(28),w=u(50),C=u(102),j=v.TypeError;x.exports=function(L,F){var Y=L.exec;if(M(Y)){var U=c(Y,L,F);return U!==null&&b(U),U}if(w(L)==="RegExp")return c(C,L,F);throw j("RegExp#exec called on incompatible receiver")}},function(x,A,u){"use strict";var v=u(76),c=u(35),b=u(15),M=u(122),w=u(18),C=u(32),j=u(28),L=u(68),F=u(90),Y=u(40),U=u(45),W=u(123),ee=u(59),ae=u(197),q=u(124),Me=u(27),ye=Me("replace"),me=Math.max,le=Math.min,Oe=b([].concat),ue=b([].push),ve=b("".indexOf),te=b("".slice),z=function(ce){return ce===void 0?ce:String(ce)},Q=function(){return"a".replace(/./,"$0")==="$0"}(),oe=function(){return/./[ye]?/./[ye]("a","$0")==="":!1}(),se=!w(function(){var ce=/./;return ce.exec=function(){var re=[];return re.groups={a:"7"},re},"".replace(ce,"$<a>")!=="7"});M("replace",function(ce,re,de){var Ce=oe?"$":"$0";return[function(He,Ve){var it=U(this),yt=He==null?void 0:ee(He,ye);return yt?c(yt,He,it,Ve):c(re,Y(it),He,Ve)},function(Re,He){var Ve=C(this),it=Y(Re);if(typeof He=="string"&&ve(He,Ce)===-1&&ve(He,"$<")===-1){var yt=de(re,Ve,it,He);if(yt.done)return yt.value}var ht=j(He);ht||(He=Y(He));var Be=Ve.global;if(Be){var et=Ve.unicode;Ve.lastIndex=0}for(var tt=[];;){var Ue=q(Ve,it);if(Ue===null||(ue(tt,Ue),!Be))break;var V=Y(Ue[0]);V===""&&(Ve.lastIndex=W(it,F(Ve.lastIndex),et))}for(var Z="",ne=0,we=0;we<tt.length;we++){Ue=tt[we];for(var Ge=Y(Ue[0]),Pe=me(le(L(Ue.index),it.length),0),pt=[],st=1;st<Ue.length;st++)ue(pt,z(Ue[st]));var ft=Ue.groups;if(ht){var mt=Oe([Ge],pt,Pe,it);ft!==void 0&&ue(mt,ft);var De=Y(v(He,void 0,mt))}else De=ae(Ge,it,Pe,pt,ft,He);Pe>=ne&&(Z+=te(it,ne,Pe)+De,ne=Pe+Ge.length)}return Z+te(it,ne)}]},!se||!Q||oe)},function(x,A,u){var v=u(50),c=u(7);x.exports=v(c.process)=="process"},function(x,A,u){var v=u(16);v({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(x,A,u){var v=u(109);x.exports=v&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(x,A,u){var v=u(36),c=u(18),b=u(86);x.exports=!v&&!c(function(){return Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a!=7})},function(x,A,u){var v=u(7),c=u(35),b=u(33),M=u(88),w=u(59),C=u(169),j=u(27),L=v.TypeError,F=j("toPrimitive");x.exports=function(Y,U){if(!b(Y)||M(Y))return Y;var W=w(Y,F),ee;if(W){if(U===void 0&&(U="default"),ee=c(W,Y,U),!b(ee)||M(ee))return ee;throw L("Can't convert object to primitive value")}return U===void 0&&(U="number"),C(Y,U)}},function(x,A,u){var v=u(15),c=u(34),b=u(39),M=u(132).indexOf,w=u(69),C=v([].push);x.exports=function(j,L){var F=b(j),Y=0,U=[],W;for(W in F)!c(w,W)&&c(F,W)&&C(U,W);for(;L.length>Y;)c(F,W=L[Y++])&&(~M(U,W)||C(U,W));return U}},function(x,A,u){var v=u(39),c=u(67),b=u(43),M=function(w){return function(C,j,L){var F=v(C),Y=b(F),U=c(L,Y),W;if(w&&j!=j){for(;Y>U;)if(W=F[U++],W!=W)return!0}else for(;Y>U;U++)if((w||U in F)&&F[U]===j)return w||U||0;return!w&&-1}};x.exports={includes:M(!0),indexOf:M(!1)}},function(x,A,u){var v=u(46);x.exports=v("document","documentElement")},function(x,A,u){var v=u(34),c=u(135),b=u(51),M=u(37);x.exports=function(w,C){for(var j=c(C),L=M.f,F=b.f,Y=0;Y<j.length;Y++){var U=j[Y];v(w,U)||L(w,U,F(C,U))}}},function(x,A,u){var v=u(46),c=u(15),b=u(72),M=u(112),w=u(32),C=c([].concat);x.exports=v("Reflect","ownKeys")||function(L){var F=b.f(w(L)),Y=M.f;return Y?C(F,Y(L)):F}},function(x,A,u){"use strict";var v=u(18),c=u(28),b=u(54),M=u(96),w=u(44),C=u(27),j=u(64),L=C("iterator"),F=!1,Y,U,W;[].keys&&(W=[].keys(),"next"in W?(U=M(M(W)),U!==Object.prototype&&(Y=U)):F=!0);var ee=Y==null||v(function(){var ae={};return Y[L].call(ae)!==ae});ee?Y={}:j&&(Y=b(Y)),c(Y[L])||w(Y,L,function(){return this}),x.exports={IteratorPrototype:Y,BUGGY_SAFARI_ITERATORS:F}},function(x,A,u){var v=u(18);x.exports=!v(function(){function c(){}return c.prototype.constructor=null,Object.getPrototypeOf(new c)!==c.prototype})},function(x,A,u){var v=u(16),c=u(15),b=u(69),M=u(33),w=u(34),C=u(37).f,j=u(72),L=u(139),F=u(174),Y=u(85),U=u(176),W=!1,ee=Y("meta"),ae=0,q=function(ue){C(ue,ee,{value:{objectID:"O"+ae++,weakData:{}}})},Me=function(ue,ve){if(!M(ue))return typeof ue=="symbol"?ue:(typeof ue=="string"?"S":"P")+ue;if(!w(ue,ee)){if(!F(ue))return"F";if(!ve)return"E";q(ue)}return ue[ee].objectID},ye=function(ue,ve){if(!w(ue,ee)){if(!F(ue))return!0;if(!ve)return!1;q(ue)}return ue[ee].weakData},me=function(ue){return U&&W&&F(ue)&&!w(ue,ee)&&q(ue),ue},le=function(){Oe.enable=function(){},W=!0;var ue=j.f,ve=c([].splice),te={};te[ee]=1,ue(te).length&&(j.f=function(z){for(var Q=ue(z),oe=0,se=Q.length;oe<se;oe++)if(Q[oe]===ee){ve(Q,oe,1);break}return Q},v({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:L.f}))},Oe=x.exports={enable:le,fastKey:Me,getWeakData:ye,onFreeze:me};b[ee]=!0},function(x,A,u){var v=u(50),c=u(39),b=u(72).f,M=u(113),w=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],C=function(j){try{return b(j)}catch(L){return M(w)}};x.exports.f=function(L){return w&&v(L)=="Window"?C(L):b(c(L))}},function(x,A,u){var v=u(27),c=u(70),b=v("iterator"),M=Array.prototype;x.exports=function(w){return w!==void 0&&(c.Array===w||M[b]===w)}},function(x,A,u){var v=u(7),c=u(35),b=u(55),M=u(32),w=u(89),C=u(115),j=v.TypeError;x.exports=function(L,F){var Y=arguments.length<2?C(L):F;if(b(Y))return M(c(Y,L));throw j(w(L)+" is not iterable")}},function(x,A,u){var v=u(35),c=u(32),b=u(59);x.exports=function(M,w,C){var j,L;c(M);try{if(j=b(M,"return"),!j){if(w==="throw")throw C;return C}j=v(j,M)}catch(F){L=!0,j=F}if(w==="throw")throw C;if(L)throw j;return c(j),C}},function(x,A,u){var v=u(28),c=u(33),b=u(97);x.exports=function(M,w,C){var j,L;return b&&v(j=w.constructor)&&j!==C&&c(L=j.prototype)&&L!==C.prototype&&b(M,L),M}},function(x,A,u){var v=u(44);x.exports=function(c,b,M){for(var w in b)v(c,w,b[w],M);return c}},function(x,A,u){"use strict";var v=u(46),c=u(37),b=u(27),M=u(36),w=b("species");x.exports=function(C){var j=v(C),L=c.f;M&&j&&!j[w]&&L(j,w,{configurable:!0,get:function(){return this}})}},function(x,A,u){var v=u(15),c=u(68),b=u(40),M=u(45),w=v("".charAt),C=v("".charCodeAt),j=v("".slice),L=function(F){return function(Y,U){var W=b(M(Y)),ee=c(U),ae=W.length,q,Me;return ee<0||ee>=ae?F?"":void 0:(q=C(W,ee),q<55296||q>56319||ee+1===ae||(Me=C(W,ee+1))<56320||Me>57343?F?w(W,ee):q:F?j(W,ee,ee+2):(q-55296<<10)+(Me-56320)+65536)}};x.exports={codeAt:L(!1),charAt:L(!0)}},function(x,A){x.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(x,A,u){var v=u(86),c=v("span").classList,b=c&&c.constructor&&c.constructor.prototype;x.exports=b===Object.prototype?void 0:b},function(x,A,u){var v=u(27);A.f=v},function(x,A,u){var v=u(181),c=u(34),b=u(149),M=u(37).f;x.exports=function(w){var C=v.Symbol||(v.Symbol={});c(C,w)||M(C,w,{value:b.f(w)})}},function(x,A,u){var v=u(18),c=u(7),b=c.RegExp,M=v(function(){var j=b("a","y");return j.lastIndex=2,j.exec("abcd")!=null}),w=M||v(function(){return!b("a","y").sticky}),C=M||v(function(){var j=b("^r","gy");return j.lastIndex=2,j.exec("str")!=null});x.exports={BROKEN_CARET:C,MISSED_STICKY:w,UNSUPPORTED_Y:M}},function(x,A,u){"use strict";var v=u(16),c=u(132).includes,b=u(83);v({target:"Array",proto:!0},{includes:function(w){return c(this,w,arguments.length>1?arguments[1]:void 0)}}),b("includes")},function(x,A,u){"use strict";var v=u(16),c=u(15),b=u(193),M=u(45),w=u(40),C=u(194),j=c("".indexOf);v({target:"String",proto:!0,forced:!C("includes")},{includes:function(F){return!!~j(w(M(this)),w(b(F)),arguments.length>1?arguments[1]:void 0)}})},function(x,A,u){var v=u(33),c=u(50),b=u(27),M=b("match");x.exports=function(w){var C;return v(w)&&((C=w[M])!==void 0?!!C:c(w)=="RegExp")}},function(x,A){var u=x.exports={},v,c;function b(){throw new Error("setTimeout has not been defined")}function M(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?v=setTimeout:v=b}catch(q){v=b}try{typeof clearTimeout=="function"?c=clearTimeout:c=M}catch(q){c=M}})();function w(q){if(v===setTimeout)return setTimeout(q,0);if((v===b||!v)&&setTimeout)return v=setTimeout,setTimeout(q,0);try{return v(q,0)}catch(Me){try{return v.call(null,q,0)}catch(ye){return v.call(this,q,0)}}}function C(q){if(c===clearTimeout)return clearTimeout(q);if((c===M||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(q);try{return c(q)}catch(Me){try{return c.call(null,q)}catch(ye){return c.call(this,q)}}}var j=[],L=!1,F,Y=-1;function U(){!L||!F||(L=!1,F.length?j=F.concat(j):Y=-1,j.length&&W())}function W(){if(!L){var q=w(U);L=!0;for(var Me=j.length;Me;){for(F=j,j=[];++Y<Me;)F&&F[Y].run();Y=-1,Me=j.length}F=null,L=!1,C(q)}}u.nextTick=function(q){var Me=new Array(arguments.length-1);if(arguments.length>1)for(var ye=1;ye<arguments.length;ye++)Me[ye-1]=arguments[ye];j.push(new ee(q,Me)),j.length===1&&!L&&w(W)};function ee(q,Me){this.fun=q,this.array=Me}ee.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={};function ae(){}u.on=ae,u.addListener=ae,u.once=ae,u.off=ae,u.removeListener=ae,u.removeAllListeners=ae,u.emit=ae,u.prependListener=ae,u.prependOnceListener=ae,u.listeners=function(q){return[]},u.binding=function(q){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(q){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(x,A,u){var v=u(32),c=u(157),b=u(27),M=b("species");x.exports=function(w,C){var j=v(w).constructor,L;return j===void 0||(L=v(j)[M])==null?C:c(L)}},function(x,A,u){var v=u(7),c=u(100),b=u(89),M=v.TypeError;x.exports=function(w){if(c(w))return w;throw M(b(w)+" is not a constructor")}},function(x,A,u){"use strict";var v=u(16),c=u(159).trim,b=u(195);v({target:"String",proto:!0,forced:b("trim")},{trim:function(){return c(this)}})},function(x,A,u){var v=u(15),c=u(45),b=u(40),M=u(160),w=v("".replace),C="["+M+"]",j=RegExp("^"+C+C+"*"),L=RegExp(C+C+"*$"),F=function(Y){return function(U){var W=b(c(U));return Y&1&&(W=w(W,j,"")),Y&2&&(W=w(W,L,"")),W}};x.exports={start:F(1),end:F(2),trim:F(3)}},function(x,A){x.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(x,A,u){"use strict";var v=u(35),c=u(122),b=u(32),M=u(90),w=u(40),C=u(45),j=u(59),L=u(123),F=u(124);c("match",function(Y,U,W){return[function(ae){var q=C(this),Me=ae==null?void 0:j(ae,Y);return Me?v(Me,ae,q):new RegExp(ae)[Y](w(q))},function(ee){var ae=b(this),q=w(ee),Me=W(U,ae,q);if(Me.done)return Me.value;if(!ae.global)return F(ae,q);var ye=ae.unicode;ae.lastIndex=0;for(var me=[],le=0,Oe;(Oe=F(ae,q))!==null;){var ue=w(Oe[0]);me[le]=ue,ue===""&&(ae.lastIndex=L(q,M(ae.lastIndex),ye)),le++}return le===0?null:me}]})},function(x,A,u){var v=u(7),c=u(76),b=u(62),M=u(28),w=u(34),C=u(18),j=u(133),L=u(101),F=u(86),Y=u(163),U=u(126),W=v.setImmediate,ee=v.clearImmediate,ae=v.process,q=v.Dispatch,Me=v.Function,ye=v.MessageChannel,me=v.String,le=0,Oe={},ue="onreadystatechange",ve,te,z,Q;try{ve=v.location}catch(de){}var oe=function(de){if(w(Oe,de)){var Ce=Oe[de];delete Oe[de],Ce()}},se=function(de){return function(){oe(de)}},ce=function(de){oe(de.data)},re=function(de){v.postMessage(me(de),ve.protocol+"//"+ve.host)};(!W||!ee)&&(W=function(Ce){var Re=L(arguments,1);return Oe[++le]=function(){c(M(Ce)?Ce:Me(Ce),void 0,Re)},te(le),le},ee=function(Ce){delete Oe[Ce]},U?te=function(de){ae.nextTick(se(de))}:q&&q.now?te=function(de){q.now(se(de))}:ye&&!Y?(z=new ye,Q=z.port2,z.port1.onmessage=ce,te=b(Q.postMessage,Q)):v.addEventListener&&M(v.postMessage)&&!v.importScripts&&ve&&ve.protocol!=="file:"&&!C(re)?(te=re,v.addEventListener("message",ce,!1)):ue in F("script")?te=function(de){j.appendChild(F("script"))[ue]=function(){j.removeChild(this),oe(de)}}:te=function(de){setTimeout(se(de),0)}),x.exports={set:W,clear:ee}},function(x,A,u){var v=u(53);x.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(v)},function(x,A,u){"use strict";var v=u(55),c=function(b){var M,w;this.promise=new b(function(C,j){if(M!==void 0||w!==void 0)throw TypeError("Bad Promise constructor");M=C,w=j}),this.resolve=v(M),this.reject=v(w)};x.exports.f=function(b){return new c(b)}},function(x,A,u){"use strict";function v(){return!1}A.a=v},function(x,A,u){"use strict";(function(v){u.d(A,"a",function(){return De});var c=u(0),b=function(){},M=function(k){return k};function w(k){throw new Error("[mobx-utils] "+k)}function C(k,G){G===void 0&&(G="Illegal state"),k||w(G)}var j=[];function L(k){j.indexOf(k)===-1&&(j.push(k),console.error("[mobx-utils] Deprecated: "+k))}function F(k,G,g){Object.defineProperty(k,G,{enumerable:!1,writable:!0,configurable:!0,value:g})}var Y=function(k){return k&&k!==Object.prototype&&Object.getOwnPropertyNames(k).concat(Y(Object.getPrototypeOf(k))||[])},U=function(k){var G=Y(k),g=G.filter(function(P,R){return G.indexOf(P)===R});return g},W=function(k){return U(k).filter(function(G){return G!=="constructor"&&!~G.indexOf("__")})},ee="pending",ae="fulfilled",q="rejected";function Me(k){switch(this.state){case ee:return k.pending&&k.pending(this.value);case q:return k.rejected&&k.rejected(this.value);case ae:return k.fulfilled?k.fulfilled(this.value):this.value}}function ye(k,G){if(C(arguments.length<=2,"fromPromise expects up to two arguments"),C(typeof k=="function"||typeof k=="object"&&k&&typeof k.then=="function","Please pass a promise or function to fromPromise"),k.isPromiseBasedObservable===!0)return k;typeof k=="function"&&(k=new Promise(k));var g=k;k.then(Object(c.k)("observableFromPromise-resolve",function(R){g.value=R,g.state=ae}),Object(c.k)("observableFromPromise-reject",function(R){g.value=R,g.state=q})),g.isPromiseBasedObservable=!0,g.case=Me;var P=G&&G.state===ae?G.value:void 0;return Object(c.q)(g,{value:P,state:ee},{},{deep:!1}),g}(function(k){k.reject=Object(c.k)("fromPromise.reject",function(g){var P=k(Promise.reject(g));return P.state=q,P.value=g,P});function G(g){g===void 0&&(g=void 0);var P=k(Promise.resolve(g));return P.state=ae,P.value=g,P}k.resolve=Object(c.k)("fromPromise.resolve",G)})(ye||(ye={}));function me(k){return k&&k.isPromiseBasedObservable===!0}var le=function(){for(var k=0,G=0,g=arguments.length;G<g;G++)k+=arguments[G].length;for(var P=Array(k),R=0,G=0;G<g;G++)for(var X=arguments[G],je=0,Ae=X.length;je<Ae;je++,R++)P[R]=X[je];return P};function Oe(k,G,g){if(ue(k,G),ue(k,g),G!==g){var P=k[c.a].values,R;return G<g?R=le(P.slice(0,G),P.slice(G+1,g+1),[P[G]],P.slice(g+1)):R=le(P.slice(0,g),[P[G]],P.slice(g,G),P.slice(G+1)),k.replace(R),k}}function ue(k,G){if(G<0)throw new Error("[mobx.array] Index out of bounds: "+G+" is negative");var g=k[c.a].values.length;if(G>=g)throw new Error("[mobx.array] Index out of bounds: "+G+" is not smaller than "+g)}function ve(k,G){G===void 0&&(G=void 0);var g=!1,P=c.C.box(G,{deep:!1}),R=c.C.box(!1),X=function(){return g||(g=!0,Object(c.d)(!0,function(){R.set(!0)}),k(function(Ae){Object(c.d)(!0,function(){P.set(Ae),R.set(!1)})})),P.get()},je=Object(c.k)("lazyObservable-reset",function(){return g=!1,P.set(G),P.get()});return{current:X,refresh:function(){return g?(g=!1,X()):P.get()},reset:function(){return je()},get pending(){return R.get()}}}function te(k,G,g){G===void 0&&(G=b),g===void 0&&(g=void 0);var P=!1,R=!1,X=g,je=function(){P&&(P=!1,G())},Ae=Object(c.o)("ResourceBasedObservable",function(){C(!P&&!R),P=!0,k(function(Ke){Object(c.d)(!0,function(){X=Ke,Ae.reportChanged()})})},je);return{current:function(){C(!R,"subscribingObservable has already been disposed");var Ke=Ae.reportObserved();return!Ke&&!P&&console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started"),X},dispose:function(){R=!0,je()},isAlive:function(){return P}}}var z=function(k,G,g,P){var R=arguments.length,X=R<3?G:P===null?P=Object.getOwnPropertyDescriptor(G,g):P,je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(k,G,g,P);else for(var Ae=k.length-1;Ae>=0;Ae--)(je=k[Ae])&&(X=(R<3?je(X):R>3?je(G,g,X):je(G,g))||X);return R>3&&X&&Object.defineProperty(G,g,X),X};function Q(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}function oe(k,G){var g;G===void 0&&(G=!1);var P=Object(c.m)(k);return g={subscribe:function(R){return typeof R=="function"?{unsubscribe:P.observe(function(X){var je=X.newValue;return R(je)},G)}:R&&typeof R=="object"&&R.next?{unsubscribe:P.observe(function(X){var je=X.newValue;return R.next(je)},G)}:{unsubscribe:function(){}}}},g[Q()]=function(){return this},g}var se=function(){function k(G,g){var P=this;Object(c.G)(function(){P.current=g,P.subscription=G.subscribe(P)})}return k.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},k.prototype.next=function(G){this.current=G},k.prototype.complete=function(){this.dispose()},k.prototype.error=function(G){this.current=G,this.dispose()},z([c.C.ref],k.prototype,"current",void 0),z([c.k.bound],k.prototype,"next",null),z([c.k.bound],k.prototype,"complete",null),z([c.k.bound],k.prototype,"error",null),k}();function ce(k,G){return G===void 0&&(G=void 0),new se(k,G)}var re=function(){return re=Object.assign||function(k){for(var G,g=1,P=arguments.length;g<P;g++){G=arguments[g];for(var R in G)Object.prototype.hasOwnProperty.call(G,R)&&(k[R]=G[R])}return k},re.apply(this,arguments)},de=function(k,G,g,P){var R=arguments.length,X=R<3?G:P===null?P=Object.getOwnPropertyDescriptor(G,g):P,je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(k,G,g,P);else for(var Ae=k.length-1;Ae>=0;Ae--)(je=k[Ae])&&(X=(R<3?je(X):R>3?je(G,g,X):je(G,g))||X);return R>3&&X&&Object.defineProperty(G,g,X),X},Ce=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"],Re=function(){function k(G){var g=this;this.model=G,this.localValues=c.C.map({}),this.localComputedValues=c.C.map({}),this.isPropertyDirty=function(P){return g.localValues.has(P)},C(Object(c.A)(G),"createViewModel expects an observable object"),W(G).forEach(function(P){if(!(P===c.a||P==="__mobxDidRunLazyInitializers")){if(C(Ce.indexOf(P)===-1,"The propertyname "+P+" is reserved and cannot be used with viewModels"),Object(c.w)(G,P)){var R=Object(c.h)(G,P).derivation;g.localComputedValues.set(P,Object(c.m)(R.bind(g)))}var X=Object.getOwnPropertyDescriptor(G,P),je=X?{enumerable:X.enumerable}:{};Object.defineProperty(g,P,re(re({},je),{configurable:!0,get:function(){return Object(c.w)(G,P)?g.localComputedValues.get(P).get():g.isPropertyDirty(P)?g.localValues.get(P):g.model[P]},set:Object(c.k)(function(Ae){Ae!==g.model[P]?g.localValues.set(P,Ae):g.localValues.delete(P)})}))}})}return Object.defineProperty(k.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),k.prototype.submit=function(){var G=this;Object(c.B)(this.localValues).forEach(function(g){var P=G.localValues.get(g),R=G.model[g];Object(c.y)(R)?R.replace(P):Object(c.z)(R)?(R.clear(),R.merge(P)):Object(c.v)(P)||(G.model[g]=P)}),this.localValues.clear()},k.prototype.reset=function(){this.localValues.clear()},k.prototype.resetProperty=function(G){this.localValues.delete(G)},de([c.m],k.prototype,"isDirty",null),de([c.m],k.prototype,"changedValues",null),de([c.k.bound],k.prototype,"submit",null),de([c.k.bound],k.prototype,"reset",null),de([c.k.bound],k.prototype,"resetProperty",null),k}();function He(k){return new Re(k)}function Ve(k,G,g,P){return g===void 0&&(g=1e4),P===void 0&&(P=function(){}),L("whenWithTimeout is deprecated, use mobx.when with timeout option instead"),Object(c.M)(k,G,{timeout:g,onError:P})}function it(k,G){var g=Object(c.s)(k,G);if(!g)throw new Error("No computed provided, please provide an object created with `computed(() => expr)` or an object + property name");return g.observe(function(){})}function yt(k,G,g){if(g===void 0&&(g=0),!Object(c.y)(k))throw new Error("Expected observable array as first argument");Object(c.u)(G)||(G=Object(c.k)("queueProcessor",G));var P=function(){var R=k.slice(0);Object(c.G)(function(){return k.splice(0)}),R.forEach(G)};return g>0?Object(c.l)(P,{delay:g}):Object(c.l)(P)}function ht(k,G,g,P){if(g===void 0&&(g=0),P===void 0&&(P=0),!Object(c.y)(k))throw new Error("Expected observable array as first argument");Object(c.u)(G)||(G=Object(c.k)("chunkProcessor",G));var R=function(){for(var X=function(){var je=P===0?k.length:Math.min(k.length,P),Ae=k.slice(0,je);Object(c.G)(function(){return k.splice(0,je)}),G(Ae)};k.length>0;)X()};return g>0?Object(c.l)(R,{delay:g}):Object(c.l)(R)}var Be={};function et(k){return k===void 0&&(k=1e3),Object(c.i)()?(Be[k]||(typeof k=="number"?Be[k]=tt(k):Be[k]=Ue()),Be[k].current()):Date.now()}function tt(k){var G;return te(function(g){g(Date.now()),G=setInterval(function(){return g(Date.now())},k)},function(){clearInterval(G)},Date.now())}function Ue(){var k=te(function(G){G(Date.now());function g(){window.requestAnimationFrame(function(){G(Date.now()),k.isAlive()&&g()})}g()},function(){},Date.now());return k}var V=function(){return V=Object.assign||function(k){for(var G,g=1,P=arguments.length;g<P;g++){G=arguments[g];for(var R in G)Object.prototype.hasOwnProperty.call(G,R)&&(k[R]=G[R])}return k},V.apply(this,arguments)};function Z(k,G){if(typeof arguments[1]=="string"){var g=arguments[1],P=arguments[2];return P&&P.value?Object.assign({},P,{value:Object(c.r)(P.value)}):Object.assign({},P,{set:function(je){Object.defineProperty(this,g,V(V({},P),{value:Object(c.r)(je)}))}})}var R=typeof k=="string"?G:k,X=typeof k=="string"?k:R.name||"<unnamed async action>";return L("asyncAction is deprecated. use mobx.flow instead"),Object(c.r)(R)}function ne(k,G){return G===void 0&&(G=0),L("whenAsync is deprecated, use mobx.when without effect instead"),Object(c.M)(k,{timeout:G})}function we(k){return Object(c.i)()||console.warn("'expr' should only be used inside other reactive functions."),Object(c.m)(k).get()}var Ge=function(){return Ge=Object.assign||function(k){for(var G,g=1,P=arguments.length;g<P;g++){G=arguments[g];for(var R in G)Object.prototype.hasOwnProperty.call(G,R)&&(k[R]=G[R])}return k},Ge.apply(this,arguments)},Pe=0;function pt(k,G){C(typeof k=="function"&&k.length<2,"createTransformer expects a function that accepts one argument");var g={},P=void 0,R=!1,X=void 0;typeof G=="object"?(P=G.onCleanup,R=G.keepAlive!==void 0?G.keepAlive:!1,X=G.debugNameGenerator):typeof G=="function"&&(P=G);function je(Ke,Xe){var nt,Nt={};typeof G=="object"?(P=G.onCleanup,X=G.debugNameGenerator,Nt=G):typeof G=="function"?P=G:(P=void 0,X=void 0);var bt=X?X(Xe):"Transformer-"+k.name+"-"+Ke,cr=Object(c.m)(function(){return nt=k(Xe)},Ge(Ge({},Nt),{name:bt}));if(!R)var ir=Object(c.E)(cr,function(){delete g[Ke],ir(),P&&P(nt,Xe)});return cr}var Ae=!1;return function(Ke){var Xe=st(Ke),nt=g[Xe];if(nt)return nt.get();if(!R&&!Object(c.i)()){Ae||(console.warn("invoking a transformer from outside a reactive context won't memorized and is cleaned up immediately, unless keepAlive is set"),Ae=!0);var Nt=k(Ke);return P&&P(Nt,Ke),Nt}return nt=g[Xe]=je(Xe,Ke),nt.get()}}function st(k){var G=typeof k;if(G==="string")return"string:"+k;if(G==="number")return"number:"+k;if(k===null||G!=="object"&&G!=="function")throw new Error("[mobx-utils] transform expected an object, function, string or number, got: "+String(k));var g=k.$transformId;return g===void 0&&(g="memoizationId:"+ ++Pe,F(k,"$transformId",g)),g}function ft(k){if(!k)return"ROOT";for(var G=[];k.parent;)G.push(k.path),k=k.parent;return G.reverse().join("/")}function mt(k){return Object(c.A)(k)||Object(c.y)(k)||Object(c.z)(k)}function De(k,G){var g=new WeakMap;function P(Ae){var Ke=g.get(Ae.object);R(Ae,Ke),G(Ae,ft(Ke),k)}function R(Ae,Ke){switch(Ae.type){case"add":X(Ae.newValue,Ke,Ae.name);break;case"update":je(Ae.oldValue),X(Ae.newValue,Ke,Ae.name||""+Ae.index);break;case"remove":case"delete":je(Ae.oldValue);break;case"splice":Ae.removed.map(je),Ae.added.forEach(function(Nt,bt){return X(Nt,Ke,""+(Ae.index+bt))});for(var Xe=Ae.index+Ae.addedCount;Xe<Ae.object.length;Xe++)if(mt(Ae.object[Xe])){var nt=g.get(Ae.object[Xe]);nt&&(nt.path=""+Xe)}break}}function X(Ae,Ke,Xe){if(mt(Ae)){var nt=g.get(Ae);if(nt){if(nt.parent!==Ke||nt.path!==Xe)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+ft(Ke)+"/"+Xe+"',")+(" but it already exists at '"+ft(nt.parent)+"/"+nt.path+"'"))}else{var Nt={parent:Ke,path:Xe,dispose:Object(c.D)(Ae,P)};g.set(Ae,Nt),Object(c.p)(Ae).forEach(function(bt){var cr=bt[0],ir=bt[1];return X(ir,Nt,cr)})}}}function je(Ae){if(mt(Ae)){var Ke=g.get(Ae);if(!Ke)return;g.delete(Ae),Ke.dispose(),Object(c.L)(Ae).forEach(je)}}return X(k,void 0,""),function(){je(k)}}var jt=function(){var k=function(G,g){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,R){P.__proto__=R}||function(P,R){for(var X in R)R.hasOwnProperty(X)&&(P[X]=R[X])},k(G,g)};return function(G,g){k(G,g);function P(){this.constructor=G}G.prototype=g===null?Object.create(g):(P.prototype=g.prototype,new P)}}(),at=function(k){jt(G,k);function G(g,P,R){var X=R===void 0?{}:R,je=X.name,Ae=je===void 0?"ogm"+(Math.random()*1e3|0):je,Ke=X.keyToName,Xe=Ke===void 0?function(bt){return""+bt}:Ke,nt=k.call(this)||this;nt._keyToName=Xe,nt._groupBy=P,nt._ogmInfoKey=Symbol("ogmInfo"+Ae),nt._base=g;for(var Nt=0;Nt<g.length;Nt++)nt._addItem(g[Nt]);return nt._disposeBaseObserver=Object(c.D)(nt._base,function(bt){if(bt.type==="splice")Object(c.J)(function(){for(var cr=0,ir=bt.removed;cr<ir.length;cr++){var Rr=ir[cr];nt._removeItem(Rr)}for(var Ur=0,sn=bt.added;Ur<sn.length;Ur++){var $r=sn[Ur];nt._addItem($r)}});else if(bt.type==="update")Object(c.J)(function(){nt._removeItem(bt.oldValue),nt._addItem(bt.newValue)});else throw new Error("illegal state")}),nt}return G.prototype.clear=function(){throw new Error("not supported")},G.prototype.delete=function(g){throw new Error("not supported")},G.prototype.set=function(g,P){throw new Error("not supported")},G.prototype.dispose=function(){this._disposeBaseObserver();for(var g=0;g<this._base.length;g++){var P=this._base[g],R=P[this._ogmInfoKey];R.reaction(),delete P[this._ogmInfoKey]}},G.prototype._getGroupArr=function(g){var P=k.prototype.get.call(this,g);return P===void 0&&(P=Object(c.C)([],{name:"GroupArray["+this._keyToName(g)+"]",deep:!1}),k.prototype.set.call(this,g,P)),P},G.prototype._removeFromGroupArr=function(g,P){var R=k.prototype.get.call(this,g);R.length===1?k.prototype.delete.call(this,g):(P===R.length-1||(R[P]=R[R.length-1],R[P][this._ogmInfoKey].groupArrIndex=P),R.length--)},G.prototype._addItem=function(g){var P=this,R=this._groupBy(g),X=this._getGroupArr(R),je={groupByValue:R,groupArrIndex:X.length,reaction:Object(c.F)(function(){return P._groupBy(g)},function(Ae,Ke){var Xe=g[P._ogmInfoKey];P._removeFromGroupArr(Xe.groupByValue,Xe.groupArrIndex);var nt=P._getGroupArr(Ae),Nt=nt.length;nt.push(g),Xe.groupByValue=Ae,Xe.groupArrIndex=Nt})};Object.defineProperty(g,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:je}),X.push(g)},G.prototype._removeItem=function(g){var P=g[this._ogmInfoKey];this._removeFromGroupArr(P.groupByValue,P.groupArrIndex),P.reaction(),delete g[this._ogmInfoKey]},G}(c.b),ut=function(){function k(G,g){this.base=G,this.args=g,this.closestIdx=0,this.isDisposed=!1;for(var P=this.closest=this.root=G,R=0;R<this.args.length-1&&(P=P.get(g[R]),P);R++)this.closest=P;this.closestIdx=R}return k.prototype.exists=function(){this.assertNotDisposed();var G=this.args.length;return this.closestIdx>=G-1&&this.closest.has(this.args[G-1])},k.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},k.prototype.set=function(G){this.assertNotDisposed();for(var g=this.args.length,P=this.closest,R=this.closestIdx;R<g-1;R++){var X=new Map;P.set(this.args[R],X),P=X}this.closestIdx=g-1,this.closest=P,P.set(this.args[g-1],G)},k.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var G=this.args.length;this.closest.delete(this.args[G-1]);for(var g=this.root,P=[g],R=0;R<G-1;R++)g=g.get(this.args[R]),P.push(g);for(var R=P.length-1;R>0;R--)P[R].size===0&&P[R-1].delete(this.args[R-1]);this.isDisposed=!0},k.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},k}(),vt=function(){function k(){this.store=new Map,this.argsLength=-1}return k.prototype.entry=function(G){if(this.argsLength===-1)this.argsLength=G.length;else if(this.argsLength!==G.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+G.length);return this.last&&(this.last.isDisposed=!0),this.last=new ut(this.store,G)},k}(),Ut=function(){return Ut=Object.assign||function(k){for(var G,g=1,P=arguments.length;g<P;g++){G=arguments[g];for(var R in G)Object.prototype.hasOwnProperty.call(G,R)&&(k[R]=G[R])}return k},Ut.apply(this,arguments)};function Bt(k,G){if(G===void 0&&(G=!1),Object(c.u)(k))throw new Error("computedFn shouldn't be used on actions");var g=!1,P=0,R=typeof G=="boolean"?{keepAlive:G}:G,X=new vt;return function(){for(var je=this,Ae=[],Ke=0;Ke<arguments.length;Ke++)Ae[Ke]=arguments[Ke];var Xe=X.entry(Ae);if(Xe.exists())return Xe.get().get();if(!R.keepAlive&&!Object(c.i)())return g||(console.warn("invoking a computedFn from outside an reactive context won't be memoized, unless keepAlive is set"),g=!0),k.apply(this,Ae);var nt=Object(c.m)(function(){return k.apply(je,Ae)},Ut(Ut({},R),{name:"computedFn("+k.name+"#"+ ++P+")"}));return Xe.set(nt),R.keepAlive||Object(c.E)(nt,function(){X.entry(Ae).delete()}),nt.get()}}function At(k,G,g,P,R){if(R)return It(k,G,P,R);Qt(G,g,P)}function It(k,G,g,P){if(P.get!==void 0)return fail(k+" cannot be used with getters");if(P.value)return{value:G(g,P.value),enumerable:!1,configurable:!0,writable:!0};var R=P.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return G(g,R.call(this))}}}function Qt(k,G,g){Object.defineProperty(G,g,{configurable:!0,enumerable:!1,get:function(){},set:function(P){F(this,g,k(g,P))}})}var Gt=function(k,G,g,P){function R(X){return X instanceof g?X:new g(function(je){je(X)})}return new(g||(g=Promise))(function(X,je){function Ae(nt){try{Xe(P.next(nt))}catch(Nt){je(Nt)}}function Ke(nt){try{Xe(P.throw(nt))}catch(Nt){je(Nt)}}function Xe(nt){nt.done?X(nt.value):R(nt.value).then(Ae,Ke)}Xe((P=P.apply(k,G||[])).next())})},or=function(k,G){var g={label:0,sent:function(){if(X[0]&1)throw X[1];return X[1]},trys:[],ops:[]},P,R,X,je;return je={next:Ae(0),throw:Ae(1),return:Ae(2)},typeof Symbol=="function"&&(je[Symbol.iterator]=function(){return this}),je;function Ae(Xe){return function(nt){return Ke([Xe,nt])}}function Ke(Xe){if(P)throw new TypeError("Generator is already executing.");for(;g;)try{if(P=1,R&&(X=Xe[0]&2?R.return:Xe[0]?R.throw||((X=R.return)&&X.call(R),0):R.next)&&!(X=X.call(R,Xe[1])).done)return X;switch(R=0,X&&(Xe=[Xe[0]&2,X.value]),Xe[0]){case 0:case 1:X=Xe;break;case 4:return g.label++,{value:Xe[1],done:!1};case 5:g.label++,R=Xe[1],Xe=[0];continue;case 7:Xe=g.ops.pop(),g.trys.pop();continue;default:if(X=g.trys,!(X=X.length>0&&X[X.length-1])&&(Xe[0]===6||Xe[0]===2)){g=0;continue}if(Xe[0]===3&&(!X||Xe[1]>X[0]&&Xe[1]<X[3])){g.label=Xe[1];break}if(Xe[0]===6&&g.label<X[1]){g.label=X[1],X=Xe;break}if(X&&g.label<X[2]){g.label=X[2],g.ops.push(Xe);break}X[2]&&g.ops.pop(),g.trys.pop();continue}Xe=G.call(k,g)}catch(nt){Xe=[6,nt],R=0}finally{P=X=0}if(Xe[0]&5)throw Xe[1];return{value:Xe[0]?Xe[1]:void 0,done:!0}}},gr=0,pr=new Set,sr=new Set,Ft;{var kt=Promise.resolve(),nr;typeof queueMicrotask!="undefined"?nr=queueMicrotask:typeof v!="undefined"&&v.nextTick?nr=function(k){v.nextTick(k)}:nr=function(k){setTimeout(k,0)};var We=function(){return new Promise(function(k){nr(k)})};Ft=function(){return kt=kt.then(We),kt}}var ot=[];function $e(k){return Gt(this,void 0,void 0,function(){var G,g,P,R,X,je,Ae,Ke,Xe,nt,Nt;return or(this,function(bt){switch(bt.label){case 0:G=ot[ot.length-1],G||w("'actionAsync' context not present when running 'task'. did you await inside an 'actionAsync' without using 'task(promise)'? did you forget to await the task?"),g=G.runId,P=G.actionName,R=G.args,X=G.scope,je=G.actionRunInfo,Ae=G.step,Ke=Ae+1,ot.pop(),Object(c.g)(je),sr.delete(g),bt.label=1;case 1:return bt.trys.push([1,4,6,7]),[4,k];case 2:return Xe=bt.sent(),[4,Ft()];case 3:return bt.sent(),[2,Xe];case 4:return nt=bt.sent(),[4,Ft()];case 5:throw bt.sent(),nt;case 6:return pr.has(g)&&(Nt=Object(c.j)(Dt(P,g,Ke),this,R),ot.push({runId:g,step:Ke,actionRunInfo:Nt,actionName:P,args:R,scope:X}),sr.add(g)),[7];case 7:return[2]}})})}function ct(k,G,g){if(typeof arguments[1]=="string")return At("@actionAsync",function(X,je){return xt(X,je)},k,G,g);var P=typeof k=="string"?k:k.name||"<unnamed action>",R=typeof k=="function"?k:G;return xt(P,R)}function xt(k,G){return(!c.j||!c.g)&&w("'actionAsync' requires mobx >=5.13.1 or >=4.13.1"),C(typeof G=="function","'asyncAction' expects a function"),(typeof k!="string"||!k)&&w("actions should have valid names, got: '"+k+"'"),function(){for(var g=[],P=0;P<arguments.length;P++)g[P]=arguments[P];return Gt(this,void 0,void 0,function(){var R,X,je,Ae,Ke,Xe;return or(this,function(nt){switch(nt.label){case 0:R=gr++,pr.add(R),X=Object(c.j)(Dt(k,R,0),this,g),ot.push({runId:R,step:0,actionRunInfo:X,actionName:k,args:g,scope:this}),sr.add(R),je=function(Nt){pr.delete(R);var bt=ot.pop();if(!bt||bt.runId!==R){bt&&ot.push(bt);var cr="invalid 'actionAsync' context when finishing action '"+k+"'.";bt?cr+=" an action context for '"+bt.actionName+"' was found instead.":cr+=" no action context could be found instead.",cr+=" did you await inside an 'actionAsync' without using 'task(promise)'? did you forget to await the task?",w(cr)}if(bt.actionRunInfo.error=Nt,Object(c.g)(bt.actionRunInfo),sr.delete(R),Nt)throw Nt};try{Ae=G.apply(this,g)}catch(Nt){je(Nt)}if(sr.has(R))return je(void 0),[2,Ae];nt.label=1;case 1:return nt.trys.push([1,3,,4]),[4,Ae];case 2:return Ke=nt.sent(),[3,4];case 3:return Xe=nt.sent(),je(Xe),[3,4];case 4:return je(void 0),[2,Ke]}})})}}function Dt(k,G,g){return k+" - runid "+G+" - step "+g}}).call(this,u(155))},function(x,A,u){var v;(function(c,b,M){if(!c)return;for(var w={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},C={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},j={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},L={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},F,Y=1;Y<20;++Y)w[111+Y]="f"+Y;for(Y=0;Y<=9;++Y)w[Y+96]=Y.toString();function U(z,Q,oe){if(z.addEventListener){z.addEventListener(Q,oe,!1);return}z.attachEvent("on"+Q,oe)}function W(z){if(z.type=="keypress"){var Q=String.fromCharCode(z.which);return z.shiftKey||(Q=Q.toLowerCase()),Q}return w[z.which]?w[z.which]:C[z.which]?C[z.which]:String.fromCharCode(z.which).toLowerCase()}function ee(z,Q){return z.sort().join(",")===Q.sort().join(",")}function ae(z){var Q=[];return z.shiftKey&&Q.push("shift"),z.altKey&&Q.push("alt"),z.ctrlKey&&Q.push("ctrl"),z.metaKey&&Q.push("meta"),Q}function q(z){if(z.preventDefault){z.preventDefault();return}z.returnValue=!1}function Me(z){if(z.stopPropagation){z.stopPropagation();return}z.cancelBubble=!0}function ye(z){return z=="shift"||z=="ctrl"||z=="alt"||z=="meta"}function me(){if(!F){F={};for(var z in w)z>95&&z<112||w.hasOwnProperty(z)&&(F[w[z]]=z)}return F}function le(z,Q,oe){return oe||(oe=me()[z]?"keydown":"keypress"),oe=="keypress"&&Q.length&&(oe="keydown"),oe}function Oe(z){return z==="+"?["+"]:(z=z.replace(/\+{2}/g,"+plus"),z.split("+"))}function ue(z,Q){var oe,se,ce,re=[];for(oe=Oe(z),ce=0;ce<oe.length;++ce)se=oe[ce],L[se]&&(se=L[se]),Q&&Q!="keypress"&&j[se]&&(se=j[se],re.push("shift")),ye(se)&&re.push(se);return Q=le(se,re,Q),{key:se,modifiers:re,action:Q}}function ve(z,Q){return z===null||z===b?!1:z===Q?!0:ve(z.parentNode,Q)}function te(z){var Q=this;if(z=z||b,!(Q instanceof te))return new te(z);Q.target=z,Q._callbacks={},Q._directMap={};var oe={},se,ce=!1,re=!1,de=!1;function Ce(Be){Be=Be||{};var et=!1,tt;for(tt in oe){if(Be[tt]){et=!0;continue}oe[tt]=0}et||(de=!1)}function Re(Be,et,tt,Ue,V,Z){var ne,we,Ge=[],Pe=tt.type;if(!Q._callbacks[Be])return[];for(Pe=="keyup"&&ye(Be)&&(et=[Be]),ne=0;ne<Q._callbacks[Be].length;++ne)if(we=Q._callbacks[Be][ne],!(!Ue&&we.seq&&oe[we.seq]!=we.level)&&Pe==we.action&&(Pe=="keypress"&&!tt.metaKey&&!tt.ctrlKey||ee(et,we.modifiers))){var pt=!Ue&&we.combo==V,st=Ue&&we.seq==Ue&&we.level==Z;(pt||st)&&Q._callbacks[Be].splice(ne,1),Ge.push(we)}return Ge}function He(Be,et,tt,Ue){Q.stopCallback(et,et.target||et.srcElement,tt,Ue)||Be(et,tt)===!1&&(q(et),Me(et))}Q._handleKey=function(Be,et,tt){var Ue=Re(Be,et,tt),V,Z={},ne=0,we=!1;for(V=0;V<Ue.length;++V)Ue[V].seq&&(ne=Math.max(ne,Ue[V].level));for(V=0;V<Ue.length;++V){if(Ue[V].seq){if(Ue[V].level!=ne)continue;we=!0,Z[Ue[V].seq]=1,He(Ue[V].callback,tt,Ue[V].combo,Ue[V].seq);continue}we||He(Ue[V].callback,tt,Ue[V].combo)}var Ge=tt.type=="keypress"&&re;tt.type==de&&!ye(Be)&&!Ge&&Ce(Z),re=we&&tt.type=="keydown"};function Ve(Be){typeof Be.which!="number"&&(Be.which=Be.keyCode);var et=W(Be);if(!!et){if(Be.type=="keyup"&&ce===et){ce=!1;return}Q.handleKey(et,ae(Be),Be)}}function it(){clearTimeout(se),se=setTimeout(Ce,1e3)}function yt(Be,et,tt,Ue){oe[Be]=0;function V(Pe){return function(){de=Pe,++oe[Be],it()}}function Z(Pe){He(tt,Pe,Be),Ue!=="keyup"&&(ce=W(Pe)),setTimeout(Ce,10)}for(var ne=0;ne<et.length;++ne){var we=ne+1===et.length,Ge=we?Z:V(Ue||ue(et[ne+1]).action);ht(et[ne],Ge,Ue,Be,ne)}}function ht(Be,et,tt,Ue,V){Q._directMap[Be+":"+tt]=et,Be=Be.replace(/\s+/g," ");var Z=Be.split(" "),ne;if(Z.length>1){yt(Be,Z,et,tt);return}ne=ue(Be,tt),Q._callbacks[ne.key]=Q._callbacks[ne.key]||[],Re(ne.key,ne.modifiers,{type:ne.action},Ue,Be,V),Q._callbacks[ne.key][Ue?"unshift":"push"]({callback:et,modifiers:ne.modifiers,action:ne.action,seq:Ue,level:V,combo:Be})}Q._bindMultiple=function(Be,et,tt){for(var Ue=0;Ue<Be.length;++Ue)ht(Be[Ue],et,tt)},U(z,"keypress",Ve),U(z,"keydown",Ve),U(z,"keyup",Ve)}te.prototype.bind=function(z,Q,oe){var se=this;return z=z instanceof Array?z:[z],se._bindMultiple.call(se,z,Q,oe),se},te.prototype.unbind=function(z,Q){var oe=this;return oe.bind.call(oe,z,function(){},Q)},te.prototype.trigger=function(z,Q){var oe=this;return oe._directMap[z+":"+Q]&&oe._directMap[z+":"+Q]({},z),oe},te.prototype.reset=function(){var z=this;return z._callbacks={},z._directMap={},z},te.prototype.stopCallback=function(z,Q){var oe=this;if((" "+Q.className+" ").indexOf(" mousetrap ")>-1||ve(Q,oe.target))return!1;if("composedPath"in z&&typeof z.composedPath=="function"){var se=z.composedPath()[0];se!==z.target&&(Q=se)}return Q.tagName=="INPUT"||Q.tagName=="SELECT"||Q.tagName=="TEXTAREA"||Q.isContentEditable},te.prototype.handleKey=function(){var z=this;return z._handleKey.apply(z,arguments)},te.addKeycodes=function(z){for(var Q in z)z.hasOwnProperty(Q)&&(w[Q]=z[Q]);F=null},te.init=function(){var z=te(b);for(var Q in z)Q.charAt(0)!=="_"&&(te[Q]=function(oe){return function(){return z[oe].apply(z,arguments)}}(Q))},te.init(),c.Mousetrap=te,x.exports&&(x.exports=te),v=function(){return te}.call(A,u,A,x),v!==M&&(x.exports=v)})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(x,A,u){var v=u(36),c=u(37),b=u(32),M=u(39),w=u(66);x.exports=v?Object.defineProperties:function(j,L){b(j);for(var F=M(L),Y=w(L),U=Y.length,W=0,ee;U>W;)c.f(j,ee=Y[W++],F[ee]);return j}},function(x,A,u){var v=u(7),c=u(35),b=u(28),M=u(33),w=v.TypeError;x.exports=function(C,j){var L,F;if(j==="string"&&b(L=C.toString)&&!M(F=c(L,C))||b(L=C.valueOf)&&!M(F=c(L,C))||j!=="string"&&b(L=C.toString)&&!M(F=c(L,C)))return F;throw w("Can't convert object to primitive value")}},function(x,A,u){var v=u(7),c=u(28),b=u(92),M=v.WeakMap;x.exports=c(M)&&/native code/.test(b(M))},function(x,A,u){"use strict";var v=u(136).IteratorPrototype,c=u(54),b=u(71),M=u(73),w=u(70),C=function(){return this};x.exports=function(j,L,F,Y){var U=L+" Iterator";return j.prototype=c(v,{next:b(+!Y,F)}),M(j,U,!1,!0),w[U]=C,j}},function(x,A,u){var v=u(7),c=u(28),b=v.String,M=v.TypeError;x.exports=function(w){if(typeof w=="object"||c(w))return w;throw M("Can't set "+b(w)+" as a prototype")}},function(x,A,u){"use strict";var v=u(16),c=u(7),b=u(15),M=u(95),w=u(44),C=u(138),j=u(114),L=u(117),F=u(28),Y=u(33),U=u(18),W=u(118),ee=u(73),ae=u(143);x.exports=function(q,Me,ye){var me=q.indexOf("Map")!==-1,le=q.indexOf("Weak")!==-1,Oe=me?"set":"add",ue=c[q],ve=ue&&ue.prototype,te=ue,z={},Q=function(Re){var He=b(ve[Re]);w(ve,Re,Re=="add"?function(it){return He(this,it===0?0:it),this}:Re=="delete"?function(Ve){return le&&!Y(Ve)?!1:He(this,Ve===0?0:Ve)}:Re=="get"?function(it){return le&&!Y(it)?void 0:He(this,it===0?0:it)}:Re=="has"?function(it){return le&&!Y(it)?!1:He(this,it===0?0:it)}:function(it,yt){return He(this,it===0?0:it,yt),this})},oe=M(q,!F(ue)||!(le||ve.forEach&&!U(function(){new ue().entries().next()})));if(oe)te=ye.getConstructor(Me,q,me,Oe),C.enable();else if(M(q,!0)){var se=new te,ce=se[Oe](le?{}:-0,1)!=se,re=U(function(){se.has(1)}),de=W(function(Re){new ue(Re)}),Ce=!le&&U(function(){for(var Re=new ue,He=5;He--;)Re[Oe](He,He);return!Re.has(-0)});de||(te=Me(function(Re,He){L(Re,ve);var Ve=ae(new ue,Re,te);return He!=null&&j(He,Ve[Oe],{that:Ve,AS_ENTRIES:me}),Ve}),te.prototype=ve,ve.constructor=te),(re||Ce)&&(Q("delete"),Q("has"),me&&Q("get")),(Ce||ce)&&Q(Oe),le&&ve.clear&&delete ve.clear}return z[q]=te,v({global:!0,forced:te!=ue},z),ee(te,q),le||ye.setStrong(te,q,me),te}},function(x,A,u){var v=u(18),c=u(33),b=u(50),M=u(175),w=Object.isExtensible,C=v(function(){w(1)});x.exports=C||M?function(L){return!c(L)||M&&b(L)=="ArrayBuffer"?!1:w?w(L):!0}:w},function(x,A,u){var v=u(18);x.exports=v(function(){if(typeof ArrayBuffer=="function"){var c=new ArrayBuffer(8);Object.isExtensible(c)&&Object.defineProperty(c,"a",{value:8})}})},function(x,A,u){var v=u(18);x.exports=!v(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(x,A,u){"use strict";var v=u(37).f,c=u(54),b=u(144),M=u(62),w=u(117),C=u(114),j=u(111),L=u(145),F=u(36),Y=u(138).fastKey,U=u(56),W=U.set,ee=U.getterFor;x.exports={getConstructor:function(ae,q,Me,ye){var me=ae(function(te,z){w(te,le),W(te,{type:q,index:c(null),first:void 0,last:void 0,size:0}),F||(te.size=0),z!=null&&C(z,te[ye],{that:te,AS_ENTRIES:Me})}),le=me.prototype,Oe=ee(q),ue=function(te,z,Q){var oe=Oe(te),se=ve(te,z),ce,re;return se?se.value=Q:(oe.last=se={index:re=Y(z,!0),key:z,value:Q,previous:ce=oe.last,next:void 0,removed:!1},oe.first||(oe.first=se),ce&&(ce.next=se),F?oe.size++:te.size++,re!=="F"&&(oe.index[re]=se)),te},ve=function(te,z){var Q=Oe(te),oe=Y(z),se;if(oe!=="F")return Q.index[oe];for(se=Q.first;se;se=se.next)if(se.key==z)return se};return b(le,{clear:function(){for(var z=this,Q=Oe(z),oe=Q.index,se=Q.first;se;)se.removed=!0,se.previous&&(se.previous=se.previous.next=void 0),delete oe[se.index],se=se.next;Q.first=Q.last=void 0,F?Q.size=0:z.size=0},delete:function(te){var z=this,Q=Oe(z),oe=ve(z,te);if(oe){var se=oe.next,ce=oe.previous;delete Q.index[oe.index],oe.removed=!0,ce&&(ce.next=se),se&&(se.previous=ce),Q.first==oe&&(Q.first=se),Q.last==oe&&(Q.last=ce),F?Q.size--:z.size--}return!!oe},forEach:function(z){for(var Q=Oe(this),oe=M(z,arguments.length>1?arguments[1]:void 0),se;se=se?se.next:Q.first;)for(oe(se.value,se.key,this);se&&se.removed;)se=se.previous},has:function(z){return!!ve(this,z)}}),b(le,Me?{get:function(z){var Q=ve(this,z);return Q&&Q.value},set:function(z,Q){return ue(this,z===0?0:z,Q)}}:{add:function(z){return ue(this,z=z===0?0:z,z)}}),F&&v(le,"size",{get:function(){return Oe(this).size}}),me},setStrong:function(ae,q,Me){var ye=q+" Iterator",me=ee(q),le=ee(ye);j(ae,q,function(Oe,ue){W(this,{type:ye,target:Oe,state:me(Oe),kind:ue,last:void 0})},function(){for(var Oe=le(this),ue=Oe.kind,ve=Oe.last;ve&&ve.removed;)ve=ve.previous;return!Oe.target||!(Oe.last=ve=ve?ve.next:Oe.state.first)?(Oe.target=void 0,{value:void 0,done:!0}):ue=="keys"?{value:ve.key,done:!1}:ue=="values"?{value:ve.value,done:!1}:{value:[ve.key,ve.value],done:!1}},Me?"entries":"values",!Me,!0),L(q)}}},function(x,A,u){"use strict";var v=u(116),c=u(98);x.exports=v?{}.toString:function(){return"[object "+c(this)+"]"}},function(x,A,u){"use strict";var v=u(74).forEach,c=u(120),b=c("forEach");x.exports=b?[].forEach:function(w){return v(this,w,arguments.length>1?arguments[1]:void 0)}},function(x,A,u){var v=u(7),c=u(99),b=u(100),M=u(33),w=u(27),C=w("species"),j=v.Array;x.exports=function(L){var F;return c(L)&&(F=L.constructor,b(F)&&(F===j||c(F.prototype))?F=void 0:M(F)&&(F=F[C],F===null&&(F=void 0))),F===void 0?j:F}},function(x,A,u){var v=u(7);x.exports=v},function(x,A,u){"use strict";var v=u(7),c=u(62),b=u(35),M=u(38),w=u(183),C=u(140),j=u(100),L=u(43),F=u(61),Y=u(141),U=u(115),W=v.Array;x.exports=function(ae){var q=M(ae),Me=j(this),ye=arguments.length,me=ye>1?arguments[1]:void 0,le=me!==void 0;le&&(me=c(me,ye>2?arguments[2]:void 0));var Oe=U(q),ue=0,ve,te,z,Q,oe,se;if(Oe&&!(this==W&&C(Oe)))for(Q=Y(q,Oe),oe=Q.next,te=Me?new this:[];!(z=b(oe,Q)).done;ue++)se=le?w(Q,me,[z.value,ue],!0):z.value,F(te,ue,se);else for(ve=L(q),te=Me?new this(ve):W(ve);ve>ue;ue++)se=le?me(q[ue],ue):q[ue],F(te,ue,se);return te.length=ue,te}},function(x,A,u){var v=u(32),c=u(142);x.exports=function(b,M,w,C){try{return C?M(v(w)[0],w[1]):M(w)}catch(j){c(b,"throw",j)}}},function(x,A,u){"use strict";var v=u(32);x.exports=function(){var c=v(this),b="";return c.global&&(b+="g"),c.ignoreCase&&(b+="i"),c.multiline&&(b+="m"),c.dotAll&&(b+="s"),c.unicode&&(b+="u"),c.sticky&&(b+="y"),b}},function(x,A,u){var v=u(18),c=u(7),b=c.RegExp;x.exports=v(function(){var M=b(".","s");return!(M.dotAll&&M.exec(`
`)&&M.flags==="s")})},function(x,A,u){var v=u(18),c=u(7),b=c.RegExp;x.exports=v(function(){var M=b("(?<a>b)","g");return M.exec("b").groups.a!=="b"||"b".replace(M,"$<a>c")!=="bc"})},function(x,A,u){"use strict";var v=u(16),c=u(15),b=u(55),M=u(38),w=u(43),C=u(40),j=u(18),L=u(188),F=u(120),Y=u(189),U=u(190),W=u(65),ee=u(191),ae=[],q=c(ae.sort),Me=c(ae.push),ye=j(function(){ae.sort(void 0)}),me=j(function(){ae.sort(null)}),le=F("sort"),Oe=!j(function(){if(W)return W<70;if(!(Y&&Y>3)){if(U)return!0;if(ee)return ee<603;var te="",z,Q,oe,se;for(z=65;z<76;z++){switch(Q=String.fromCharCode(z),z){case 66:case 69:case 70:case 72:oe=3;break;case 68:case 71:oe=4;break;default:oe=2}for(se=0;se<47;se++)ae.push({k:Q+se,v:oe})}for(ae.sort(function(ce,re){return re.v-ce.v}),se=0;se<ae.length;se++)Q=ae[se].k.charAt(0),te.charAt(te.length-1)!==Q&&(te+=Q);return te!=="DGBEFHACIJK"}}),ue=ye||!me||!le||!Oe,ve=function(te){return function(z,Q){return Q===void 0?-1:z===void 0?1:te!==void 0?+te(z,Q)||0:C(z)>C(Q)?1:-1}};v({target:"Array",proto:!0,forced:ue},{sort:function(z){z!==void 0&&b(z);var Q=M(this);if(Oe)return z===void 0?q(Q):q(Q,z);var oe=[],se=w(Q),ce,re;for(re=0;re<se;re++)re in Q&&Me(oe,Q[re]);for(L(oe,ve(z)),ce=oe.length,re=0;re<ce;)Q[re]=oe[re++];for(;re<se;)delete Q[re++];return Q}})},function(x,A,u){var v=u(113),c=Math.floor,b=function(C,j){var L=C.length,F=c(L/2);return L<8?M(C,j):w(C,b(v(C,0,F),j),b(v(C,F),j),j)},M=function(C,j){for(var L=C.length,F=1,Y,U;F<L;){for(U=F,Y=C[F];U&&j(C[U-1],Y)>0;)C[U]=C[--U];U!==F++&&(C[U]=Y)}return C},w=function(C,j,L,F){for(var Y=j.length,U=L.length,W=0,ee=0;W<Y||ee<U;)C[W+ee]=W<Y&&ee<U?F(j[W],L[ee])<=0?j[W++]:L[ee++]:W<Y?j[W++]:L[ee++];return C};x.exports=b},function(x,A,u){var v=u(53),c=v.match(/firefox\/(\d+)/i);x.exports=!!c&&+c[1]},function(x,A,u){var v=u(53);x.exports=/MSIE|Trident/.test(v)},function(x,A,u){var v=u(53),c=v.match(/AppleWebKit\/(\d+)\./);x.exports=!!c&&+c[1]},function(x,A,u){"use strict";var v=u(16),c=u(74).find,b=u(83),M="find",w=!0;M in[]&&Array(1)[M](function(){w=!1}),v({target:"Array",proto:!0,forced:w},{find:function(j){return c(this,j,arguments.length>1?arguments[1]:void 0)}}),b(M)},function(x,A,u){var v=u(7),c=u(154),b=v.TypeError;x.exports=function(M){if(c(M))throw b("The method doesn't accept regular expressions");return M}},function(x,A,u){var v=u(27),c=v("match");x.exports=function(b){var M=/./;try{"/./"[b](M)}catch(w){try{return M[c]=!1,"/./"[b](M)}catch(C){}}return!1}},function(x,A,u){var v=u(94).PROPER,c=u(18),b=u(160),M="\u200B\x85\u180E";x.exports=function(w){return c(function(){return!!b[w]()||M[w]()!==M||v&&b[w].name!==w})}},function(x,A,u){var v=u(15);x.exports=v(1 .valueOf)},function(x,A,u){var v=u(15),c=u(38),b=Math.floor,M=v("".charAt),w=v("".replace),C=v("".slice),j=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,L=/\$([$&'`]|\d{1,2})/g;x.exports=function(F,Y,U,W,ee,ae){var q=U+F.length,Me=W.length,ye=L;return ee!==void 0&&(ee=c(ee),ye=j),w(ae,ye,function(me,le){var Oe;switch(M(le,0)){case"$":return"$";case"&":return F;case"`":return C(Y,0,U);case"'":return C(Y,q);case"<":Oe=ee[C(le,1,-1)];break;default:var ue=+le;if(ue===0)return me;if(ue>Me){var ve=b(ue/10);return ve===0?me:ve<=Me?W[ve-1]===void 0?M(le,1):W[ve-1]+M(le,1):me}Oe=W[ue-1]}return Oe===void 0?"":Oe})}},function(x,A,u){"use strict";var v=u(36),c=u(15),b=u(35),M=u(18),w=u(66),C=u(112),j=u(93),L=u(38),F=u(81),Y=Object.assign,U=Object.defineProperty,W=c([].concat);x.exports=!Y||M(function(){if(v&&Y({b:1},Y(U({},"a",{enumerable:!0,get:function(){U(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var ee={},ae={},q=Symbol(),Me="abcdefghijklmnopqrst";return ee[q]=7,Me.split("").forEach(function(ye){ae[ye]=ye}),Y({},ee)[q]!=7||w(Y({},ae)).join("")!=Me})?function(ae,q){for(var Me=L(ae),ye=arguments.length,me=1,le=C.f,Oe=j.f;ye>me;)for(var ue=F(arguments[me++]),ve=le?W(w(ue),le(ue)):w(ue),te=ve.length,z=0,Q;te>z;)Q=ve[z++],(!v||b(Oe,ue,Q))&&(Me[Q]=ue[Q]);return Me}:Y},function(x,A,u){"use strict";var v=u(7),c=u(15),b=u(55),M=u(33),w=u(34),C=u(101),j=v.Function,L=c([].concat),F=c([].join),Y={},U=function(W,ee,ae){if(!w(Y,ee)){for(var q=[],Me=0;Me<ee;Me++)q[Me]="a["+Me+"]";Y[ee]=j("C,a","return new C("+F(q,",")+")")}return Y[ee](W,ae)};x.exports=j.bind||function(ee){var ae=b(this),q=ae.prototype,Me=C(arguments,1),ye=function(){var le=L(Me,C(arguments));return this instanceof ye?U(ae,le.length,le):ae.apply(ee,le)};return M(q)&&(ye.prototype=q),ye}},function(x,A,u){var v=u(34);x.exports=function(c){return c!==void 0&&(v(c,"value")||v(c,"writable"))}},function(x,A,u){var v=u(15),c=u(45),b=u(40),M=/"/g,w=v("".replace);x.exports=function(C,j,L,F){var Y=b(c(C)),U="<"+j;return L!==""&&(U+=" "+L+'="'+w(b(F),M,"&quot;")+'"'),U+">"+Y+"</"+j+">"}},function(x,A,u){var v=u(18);x.exports=function(c){return v(function(){var b=""[c]('"');return b!==b.toLowerCase()||b.split('"').length>3})}},function(x,A,u){var v=u(16),c=Math.hypot,b=Math.abs,M=Math.sqrt,w=!!c&&c(Infinity,NaN)!==Infinity;v({target:"Math",stat:!0,forced:w},{hypot:function(j,L){for(var F=0,Y=0,U=arguments.length,W=0,ee,ae;Y<U;)ee=b(arguments[Y++]),W<ee?(ae=W/ee,F=F*ae*ae+1,W=ee):ee>0?(ae=ee/W,F+=ae*ae):F+=ee;return W===Infinity?Infinity:W*M(F)}})},function(x,A,u){"use strict";var v=u(16),c=u(64),b=u(7),M=u(46),w=u(35),C=u(205),j=u(44),L=u(144),F=u(97),Y=u(73),U=u(145),W=u(55),ee=u(28),ae=u(33),q=u(117),Me=u(92),ye=u(114),me=u(118),le=u(156),Oe=u(162).set,ue=u(206),ve=u(209),te=u(210),z=u(164),Q=u(211),oe=u(56),se=u(95),ce=u(27),re=u(212),de=u(126),Ce=u(65),Re=ce("species"),He="Promise",Ve=oe.getterFor(He),it=oe.set,yt=oe.getterFor(He),ht=C&&C.prototype,Be=C,et=ht,tt=b.TypeError,Ue=b.document,V=b.process,Z=z.f,ne=Z,we=!!(Ue&&Ue.createEvent&&b.dispatchEvent),Ge=ee(b.PromiseRejectionEvent),Pe="unhandledrejection",pt="rejectionhandled",st=0,ft=1,mt=2,De=1,jt=2,at=!1,ut,vt,Ut,Bt,At=se(He,function(){var We=Me(Be),ot=We!==String(Be);if(!ot&&Ce===66||c&&!et.finally)return!0;if(Ce>=51&&/native code/.test(We))return!1;var $e=new Be(function(Dt){Dt(1)}),ct=function(Dt){Dt(function(){},function(){})},xt=$e.constructor={};return xt[Re]=ct,at=$e.then(function(){})instanceof ct,at?!ot&&re&&!Ge:!0}),It=At||!me(function(We){Be.all(We).catch(function(){})}),Qt=function(We){var ot;return ae(We)&&ee(ot=We.then)?ot:!1},Gt=function(We,ot){if(!We.notified){We.notified=!0;var $e=We.reactions;ue(function(){for(var ct=We.value,xt=We.state==ft,Dt=0;$e.length>Dt;){var k=$e[Dt++],G=xt?k.ok:k.fail,g=k.resolve,P=k.reject,R=k.domain,X,je,Ae;try{G?(xt||(We.rejection===jt&&sr(We),We.rejection=De),G===!0?X=ct:(R&&R.enter(),X=G(ct),R&&(R.exit(),Ae=!0)),X===k.promise?P(tt("Promise-chain cycle")):(je=Qt(X))?w(je,X,g,P):g(X)):P(ct)}catch(Ke){R&&!Ae&&R.exit(),P(Ke)}}We.reactions=[],We.notified=!1,ot&&!We.rejection&&gr(We)})}},or=function(We,ot,$e){var ct,xt;we?(ct=Ue.createEvent("Event"),ct.promise=ot,ct.reason=$e,ct.initEvent(We,!1,!0),b.dispatchEvent(ct)):ct={promise:ot,reason:$e},!Ge&&(xt=b["on"+We])?xt(ct):We===Pe&&te("Unhandled promise rejection",$e)},gr=function(We){w(Oe,b,function(){var ot=We.facade,$e=We.value,ct=pr(We),xt;if(ct&&(xt=Q(function(){de?V.emit("unhandledRejection",$e,ot):or(Pe,ot,$e)}),We.rejection=de||pr(We)?jt:De,xt.error))throw xt.value})},pr=function(We){return We.rejection!==De&&!We.parent},sr=function(We){w(Oe,b,function(){var ot=We.facade;de?V.emit("rejectionHandled",ot):or(pt,ot,We.value)})},Ft=function(We,ot,$e){return function(ct){We(ot,ct,$e)}},kt=function(We,ot,$e){We.done||(We.done=!0,$e&&(We=$e),We.value=ot,We.state=mt,Gt(We,!0))},nr=function(We,ot,$e){if(!We.done){We.done=!0,$e&&(We=$e);try{if(We.facade===ot)throw tt("Promise can't be resolved itself");var ct=Qt(ot);ct?ue(function(){var xt={done:!1};try{w(ct,ot,Ft(nr,xt,We),Ft(kt,xt,We))}catch(Dt){kt(xt,Dt,We)}}):(We.value=ot,We.state=ft,Gt(We,!1))}catch(xt){kt({done:!1},xt,We)}}};if(At&&(Be=function(ot){q(this,et),W(ot),w(ut,this);var $e=Ve(this);try{ot(Ft(nr,$e),Ft(kt,$e))}catch(ct){kt($e,ct)}},et=Be.prototype,ut=function(ot){it(this,{type:He,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:st,value:void 0})},ut.prototype=L(et,{then:function(ot,$e){var ct=yt(this),xt=ct.reactions,Dt=Z(le(this,Be));return Dt.ok=ee(ot)?ot:!0,Dt.fail=ee($e)&&$e,Dt.domain=de?V.domain:void 0,ct.parent=!0,xt[xt.length]=Dt,ct.state!=st&&Gt(ct,!1),Dt.promise},catch:function(We){return this.then(void 0,We)}}),vt=function(){var We=new ut,ot=Ve(We);this.promise=We,this.resolve=Ft(nr,ot),this.reject=Ft(kt,ot)},z.f=Z=function(We){return We===Be||We===Ut?new vt(We):ne(We)},!c&&ee(C)&&ht!==Object.prototype)){Bt=ht.then,at||(j(ht,"then",function(ot,$e){var ct=this;return new Be(function(xt,Dt){w(Bt,ct,xt,Dt)}).then(ot,$e)},{unsafe:!0}),j(ht,"catch",et.catch,{unsafe:!0}));try{delete ht.constructor}catch(We){}F&&F(ht,et)}v({global:!0,wrap:!0,forced:At},{Promise:Be}),Y(Be,He,!1,!0),U(He),Ut=M(He),v({target:He,stat:!0,forced:At},{reject:function(ot){var $e=Z(this);return w($e.reject,void 0,ot),$e.promise}}),v({target:He,stat:!0,forced:c||At},{resolve:function(ot){return ve(c&&this===Ut?Be:this,ot)}}),v({target:He,stat:!0,forced:It},{all:function(ot){var $e=this,ct=Z($e),xt=ct.resolve,Dt=ct.reject,k=Q(function(){var G=W($e.resolve),g=[],P=0,R=1;ye(ot,function(X){var je=P++,Ae=!1;R++,w(G,$e,X).then(function(Ke){Ae||(Ae=!0,g[je]=Ke,--R||xt(g))},Dt)}),--R||xt(g)});return k.error&&Dt(k.value),ct.promise},race:function(ot){var $e=this,ct=Z($e),xt=ct.reject,Dt=Q(function(){var k=W($e.resolve);ye(ot,function(G){w(k,$e,G).then(ct.resolve,xt)})});return Dt.error&&xt(Dt.value),ct.promise}})},function(x,A,u){var v=u(7);x.exports=v.Promise},function(x,A,u){var v=u(7),c=u(62),b=u(51).f,M=u(162).set,w=u(163),C=u(207),j=u(208),L=u(126),F=v.MutationObserver||v.WebKitMutationObserver,Y=v.document,U=v.process,W=v.Promise,ee=b(v,"queueMicrotask"),ae=ee&&ee.value,q,Me,ye,me,le,Oe,ue,ve;ae||(q=function(){var te,z;for(L&&(te=U.domain)&&te.exit();Me;){z=Me.fn,Me=Me.next;try{z()}catch(Q){throw Me?me():ye=void 0,Q}}ye=void 0,te&&te.enter()},!w&&!L&&!j&&F&&Y?(le=!0,Oe=Y.createTextNode(""),new F(q).observe(Oe,{characterData:!0}),me=function(){Oe.data=le=!le}):!C&&W&&W.resolve?(ue=W.resolve(void 0),ue.constructor=W,ve=c(ue.then,ue),me=function(){ve(q)}):L?me=function(){U.nextTick(q)}:(M=c(M,v),me=function(){M(q)})),x.exports=ae||function(te){var z={fn:te,next:void 0};ye&&(ye.next=z),Me||(Me=z,me()),ye=z}},function(x,A,u){var v=u(53),c=u(7);x.exports=/ipad|iphone|ipod/i.test(v)&&c.Pebble!==void 0},function(x,A,u){var v=u(53);x.exports=/web0s(?!.*chrome)/i.test(v)},function(x,A,u){var v=u(32),c=u(33),b=u(164);x.exports=function(M,w){if(v(M),c(w)&&w.constructor===M)return w;var C=b.f(M),j=C.resolve;return j(w),C.promise}},function(x,A,u){var v=u(7);x.exports=function(c,b){var M=v.console;M&&M.error&&(arguments.length==1?M.error(c):M.error(c,b))}},function(x,A){x.exports=function(u){try{return{error:!1,value:u()}}catch(v){return{error:!0,value:v}}}},function(x,A){x.exports=typeof window=="object"},function(x,A,u){var v=u(36),c=u(15),b=u(66),M=u(39),w=u(93).f,C=c(w),j=c([].push),L=function(F){return function(Y){for(var U=M(Y),W=b(U),ee=W.length,ae=0,q=[],Me;ee>ae;)Me=W[ae++],(!v||C(U,Me))&&j(q,F?[Me,U[Me]]:U[Me]);return q}};x.exports={entries:L(!0),values:L(!1)}},function(x,A,u){"use strict";var v=u(38),c=u(67),b=u(43);x.exports=function(w){for(var C=v(this),j=b(C),L=arguments.length,F=c(L>1?arguments[1]:void 0,j),Y=L>2?arguments[2]:void 0,U=Y===void 0?j:c(Y,j);U>F;)C[F++]=w;return C}},function(x,A,u){"use strict";u.r(A),u.d(A,"observer",function(){return Ao}),u.d(A,"LogicFlow",function(){return _r}),u.d(A,"h",function(){return Se.g}),u.d(A,"LogicFlowUtil",function(){return v}),u.d(A,"BaseNode",function(){return qr}),u.d(A,"RectNode",function(){return Zl}),u.d(A,"CircleNode",function(){return ql}),u.d(A,"PolygonNode",function(){return ts}),u.d(A,"DiamondNode",function(){return os}),u.d(A,"EllipseNode",function(){return us}),u.d(A,"TextNode",function(){return ss}),u.d(A,"HtmlNode",function(){return ds}),u.d(A,"BaseEdge",function(){return ro}),u.d(A,"LineEdge",function(){return ms}),u.d(A,"PolylineEdge",function(){return Uo}),u.d(A,"BezierEdge",function(){return Es}),u.d(A,"Arrow",function(){return Ed}),u.d(A,"BaseEdgeModel",function(){return pf}),u.d(A,"BezierEdgeModel",function(){return Gf}),u.d(A,"LineEdgeModel",function(){return aa}),u.d(A,"PolylineEdgeModel",function(){return Mu}),u.d(A,"BaseNodeModel",function(){return Da}),u.d(A,"CircleNodeModel",function(){return Hy}),u.d(A,"DiamondNodeModel",function(){return Vy}),u.d(A,"EllipseNodeModel",function(){return og}),u.d(A,"PolygonNodeModel",function(){return dg}),u.d(A,"RectNodeModel",function(){return bg}),u.d(A,"TextNodeModel",function(){return Yf}),u.d(A,"HtmlNodeModel",function(){return zc}),u.d(A,"EditConfigModel",function(){return Cp}),u.d(A,"GraphModel",function(){return Ah}),u.d(A,"SnaplineModel",function(){return bD}),u.d(A,"Keyboard",function(){return Ad}),u.d(A,"get",function(){return sy}),u.d(A,"defaults",function(){return fy});var v={};u.r(v),u.d(v,"createUuid",function(){return Eo}),u.d(v,"refreshGraphId",function(){return Iw}),u.d(v,"createDrag",function(){return xf}),u.d(v,"StepDrag",function(){return So});var c=u(0),b=u(10);if(!b.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!c.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var M=u(42),w=Object(M.b)("observerBatching");function C(o){o()}function j(o){o||(o=C),Object(c.n)({reactionScheduler:o}),Object(M.a)()[w]=!0}var L=function(){return!!Object(M.a)()[w]},F=!1;function Y(o){F=o}function U(){return F}function W(o){return Object(c.t)(o)}function ee(o){var e={cleanAt:Date.now()+ae,reaction:o};return e}var ae=1e4,q=1e4,Me=new Set,ye;function me(){ye===void 0&&(ye=setTimeout(ue,q))}function le(o){Me.add(o),me()}function Oe(o){Me.delete(o)}function ue(){ye=void 0;var o=Date.now();Me.forEach(function(e){var t=e.current;t&&o>=t.cleanAt&&(t.reaction.dispose(),e.current=null,Me.delete(e))}),Me.size>0&&me()}function ve(){ye&&(clearTimeout(ye),ue())}function te(){ye&&(clearTimeout(ye),ye=void 0),Me.clear()}var z=!1,Q=[];function oe(o){return function(){z?Q.push(o):o()}}function se(o){z=!0,Q=[];try{var e=o();z=!1;var t=Q.length>0?Q:void 0;return b.d.useLayoutEffect(function(){t&&t.forEach(function(r){return r()})},[t]),e}finally{z=!1}}var ce={};function re(o){return"observer"+o}function de(o,e,t){if(e===void 0&&(e="observed"),t===void 0&&(t=ce),U())return o();var r=t.useForceUpdate||M.d,n=r(),i=oe(n),a=b.d.useRef(null);if(!a.current){var l=new c.c(re(e),function(){d.mounted?i():(l.dispose(),a.current=null)}),d=ee(l);a.current=d,le(a)}var p=a.current.reaction;return b.d.useDebugValue(p,W),b.d.useEffect(function(){return Oe(a),a.current?a.current.mounted=!0:(a.current={reaction:new c.c(re(e),function(){i()}),cleanAt:Infinity},i()),function(){a.current.reaction.dispose(),a.current=null}},[]),se(function(){var O,N;if(p.track(function(){try{O=o()}catch(B){N=B}}),N)throw N;return O})}var Ce=function(){return Ce=Object.assign||function(o){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n])}return o},Ce.apply(this,arguments)};function Re(o,e){if(U())return o;var t=Ce({forwardRef:!1},e),r=o.displayName||o.name,n=function(a,l){return de(function(){return o(a,l)},r)};n.displayName=r;var i;return t.forwardRef?i=Object(b.f)(Object(b.e)(n)):i=Object(b.f)(n),Ve(o,i),i.displayName=r,i}var He={$$typeof:!0,render:!0,compare:!0,type:!0};function Ve(o,e){Object.keys(o).forEach(function(t){He[t]||Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}function it(o){var e=o.children,t=o.render,r=e||t;return typeof r!="function"?null:de(r)}it.propTypes={children:yt,render:yt},it.displayName="Observer";function yt(o,e,t,r,n){var i=e==="children"?"render":"children",a=typeof o[e]=="function",l=typeof o[i]=="function";return a&&l?new Error("MobX Observer: Do not use children and render in the same time in`"+t):a||l?null:new Error("Invalid prop `"+n+"` of type `"+typeof o[e]+"` supplied to `"+t+"`, expected `function`.")}var ht=function(o,e){var t=typeof Symbol=="function"&&o[Symbol.iterator];if(!t)return o;var r=t.call(o),n,i=[],a;try{for(;(e===void 0||e-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(l){a={error:l}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i};function Be(o,e){var t=e?"useLocalStore":"useAsObservableSource";if(!1)var r,n;if(!(e&&o===void 0)){var i=ht(b.d.useState(function(){return Object(c.C)(o,{},{deep:!1})}),1),a=i[0];return Object(c.G)(function(){Object.assign(a,o)}),a}}function et(o){return Be(o,!1)}function tt(o,e){var t=Be(e,!0);return b.d.useState(function(){var r=Object(c.C)(o(t));return Object(M.c)(r)&&Object(c.G)(function(){Object.keys(r).forEach(function(n){var i=r[n];typeof i=="function"&&(r[n]=Ue(i,r))})}),r})[0]}function Ue(o,e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Object(c.J)(function(){return o.apply(e,t)})}}j(b.g);var V=0;function Z(o){if(typeof Symbol=="function")return Symbol(o);var e="__$mobx-react "+o+" ("+V+")";return V++,e}var ne={};function we(o){return ne[o]||(ne[o]=Z(o)),ne[o]}function Ge(o,e){if(Pe(o,e))return!0;if(typeof o!="object"||o===null||typeof e!="object"||e===null)return!1;var t=Object.keys(o),r=Object.keys(e);if(t.length!==r.length)return!1;for(var n=0;n<t.length;n++)if(!Object.hasOwnProperty.call(e,t[n])||!Pe(o[t[n]],e[t[n]]))return!1;return!0}function Pe(o,e){return o===e?o!==0||1/o==1/e:o!==o&&e!==e}var pt={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,propTypes:1};function st(o,e){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(o));Object.getOwnPropertyNames(o).forEach(function(r){!pt[r]&&t.indexOf(r)===-1&&Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}function ft(o,e,t){Object.hasOwnProperty.call(o,e)?o[e]=t:Object.defineProperty(o,e,{enumerable:!1,configurable:!0,writable:!0,value:t})}var mt=we("patchMixins"),De=we("patchedDefinition");function jt(o,e){var t=o[mt]=o[mt]||{},r=t[e]=t[e]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function at(o,e){for(var t=this,r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];e.locks++;try{var a;return o!=null&&(a=o.apply(this,n)),a}finally{e.locks--,e.locks===0&&e.methods.forEach(function(l){l.apply(t,n)})}}function ut(o,e){var t=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];at.call.apply(at,[this,o,e].concat(i))};return t}function vt(o,e,t){var r=jt(o,e);r.methods.indexOf(t)<0&&r.methods.push(t);var n=Object.getOwnPropertyDescriptor(o,e);if(!(n&&n[De])){var i=o[e],a=Ut(o,e,n?n.enumerable:void 0,r,i);Object.defineProperty(o,e,a)}}function Ut(o,e,t,r,n){var i,a=ut(n,r);return i={},i[De]=!0,i.get=function(){return a},i.set=function(d){if(this===o)a=ut(d,r);else{var p=Ut(this,e,t,r,d);Object.defineProperty(this,e,p)}},i.configurable=!0,i.enumerable=t,i}var Bt=c.a||"$mobx",At=we("isMobXReactObserver"),It=we("isUnmounted"),Qt=we("skipRender"),Gt=we("isForcingUpdate");function or(o){var e=o.prototype;if(o[At]){var t=gr(e);console.warn("The provided component class ("+t+`) 
                has already been declared as an observer component.`)}else o[At]=!0;if(e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(o.__proto__!==b.b){if(!e.shouldComponentUpdate)e.shouldComponentUpdate=sr;else if(e.shouldComponentUpdate!==sr)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}Ft(e,"props"),Ft(e,"state");var r=e.render;return e.render=function(){return pr.call(this,r)},vt(e,"componentWillUnmount",function(){var n;if(U()!==!0&&((n=this.render[Bt])===null||n===void 0||n.dispose(),this[It]=!0,!this.render[Bt])){var i=gr(this);console.warn("The reactive render of an observer class component ("+i+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),o}function gr(o){return o.displayName||o.name||o.constructor&&(o.constructor.displayName||o.constructor.name)||"<component>"}function pr(o){var e=this;if(U()===!0)return o.call(this);ft(this,Qt,!1),ft(this,Gt,!1);var t=gr(this),r=o.bind(this),n=!1,i=new c.c(t+".render()",function(){if(!n&&(n=!0,e[It]!==!0)){var l=!0;try{ft(e,Gt,!0),e[Qt]||b.a.prototype.forceUpdate.call(e),l=!1}finally{ft(e,Gt,!1),l&&i.dispose()}}});i.reactComponent=this,a[Bt]=i,this.render=a;function a(){n=!1;var l=void 0,d=void 0;if(i.track(function(){try{d=Object(c.d)(!1,r)}catch(p){l=p}}),l)throw l;return d}return a.call(this)}function sr(o,e){return U()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==e?!0:!Ge(this.props,o)}function Ft(o,e){var t=we("reactProp_"+e+"_valueHolder"),r=we("reactProp_"+e+"_atomHolder");function n(){return this[r]||ft(this,r,Object(c.o)("reactive "+e)),this[r]}Object.defineProperty(o,e,{configurable:!0,enumerable:!0,get:function(){var a=!1;return c.f&&c.e&&(a=Object(c.f)(!0)),n.call(this).reportObserved(),c.f&&c.e&&Object(c.e)(a),this[t]},set:function(a){!this[Gt]&&!Ge(this[t],a)?(ft(this,t,a),ft(this,Qt,!0),n.call(this).reportChanged(),ft(this,Qt,!1)):ft(this,t,a)}})}var kt=typeof Symbol=="function"&&Symbol.for,nr=kt?Symbol.for("react.forward_ref"):typeof b.e=="function"&&Object(b.e)(function(o){return null}).$$typeof,We=kt?Symbol.for("react.memo"):typeof b.f=="function"&&Object(b.f)(function(o){return null}).$$typeof;function ot(o){if(o.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),We&&o.$$typeof===We)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(nr&&o.$$typeof===nr){var e=o.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(b.e)(function(){var r=arguments;return Object(b.c)(it,null,function(){return e.apply(void 0,r)})})}return typeof o=="function"&&(!o.prototype||!o.prototype.render)&&!o.isReactClass&&!Object.prototype.isPrototypeOf.call(b.a,o)?Re(o):or(o)}function $e(){return $e=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},$e.apply(this,arguments)}function ct(o,e){if(o==null)return{};var t={},r=Object.keys(o),n,i;for(i=0;i<r.length;i++)n=r[i],!(e.indexOf(n)>=0)&&(t[n]=o[n]);return t}var xt=b.d.createContext({});function Dt(o){var e=o.children,t=ct(o,["children"]),r=b.d.useContext(xt),n=b.d.useRef($e({},r,t)),i=n.current;if(!1)var a;return b.d.createElement(xt.Provider,{value:i},e)}Dt.displayName="MobXProvider";function k(o,e,t,r){var n=b.d.forwardRef(function(i,a){var l=$e({},i),d=b.d.useContext(xt);return Object.assign(l,o(d||{},l)||{}),a&&(l.ref=a),b.d.createElement(e,l)});return r&&(n=ot(n)),n.isMobxInjector=!0,st(e,n),n.wrappedComponent=e,n.displayName=G(e,t),n}function G(o,e){var t,r=o.displayName||o.name||o.constructor&&o.constructor.name||"Component";return e?t="inject-with-"+e+"("+r+")":t="inject("+r+")",t}function g(o){return function(e,t){return o.forEach(function(r){if(!(r in t)){if(!(r in e))throw new Error("MobX injector: Store '"+r+"' is not available! Make sure it is provided by some Provider");t[r]=e[r]}}),t}}function P(){for(var o=arguments.length,e=new Array(o),t=0;t<o;t++)e[t]=arguments[t];if(typeof arguments[0]=="function"){var r=arguments[0];return function(n){return k(r,n,r.name,!0)}}else return function(n){return k(g(e),n,e.join("-"),!1)}}var R=we("disposeOnUnmountProto"),X=we("disposeOnUnmountInst");function je(){var o=this;[].concat(this[R]||[],this[X]||[]).forEach(function(e){var t=typeof e=="string"?o[e]:e;t!=null&&(Array.isArray(t)?t.map(function(r){return r()}):t())})}function Ae(o,e){if(Array.isArray(e))return e.map(function(d){return Ae(o,d)});var t=Object.getPrototypeOf(o).constructor,r=Object.getPrototypeOf(o.constructor),n=Object.getPrototypeOf(Object.getPrototypeOf(o));if(!(t===b.d.Component||t===b.d.PureComponent||r===b.d.Component||r===b.d.PureComponent||n===b.d.Component||n===b.d.PureComponent))throw new Error("[mobx-react] disposeOnUnmount only supports direct subclasses of React.Component or React.PureComponent.");if(typeof e!="string"&&typeof e!="function"&&!Array.isArray(e))throw new Error("[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.");var i=typeof e=="string",a=!!o[R]||!!o[X],l=i?o[R]||(o[R]=[]):o[X]||(o[X]=[]);if(l.push(e),a||vt(o,"componentWillUnmount",je),typeof e!="string")return e}function Ke(o){function e(r,n,i,a,l,d){for(var p=arguments.length,O=new Array(p>6?p-6:0),N=6;N<p;N++)O[N-6]=arguments[N];return Object(c.K)(function(){if(a=a||"<<anonymous>>",d=d||i,n[i]==null){if(r){var B=n[i]===null?"null":"undefined";return new Error("The "+l+" `"+d+"` is marked as required in `"+a+"`, but its value is `"+B+"`.")}return null}else return o.apply(void 0,[n,i,a,l,d].concat(O))})}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function Xe(o,e){return o==="symbol"||e["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&e instanceof Symbol}function nt(o){var e=typeof o;return Array.isArray(o)?"array":o instanceof RegExp?"object":Xe(e,o)?"symbol":e}function Nt(o){var e=nt(o);if(e==="object"){if(o instanceof Date)return"date";if(o instanceof RegExp)return"regexp"}return e}function bt(o,e){return Ke(function(t,r,n,i,a){return Object(c.K)(function(){if(o&&nt(t[r])===e.toLowerCase())return null;var l;switch(e){case"Array":l=c.y;break;case"Object":l=c.A;break;case"Map":l=c.z;break;default:throw new Error("Unexpected mobxType: "+e)}var d=t[r];if(!l(d)){var p=Nt(d),O=o?" or javascript `"+e.toLowerCase()+"`":"";return new Error("Invalid prop `"+a+"` of type `"+p+"` supplied to `"+n+"`, expected `mobx.Observable"+e+"`"+O+".")}return null})})}function cr(o,e){return Ke(function(t,r,n,i,a){for(var l=arguments.length,d=new Array(l>5?l-5:0),p=5;p<l;p++)d[p-5]=arguments[p];return Object(c.K)(function(){if(typeof e!="function")return new Error("Property `"+a+"` of component `"+n+"` has invalid PropType notation.");var O=bt(o,"Array")(t,r,n,i,a);if(O instanceof Error)return O;for(var N=t[r],B=0;B<N.length;B++)if(O=e.apply(void 0,[N,B,n,i,a+"["+B+"]"].concat(d)),O instanceof Error)return O;return null})})}var ir=bt(!1,"Array"),Rr=cr.bind(null,!1),Ur=bt(!1,"Map"),sn=bt(!1,"Object"),$r=bt(!0,"Array"),Ui=cr.bind(null,!0),ba=bt(!0,"Object"),wl={observableArray:ir,observableArrayOf:Rr,observableMap:Ur,observableObject:sn,arrayOrObservableArray:$r,arrayOrObservableArrayOf:Ui,objectOrObservableObject:ba};if(!b.a)throw new Error("mobx-react requires React to be available");if(!c.C)throw new Error("mobx-react requires mobx to be available");var Se=u(1),co=u(3),wn=u(60),Ua=u(2),rn=u(6),Oa=u(4),Xn=u(11),no=u(41),ws=u(24),Yn=u(20),Al=u(5),ko=u(22),Xo=u(21),Nl=u(23),Je=u(8),As=u(9),Rd=u(17),Id=u(25),fc=u(19),Dl=u(29),$i=u(187),$a=u(192),ka=u(103),kr=u(152),Zr=u(153);function po(o,e){for(var t=-1,r=o==null?0:o.length,n=Array(r);++t<r;)n[t]=e(o[t],t,o);return n}var Dr=po;function Ea(){this.__data__=[],this.size=0}var Xa=Ea;function vo(o,e){return o===e||o!==o&&e!==e}var xn=vo;function Ln(o,e){for(var t=o.length;t--;)if(xn(o[t][0],e))return t;return-1}var oo=Ln,mi=Array.prototype,Yo=mi.splice;function An(o){var e=this.__data__,t=oo(e,o);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Yo.call(e,t,1),--this.size,!0}var Sa=An;function Pn(o){var e=this.__data__,t=oo(e,o);return t<0?void 0:e[t][1]}var Wo=Pn;function yr(o){return oo(this.__data__,o)>-1}var zn=yr;function bi(o,e){var t=this.__data__,r=oo(t,o);return r<0?(++this.size,t.push([o,e])):t[r][1]=e,this}var jo=bi;function Fn(o){var e=-1,t=o==null?0:o.length;for(this.clear();++e<t;){var r=o[e];this.set(r[0],r[1])}}Fn.prototype.clear=Xa,Fn.prototype.delete=Sa,Fn.prototype.get=Wo,Fn.prototype.has=zn,Fn.prototype.set=jo;var Nn=Fn;function Oi(){this.__data__=new Nn,this.size=0}var Ei=Oi;function xa(o){var e=this.__data__,t=e.delete(o);return this.size=e.size,t}var Ya=xa;function en(o){return this.__data__.get(o)}var Wa=en;function Pa(o){return this.__data__.has(o)}var io=Pa,zr=u(31),Ma=zr.a.Symbol,xr=Ma,Si=Object.prototype,Ka=Si.hasOwnProperty,Ta=Si.toString,fn=xr?xr.toStringTag:void 0;function ki(o){var e=Ka.call(o,fn),t=o[fn];try{o[fn]=void 0;var r=!0}catch(i){}var n=Ta.call(o);return r&&(e?o[fn]=t:delete o[fn]),n}var Va=ki,Ns=Object.prototype,xi=Ns.toString;function wa(o){return xi.call(o)}var ho=wa,Ko="[object Null]",ao="[object Undefined]",Pi=xr?xr.toStringTag:void 0;function Mi(o){return o==null?o===void 0?ao:Ko:Pi&&Pi in Object(o)?Va(o):ho(o)}var cn=Mi;function Co(o){var e=typeof o;return o!=null&&(e=="object"||e=="function")}var Tr=Co,Za="[object AsyncFunction]",Wn="[object Function]",Ds="[object GeneratorFunction]",js="[object Proxy]";function Ja(o){if(!Tr(o))return!1;var e=cn(o);return e==Wn||e==Ds||e==Za||e==js}var Vo=Ja,Ro=zr.a["__core-js_shared__"],Zo=Ro,Io=function(){var o=/[^.]+$/.exec(Zo&&Zo.keys&&Zo.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();function Ti(o){return!!Io&&Io in o}var Kn=Ti,Cs=Function.prototype,Dn=Cs.toString;function Jo(o){if(o!=null){try{return Dn.call(o)}catch(e){}try{return o+""}catch(e){}}return""}var dn=Jo,Xi=/[\\^$.*+?()[\]{}|]/g,Rs=/^\[object .+?Constructor\]$/,Qa=Function.prototype,qa=Object.prototype,Yi=Qa.toString,_a=qa.hasOwnProperty,Aa=RegExp("^"+Yi.call(_a).replace(Xi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Wi(o){if(!Tr(o)||Kn(o))return!1;var e=Vo(o)?Aa:Rs;return e.test(dn(o))}var jn=Wi;function nn(o,e){return o==null?void 0:o[e]}var eu=nn;function Ki(o,e){var t=eu(o,e);return jn(t)?t:void 0}var pn=Ki,Xr=pn(zr.a,"Map"),Vn=Xr,Vi=pn(Object,"create"),Cn=Vi;function Bo(){this.__data__=Cn?Cn(null):{},this.size=0}var Lo=Bo;function Na(o){var e=this.has(o)&&delete this.__data__[o];return this.size-=e?1:0,e}var wi=Na,Yr="__lodash_hash_undefined__",Hn=Object.prototype,Gr=Hn.hasOwnProperty;function Fr(o){var e=this.__data__;if(Cn){var t=e[o];return t===Yr?void 0:t}return Gr.call(e,o)?e[o]:void 0}var Zn=Fr,Hr=Object.prototype,tu=Hr.hasOwnProperty;function jl(o){var e=this.__data__;return Cn?e[o]!==void 0:tu.call(e,o)}var ru=jl,yo="__lodash_hash_undefined__";function Jr(o,e){var t=this.__data__;return this.size+=this.has(o)?0:1,t[o]=Cn&&e===void 0?yo:e,this}var Qo=Jr;function ar(o){var e=-1,t=o==null?0:o.length;for(this.clear();++e<t;){var r=o[e];this.set(r[0],r[1])}}ar.prototype.clear=Lo,ar.prototype.delete=wi,ar.prototype.get=Zn,ar.prototype.has=ru,ar.prototype.set=Qo;var qo=ar;function Ai(){this.size=0,this.__data__={hash:new qo,map:new(Vn||Nn),string:new qo}}var _o=Ai;function fr(o){var e=typeof o;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?o!=="__proto__":o===null}var Zi=fr;function nu(o,e){var t=o.__data__;return Zi(e)?t[typeof e=="string"?"string":"hash"]:t.map}var uo=nu;function E(o){var e=uo(this,o).delete(o);return this.size-=e?1:0,e}var m=E;function y(o){return uo(this,o).get(o)}var S=y;function T(o){return uo(this,o).has(o)}var I=T;function K(o,e){var t=uo(this,o),r=t.size;return t.set(o,e),this.size+=t.size==r?0:1,this}var ie=K;function be(o){var e=-1,t=o==null?0:o.length;for(this.clear();++e<t;){var r=o[e];this.set(r[0],r[1])}}be.prototype.clear=_o,be.prototype.delete=m,be.prototype.get=S,be.prototype.has=I,be.prototype.set=ie;var Ee=be,Te=200;function Ye(o,e){var t=this.__data__;if(t instanceof Nn){var r=t.__data__;if(!Vn||r.length<Te-1)return r.push([o,e]),this.size=++t.size,this;t=this.__data__=new Ee(r)}return t.set(o,e),this.size=t.size,this}var Qe=Ye;function qe(o){var e=this.__data__=new Nn(o);this.size=e.size}qe.prototype.clear=Ei,qe.prototype.delete=Ya,qe.prototype.get=Wa,qe.prototype.has=io,qe.prototype.set=Qe;var dt=qe,Lt="__lodash_hash_undefined__";function Ht(o){return this.__data__.set(o,Lt),this}var Yt=Ht;function Ct(o){return this.__data__.has(o)}var tr=Ct;function jr(o){var e=-1,t=o==null?0:o.length;for(this.__data__=new Ee;++e<t;)this.add(o[e])}jr.prototype.add=jr.prototype.push=Yt,jr.prototype.has=tr;var s=jr;function f(o,e){for(var t=-1,r=o==null?0:o.length;++t<r;)if(e(o[t],t,o))return!0;return!1}var h=f;function D(o,e){return o.has(e)}var H=D,_=1,ge=2;function ze(o,e,t,r,n,i){var a=t&_,l=o.length,d=e.length;if(l!=d&&!(a&&d>l))return!1;var p=i.get(o),O=i.get(e);if(p&&O)return p==e&&O==o;var N=-1,B=!0,$=t&ge?new s:void 0;for(i.set(o,e),i.set(e,o);++N<l;){var J=o[N],fe=e[N];if(r)var pe=a?r(fe,J,N,e,o,i):r(J,fe,N,o,e,i);if(pe!==void 0){if(pe)continue;B=!1;break}if($){if(!h(e,function(he,Ne){if(!H($,Ne)&&(J===he||n(J,he,t,r,i)))return $.push(Ne)})){B=!1;break}}else if(!(J===fe||n(J,fe,t,r,i))){B=!1;break}}return i.delete(o),i.delete(e),B}var _e=ze,Rt=zr.a.Uint8Array,wt=Rt;function Xt(o){var e=-1,t=Array(o.size);return o.forEach(function(r,n){t[++e]=[n,r]}),t}var Wt=Xt;function Zt(o){var e=-1,t=Array(o.size);return o.forEach(function(r){t[++e]=r}),t}var mr=Zt,br=1,Ar=2,Jn="[object Boolean]",Ji="[object Date]",Is="[object Error]",ou="[object Map]",iu="[object Number]",Qi="[object RegExp]",au="[object Set]",qi="[object String]",OE="[object Symbol]",EE="[object ArrayBuffer]",SE="[object DataView]",Bd=xr?xr.prototype:void 0,Bs=Bd?Bd.valueOf:void 0;function xE(o,e,t,r,n,i,a){switch(t){case SE:if(o.byteLength!=e.byteLength||o.byteOffset!=e.byteOffset)return!1;o=o.buffer,e=e.buffer;case EE:return!(o.byteLength!=e.byteLength||!i(new wt(o),new wt(e)));case Jn:case Ji:case iu:return xn(+o,+e);case Is:return o.name==e.name&&o.message==e.message;case Qi:case qi:return o==e+"";case ou:var l=Wt;case au:var d=r&br;if(l||(l=mr),o.size!=e.size&&!d)return!1;var p=a.get(o);if(p)return p==e;r|=Ar,a.set(o,e);var O=_e(l(o),l(e),r,n,i,a);return a.delete(o),O;case OE:if(Bs)return Bs.call(o)==Bs.call(e)}return!1}var PE=xE;function ME(o,e){for(var t=-1,r=e.length,n=o.length;++t<r;)o[n+t]=e[t];return o}var Ls=ME,TE=Array.isArray,Ir=TE;function wE(o,e,t){var r=e(o);return Ir(o)?r:Ls(r,t(o))}var Ld=wE;function AE(o,e){for(var t=-1,r=o==null?0:o.length,n=0,i=[];++t<r;){var a=o[t];e(a,t,o)&&(i[n++]=a)}return i}var NE=AE;function DE(){return[]}var zd=DE,jE=Object.prototype,CE=jE.propertyIsEnumerable,Fd=Object.getOwnPropertySymbols,RE=Fd?function(o){return o==null?[]:(o=Object(o),NE(Fd(o),function(e){return CE.call(o,e)}))}:zd,zs=RE;function IE(o,e){for(var t=-1,r=Array(o);++t<o;)r[t]=e(t);return r}var BE=IE;function LE(o){return o!=null&&typeof o=="object"}var hn=LE,zE="[object Arguments]";function FE(o){return hn(o)&&cn(o)==zE}var Hd=FE,Gd=Object.prototype,HE=Gd.hasOwnProperty,GE=Gd.propertyIsEnumerable,UE=Hd(function(){return arguments}())?Hd:function(o){return hn(o)&&HE.call(o,"callee")&&!GE.call(o,"callee")},_i=UE,ea=u(48),$E=9007199254740991,kE=/^(?:0|[1-9]\d*)$/;function XE(o,e){var t=typeof o;return e=e==null?$E:e,!!e&&(t=="number"||t!="symbol"&&kE.test(o))&&o>-1&&o%1==0&&o<e}var uu=XE,YE=9007199254740991;function WE(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=YE}var Fs=WE,KE="[object Arguments]",VE="[object Array]",ZE="[object Boolean]",JE="[object Date]",QE="[object Error]",qE="[object Function]",_E="[object Map]",eS="[object Number]",tS="[object Object]",rS="[object RegExp]",nS="[object Set]",oS="[object String]",iS="[object WeakMap]",aS="[object ArrayBuffer]",uS="[object DataView]",lS="[object Float32Array]",sS="[object Float64Array]",fS="[object Int8Array]",cS="[object Int16Array]",dS="[object Int32Array]",pS="[object Uint8Array]",vS="[object Uint8ClampedArray]",hS="[object Uint16Array]",yS="[object Uint32Array]",er={};er[lS]=er[sS]=er[fS]=er[cS]=er[dS]=er[pS]=er[vS]=er[hS]=er[yS]=!0,er[KE]=er[VE]=er[aS]=er[ZE]=er[uS]=er[JE]=er[QE]=er[qE]=er[_E]=er[eS]=er[tS]=er[rS]=er[nS]=er[oS]=er[iS]=!1;function gS(o){return hn(o)&&Fs(o.length)&&!!er[cn(o)]}var mS=gS;function bS(o){return function(e){return o(e)}}var Hs=bS,ei=u(49),Ud=ei.a&&ei.a.isTypedArray,OS=Ud?Hs(Ud):mS,Gs=OS,ES=Object.prototype,SS=ES.hasOwnProperty;function xS(o,e){var t=Ir(o),r=!t&&_i(o),n=!t&&!r&&Object(ea.a)(o),i=!t&&!r&&!n&&Gs(o),a=t||r||n||i,l=a?BE(o.length,String):[],d=l.length;for(var p in o)(e||SS.call(o,p))&&!(a&&(p=="length"||n&&(p=="offset"||p=="parent")||i&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||uu(p,d)))&&l.push(p);return l}var $d=xS,PS=Object.prototype;function MS(o){var e=o&&o.constructor,t=typeof e=="function"&&e.prototype||PS;return o===t}var lu=MS;function TS(o,e){return function(t){return o(e(t))}}var kd=TS,wS=kd(Object.keys,Object),AS=wS,NS=Object.prototype,DS=NS.hasOwnProperty;function jS(o){if(!lu(o))return AS(o);var e=[];for(var t in Object(o))DS.call(o,t)&&t!="constructor"&&e.push(t);return e}var CS=jS;function RS(o){return o!=null&&Fs(o.length)&&!Vo(o)}var go=RS;function IS(o){return go(o)?$d(o):CS(o)}var ti=IS;function BS(o){return Ld(o,ti,zs)}var Us=BS,LS=1,zS=Object.prototype,FS=zS.hasOwnProperty;function HS(o,e,t,r,n,i){var a=t&LS,l=Us(o),d=l.length,p=Us(e),O=p.length;if(d!=O&&!a)return!1;for(var N=d;N--;){var B=l[N];if(!(a?B in e:FS.call(e,B)))return!1}var $=i.get(o),J=i.get(e);if($&&J)return $==e&&J==o;var fe=!0;i.set(o,e),i.set(e,o);for(var pe=a;++N<d;){B=l[N];var he=o[B],Ne=e[B];if(r)var Fe=a?r(Ne,he,B,e,o,i):r(he,Ne,B,o,e,i);if(!(Fe===void 0?he===Ne||n(he,Ne,t,r,i):Fe)){fe=!1;break}pe||(pe=B=="constructor")}if(fe&&!pe){var Le=o.constructor,ke=e.constructor;Le!=ke&&"constructor"in o&&"constructor"in e&&!(typeof Le=="function"&&Le instanceof Le&&typeof ke=="function"&&ke instanceof ke)&&(fe=!1)}return i.delete(o),i.delete(e),fe}var GS=HS,US=pn(zr.a,"DataView"),$s=US,$S=pn(zr.a,"Promise"),ks=$S,kS=pn(zr.a,"Set"),Xs=kS,XS=pn(zr.a,"WeakMap"),Ys=XS,Xd="[object Map]",YS="[object Object]",Yd="[object Promise]",Wd="[object Set]",Kd="[object WeakMap]",Vd="[object DataView]",WS=dn($s),KS=dn(Vn),VS=dn(ks),ZS=dn(Xs),JS=dn(Ys),mo=cn;($s&&mo(new $s(new ArrayBuffer(1)))!=Vd||Vn&&mo(new Vn)!=Xd||ks&&mo(ks.resolve())!=Yd||Xs&&mo(new Xs)!=Wd||Ys&&mo(new Ys)!=Kd)&&(mo=function(o){var e=cn(o),t=e==YS?o.constructor:void 0,r=t?dn(t):"";if(r)switch(r){case WS:return Vd;case KS:return Xd;case VS:return Yd;case ZS:return Wd;case JS:return Kd}return e});var ta=mo,QS=1,Zd="[object Arguments]",Jd="[object Array]",su="[object Object]",qS=Object.prototype,Qd=qS.hasOwnProperty;function _S(o,e,t,r,n,i){var a=Ir(o),l=Ir(e),d=a?Jd:ta(o),p=l?Jd:ta(e);d=d==Zd?su:d,p=p==Zd?su:p;var O=d==su,N=p==su,B=d==p;if(B&&Object(ea.a)(o)){if(!Object(ea.a)(e))return!1;a=!0,O=!1}if(B&&!O)return i||(i=new dt),a||Gs(o)?_e(o,e,t,r,n,i):PE(o,e,d,t,r,n,i);if(!(t&QS)){var $=O&&Qd.call(o,"__wrapped__"),J=N&&Qd.call(e,"__wrapped__");if($||J){var fe=$?o.value():o,pe=J?e.value():e;return i||(i=new dt),n(fe,pe,t,r,i)}}return B?(i||(i=new dt),GS(o,e,t,r,n,i)):!1}var ex=_S;function qd(o,e,t,r,n){return o===e?!0:o==null||e==null||!hn(o)&&!hn(e)?o!==o&&e!==e:ex(o,e,t,r,qd,n)}var Ws=qd,tx=1,rx=2;function nx(o,e,t,r){var n=t.length,i=n,a=!r;if(o==null)return!i;for(o=Object(o);n--;){var l=t[n];if(a&&l[2]?l[1]!==o[l[0]]:!(l[0]in o))return!1}for(;++n<i;){l=t[n];var d=l[0],p=o[d],O=l[1];if(a&&l[2]){if(p===void 0&&!(d in o))return!1}else{var N=new dt;if(r)var B=r(p,O,d,o,e,N);if(!(B===void 0?Ws(O,p,tx|rx,r,N):B))return!1}}return!0}var ox=nx;function ix(o){return o===o&&!Tr(o)}var _d=ix;function ax(o){for(var e=ti(o),t=e.length;t--;){var r=e[t],n=o[r];e[t]=[r,n,_d(n)]}return e}var ux=ax;function lx(o,e){return function(t){return t==null?!1:t[o]===e&&(e!==void 0||o in Object(t))}}var ep=lx;function sx(o){var e=ux(o);return e.length==1&&e[0][2]?ep(e[0][0],e[0][1]):function(t){return t===o||ox(t,o,e)}}var fx=sx,cx="[object Symbol]";function dx(o){return typeof o=="symbol"||hn(o)&&cn(o)==cx}var fu=dx,px=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vx=/^\w*$/;function hx(o,e){if(Ir(o))return!1;var t=typeof o;return t=="number"||t=="symbol"||t=="boolean"||o==null||fu(o)?!0:vx.test(o)||!px.test(o)||e!=null&&o in Object(e)}var Ks=hx,yx="Expected a function";function Vs(o,e){if(typeof o!="function"||e!=null&&typeof e!="function")throw new TypeError(yx);var t=function(){var r=arguments,n=e?e.apply(this,r):r[0],i=t.cache;if(i.has(n))return i.get(n);var a=o.apply(this,r);return t.cache=i.set(n,a)||i,a};return t.cache=new(Vs.Cache||Ee),t}Vs.Cache=Ee;var gx=Vs,mx=500;function bx(o){var e=gx(o,function(r){return t.size===mx&&t.clear(),r}),t=e.cache;return e}var Ox=bx,Ex=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sx=/\\(\\)?/g,xx=Ox(function(o){var e=[];return o.charCodeAt(0)===46&&e.push(""),o.replace(Ex,function(t,r,n,i){e.push(n?i.replace(Sx,"$1"):r||t)}),e}),Px=xx,Mx=1/0,tp=xr?xr.prototype:void 0,rp=tp?tp.toString:void 0;function np(o){if(typeof o=="string")return o;if(Ir(o))return Dr(o,np)+"";if(fu(o))return rp?rp.call(o):"";var e=o+"";return e=="0"&&1/o==-Mx?"-0":e}var Tx=np;function wx(o){return o==null?"":Tx(o)}var Ax=wx;function Nx(o,e){return Ir(o)?o:Ks(o,e)?[o]:Px(Ax(o))}var cu=Nx,Dx=1/0;function jx(o){if(typeof o=="string"||fu(o))return o;var e=o+"";return e=="0"&&1/o==-Dx?"-0":e}var ra=jx;function Cx(o,e){e=cu(e,o);for(var t=0,r=e.length;o!=null&&t<r;)o=o[ra(e[t++])];return t&&t==r?o:void 0}var Zs=Cx;function Rx(o,e,t){var r=o==null?void 0:Zs(o,e);return r===void 0?t:r}var op=Rx;function Ix(o,e){return o!=null&&e in Object(o)}var Bx=Ix;function Lx(o,e,t){e=cu(e,o);for(var r=-1,n=e.length,i=!1;++r<n;){var a=ra(e[r]);if(!(i=o!=null&&t(o,a)))break;o=o[a]}return i||++r!=n?i:(n=o==null?0:o.length,!!n&&Fs(n)&&uu(a,n)&&(Ir(o)||_i(o)))}var zx=Lx;function Fx(o,e){return o!=null&&zx(o,e,Bx)}var ip=Fx,Hx=1,Gx=2;function Ux(o,e){return Ks(o)&&_d(e)?ep(ra(o),e):function(t){var r=op(t,o);return r===void 0&&r===e?ip(t,o):Ws(e,r,Hx|Gx)}}var $x=Ux;function kx(o){return o}var Js=kx;function Xx(o){return function(e){return e==null?void 0:e[o]}}var Yx=Xx;function Wx(o){return function(e){return Zs(e,o)}}var Kx=Wx;function Vx(o){return Ks(o)?Yx(ra(o)):Kx(o)}var Zx=Vx;function Jx(o){return typeof o=="function"?o:o==null?Js:typeof o=="object"?Ir(o)?$x(o[0],o[1]):fx(o):Zx(o)}var Qx=Jx;function qx(o){return function(e,t,r){for(var n=-1,i=Object(e),a=r(e),l=a.length;l--;){var d=a[o?l:++n];if(t(i[d],d,i)===!1)break}return e}}var _x=qx,eP=_x(),ap=eP;function tP(o,e){return o&&ap(o,e,ti)}var rP=tP;function nP(o,e){return function(t,r){if(t==null)return t;if(!go(t))return o(t,r);for(var n=t.length,i=e?n:-1,a=Object(t);(e?i--:++i<n)&&r(a[i],i,a)!==!1;);return t}}var oP=nP,iP=oP(rP),aP=iP;function uP(o,e){var t=-1,r=go(o)?Array(o.length):[];return aP(o,function(n,i,a){r[++t]=e(n,i,a)}),r}var lP=uP;function sP(o,e){var t=Ir(o)?Dr:lP;return t(o,Qx(e,3))}var du=sP,fP=function(){try{var o=pn(Object,"defineProperty");return o({},"",{}),o}catch(e){}}(),pu=fP;function cP(o,e,t){e=="__proto__"&&pu?pu(o,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):o[e]=t}var Qs=cP,dP=Object.prototype,pP=dP.hasOwnProperty;function vP(o,e,t){var r=o[e];(!(pP.call(o,e)&&xn(r,t))||t===void 0&&!(e in o))&&Qs(o,e,t)}var vu=vP;function hP(o,e,t,r){var n=!t;t||(t={});for(var i=-1,a=e.length;++i<a;){var l=e[i],d=r?r(t[l],o[l],l,t,o):void 0;d===void 0&&(d=o[l]),n?Qs(t,l,d):vu(t,l,d)}return t}var ri=hP;function yP(o,e,t){switch(t.length){case 0:return o.call(e);case 1:return o.call(e,t[0]);case 2:return o.call(e,t[0],t[1]);case 3:return o.call(e,t[0],t[1],t[2])}return o.apply(e,t)}var gP=yP,up=Math.max;function mP(o,e,t){return e=up(e===void 0?o.length-1:e,0),function(){for(var r=arguments,n=-1,i=up(r.length-e,0),a=Array(i);++n<i;)a[n]=r[e+n];n=-1;for(var l=Array(e+1);++n<e;)l[n]=r[n];return l[e]=t(a),gP(o,this,l)}}var lp=mP;function bP(o){return function(){return o}}var OP=bP,EP=pu?function(o,e){return pu(o,"toString",{configurable:!0,enumerable:!1,value:OP(e),writable:!0})}:Js,SP=EP,xP=800,PP=16,MP=Date.now;function TP(o){var e=0,t=0;return function(){var r=MP(),n=PP-(r-t);if(t=r,n>0){if(++e>=xP)return arguments[0]}else e=0;return o.apply(void 0,arguments)}}var wP=TP,AP=wP(SP),sp=AP;function NP(o,e){return sp(lp(o,e,Js),o+"")}var DP=NP;function jP(o,e,t){if(!Tr(t))return!1;var r=typeof e;return(r=="number"?go(t)&&uu(e,t.length):r=="string"&&e in t)?xn(t[e],o):!1}var CP=jP;function RP(o){return DP(function(e,t){var r=-1,n=t.length,i=n>1?t[n-1]:void 0,a=n>2?t[2]:void 0;for(i=o.length>3&&typeof i=="function"?(n--,i):void 0,a&&CP(t[0],t[1],a)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var l=t[r];l&&o(e,l,r,i)}return e})}var fp=RP,IP=Object.prototype,BP=IP.hasOwnProperty,LP=fp(function(o,e){if(lu(e)||go(e)){ri(e,ti(e),o);return}for(var t in e)BP.call(e,t)&&vu(o,t,e[t])}),Br=LP;function zP(o,e,t,r){if(!Tr(o))return o;e=cu(e,o);for(var n=-1,i=e.length,a=i-1,l=o;l!=null&&++n<i;){var d=ra(e[n]),p=t;if(d==="__proto__"||d==="constructor"||d==="prototype")return o;if(n!=a){var O=l[d];p=r?r(O,d,l):void 0,p===void 0&&(p=Tr(O)?O:uu(e[n+1])?[]:{})}vu(l,d,p),l=l[d]}return o}var FP=zP;function HP(o,e,t){for(var r=-1,n=e.length,i={};++r<n;){var a=e[r],l=Zs(o,a);t(l,a)&&FP(i,cu(a,o),l)}return i}var GP=HP;function UP(o,e){return GP(o,e,function(t,r){return ip(o,r)})}var $P=UP,cp=xr?xr.isConcatSpreadable:void 0;function kP(o){return Ir(o)||_i(o)||!!(cp&&o&&o[cp])}var XP=kP;function dp(o,e,t,r,n){var i=-1,a=o.length;for(t||(t=XP),n||(n=[]);++i<a;){var l=o[i];e>0&&t(l)?e>1?dp(l,e-1,t,r,n):Ls(n,l):r||(n[n.length]=l)}return n}var YP=dp;function WP(o){var e=o==null?0:o.length;return e?YP(o,1):[]}var KP=WP;function VP(o){return sp(lp(o,void 0,KP),o+"")}var ZP=VP,JP=ZP(function(o,e){return o==null?{}:$P(o,e)}),na=JP,lr,pp,vp,hp,yp,gp,mp,bp,Op,Ep,Sp,xp,Pp,Mp,Tp,wp,Ap,Np;function Pr(o,e,t,r){!t||Object.defineProperty(o,e,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function QP(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function Dp(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function qP(o,e,t){return e&&Dp(o.prototype,e),t&&Dp(o,t),o}function jp(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function Sr(o,e,t,r,n){var i={};return Object.keys(r).forEach(function(a){i[a]=r[a]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(a,l){return l(o,e,a)||a},i),n&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(o,e,i),i=null),i}function _C(o,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var _P={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},qs=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Cp=(lr=function(){function o(e){QP(this,o),Pr(this,"isSilentMode",pp,this),Pr(this,"stopZoomGraph",vp,this),Pr(this,"stopScrollGraph",hp,this),Pr(this,"stopMoveGraph",yp,this),Pr(this,"adjustEdge",gp,this),Pr(this,"adjustEdgeMiddle",mp,this),Pr(this,"adjustEdgeStartAndEnd",bp,this),Pr(this,"adjustNodePosition",Op,this),Pr(this,"hideAnchors",Ep,this),Pr(this,"hoverOutline",Sp,this),Pr(this,"nodeSelectedOutline",xp,this),Pr(this,"edgeSelectedOutline",Pp,this),Pr(this,"nodeTextEdit",Mp,this),Pr(this,"edgeTextEdit",Tp,this),Pr(this,"nodeTextDraggable",wp,this),Pr(this,"edgeTextDraggable",Ap,this),Pr(this,"autoExpand",Np,this),jp(this,"multipleSelectKey",""),jp(this,"defaultConfig",{}),Br(this,this.getConfigDetail(e))}return qP(o,[{key:"updateEditConfig",value:function(t){var r=this.getConfigDetail(t);Br(this,r)}},{key:"getConfigDetail",value:function(t){var r=t.isSilentMode,n=t.textEdit,i={};if(r===!1&&Br(i,this.defaultConfig),r===!0){var a=na(_P,qs);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},Br(i,a)}n===!1&&Br(i,{nodeTextEdit:!1,edgeTextEdit:!1});var l=na(t,qs);return Br(i,l)}},{key:"getConfig",value:function(){return na(this,qs)}}]),o}(),pp=Sr(lr.prototype,"isSilentMode",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vp=Sr(lr.prototype,"stopZoomGraph",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hp=Sr(lr.prototype,"stopScrollGraph",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yp=Sr(lr.prototype,"stopMoveGraph",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gp=Sr(lr.prototype,"adjustEdge",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),mp=Sr(lr.prototype,"adjustEdgeMiddle",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bp=Sr(lr.prototype,"adjustEdgeStartAndEnd",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Op=Sr(lr.prototype,"adjustNodePosition",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ep=Sr(lr.prototype,"hideAnchors",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Sp=Sr(lr.prototype,"hoverOutline",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xp=Sr(lr.prototype,"nodeSelectedOutline",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Pp=Sr(lr.prototype,"edgeSelectedOutline",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Mp=Sr(lr.prototype,"nodeTextEdit",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Tp=Sr(lr.prototype,"edgeTextEdit",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wp=Sr(lr.prototype,"nodeTextDraggable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ap=Sr(lr.prototype,"edgeTextDraggable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Np=Sr(lr.prototype,"autoExpand",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Sr(lr.prototype,"updateEditConfig",[c.k],Object.getOwnPropertyDescriptor(lr.prototype,"updateEditConfig"),lr.prototype),lr),eR=u(77),Kt;(function(o){o[o.DEFAULT=1]="DEFAULT",o[o.TEXT_EDIT=2]="TEXT_EDIT",o[o.SHOW_MENU=3]="SHOW_MENU",o[o.ALLOW_CONNECT=4]="ALLOW_CONNECT",o[o.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(Kt||(Kt={}));var Rp;(function(o){o.KEY="logic-flow",o.NODE_NAME="lf-node",o.EDGE_NAME="lf-edge"})(Rp||(Rp={}));var zt;(function(o){o.NODE="node",o.CIRCLE_NODE="circle-node",o.POLYGON_NODE="polygon-node",o.RECT_NODE="rect-node",o.TEXT_NODE="text-node",o.ELLIPSE_NODE="ellipse-node",o.DIAMOND_NODE="diamond-node",o.HTML_NODE="html-node",o.EDGE="edge",o.LINE_EDGE="line-edge",o.POLYLINE_EDGE="polyline-edge",o.BEZIER_EDGE="bezier-edge",o.GRAPH="graph"})(zt||(zt={}));var Or;(function(o){o.NODE="node",o.EDGE="edge",o.GRAPH="graph"})(Or||(Or={}));var Mt;(function(o){o.ELEMENT_CLICK="element:click",o.NODE_CLICK="node:click",o.NODE_DBCLICK="node:dbclick",o.NODE_DELETE="node:delete",o.NODE_ADD="node:add",o.NODE_DND_ADD="node:dnd-add",o.NODE_DND_DRAG="node:dnd-drag",o.NODE_MOUSEDOWN="node:mousedown",o.NODE_DRAGSTART="node:dragstart",o.NODE_DRAG="node:drag",o.NODE_DROP="node:drop",o.NODE_MOUSEUP="node:mouseup",o.NODE_MOUSEMOVE="node:mousemove",o.NODE_MOUSEENTER="node:mouseenter",o.NODE_MOUSELEAVE="node:mouseleave",o.NODE_CONTEXTMENU="node:contextmenu",o.EDGE_DELETE="edge:delete",o.EDGE_ADD="edge:add",o.EDGE_CLICK="edge:click",o.EDGE_DBCLICK="edge:dbclick",o.EDGE_MOUSEENTER="edge:mouseenter",o.EDGE_MOUSELEAVE="edge:mouseleave",o.EDGE_CONTEXTMENU="edge:contextmenu",o.EDGE_ADJUST="edge:adjust",o.EDGE_EXCHANGE_NODE="edge:exchange-node",o.ANCHOR_DRAGSTART="anchor:dragstart",o.ANCHOR_DRAG="anchor:drag",o.ANCHOR_DROP="anchor:drop",o.BLANK_MOUSEDOWN="blank:mousedown",o.BLANK_DRAGSTART="blank:dragstart",o.BLANK_DRAG="blank:drag",o.BLANK_DROP="blank:drop",o.BLANK_MOUSEMOVE="blank:mousemove",o.BLANK_MOUSEUP="blank:mouseup",o.BLANK_CLICK="blank:click",o.BLANK_CONTEXTMENU="blank:contextmenu",o.SELECTION_MOUSEDOWN="selection:mousedown",o.SELECTION_DRAGSTART="selection:dragstart",o.SELECTION_DRAG="selection:drag",o.SELECTION_DROP="selection:drop",o.SELECTION_MOUSEMOVE="selection:mousemove",o.SELECTION_MOUSEUP="selection:mouseup",o.SELECTION_CONTEXTMENU="selection:contextmenu",o.CONNECTION_NOT_ALLOWED="connection:not-allowed",o.HISTORY_CHANGE="history:change",o.TEXT_UPDATE="text:update",o.GRAPH_TRANSFORM="graph:transform",o.GRAPH_RENDERED="graph:rendered"})(Mt||(Mt={}));var Jt;(function(o){o.HORIZONTAL="horizontal",o.VERTICAL="vertical"})(Jt||(Jt={}));var Ip=9999,Wr;(function(o){o[o.DEFAULT=0]="DEFAULT",o[o.INCREASE=1]="INCREASE"})(Wr||(Wr={}));var dr,Bp,Lp,zp,Fp,Hp,Gp,Up;function hu(o,e){return nM(o)||rM(o,e)||tM(o,e)||eM()}function eM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tM(o,e){if(!!o){if(typeof o=="string")return $p(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $p(o,e)}}function $p(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function rM(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function nM(o){if(Array.isArray(o))return o}function bo(o,e,t,r){!t||Object.defineProperty(o,e,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function oM(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function kp(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function iM(o,e,t){return e&&kp(o.prototype,e),t&&kp(o,t),o}function _s(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function on(o,e,t,r,n){var i={};return Object.keys(r).forEach(function(a){i[a]=r[a]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(a,l){return l(o,e,a)||a},i),n&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(o,e,i),i=null),i}function tR(o,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var aM=(dr=function(){function o(e){oM(this,o),_s(this,"MINI_SCALE_SIZE",.2),_s(this,"MAX_SCALE_SIZE",16),bo(this,"SCALE_X",Bp,this),bo(this,"SKEW_Y",Lp,this),bo(this,"SKEW_X",zp,this),bo(this,"SCALE_Y",Fp,this),bo(this,"TRANSLATE_X",Hp,this),bo(this,"TRANSLATE_Y",Gp,this),bo(this,"ZOOM_SIZE",Up,this),_s(this,"eventCenter",void 0),this.eventCenter=e}return iM(o,[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var r=hu(t,2),n=r[0],i=r[1];return[(n-this.TRANSLATE_X)/this.SCALE_X,(i-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var r=hu(t,2),n=r[0],i=r[1];return[n*this.SCALE_X+this.TRANSLATE_X,i*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,r,n){var i=hu(t,2),a=i[0],l=i[1];return[a+r/this.SCALE_X,l+n/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,r){return[t/this.SCALE_X,r/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=arguments.length>1?arguments[1]:void 0,n=this.SCALE_X,i=this.SCALE_Y;return t===!0?(n+=this.ZOOM_SIZE,i+=this.ZOOM_SIZE):t===!1?(n-=this.ZOOM_SIZE,i-=this.ZOOM_SIZE):typeof t=="number"&&(n=t,i=t),n<this.MINI_SCALE_SIZE||n>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(r&&(this.TRANSLATE_X-=(n-this.SCALE_X)*r[0],this.TRANSLATE_Y-=(i-this.SCALE_Y)*r[1]),this.SCALE_X=n,this.SCALE_Y=i,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(Mt.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,r){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=r,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,r,n,i){var a=this.CanvasPointToHtmlPoint([t,r]),l=hu(a,2),d=l[0],p=l[1],O=n/2-d,N=i/2-p;this.TRANSLATE_X+=O,this.TRANSLATE_Y+=N,this.emitGraphTransform("focusOn")}}]),o}(),Bp=on(dr.prototype,"SCALE_X",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Lp=on(dr.prototype,"SKEW_Y",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zp=on(dr.prototype,"SKEW_X",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fp=on(dr.prototype,"SCALE_Y",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Hp=on(dr.prototype,"TRANSLATE_X",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Gp=on(dr.prototype,"TRANSLATE_Y",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Up=on(dr.prototype,"ZOOM_SIZE",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),on(dr.prototype,"zoom",[c.k],Object.getOwnPropertyDescriptor(dr.prototype,"zoom"),dr.prototype),on(dr.prototype,"resetZoom",[c.k],Object.getOwnPropertyDescriptor(dr.prototype,"resetZoom"),dr.prototype),on(dr.prototype,"translate",[c.k],Object.getOwnPropertyDescriptor(dr.prototype,"translate"),dr.prototype),on(dr.prototype,"focusOn",[c.k],Object.getOwnPropertyDescriptor(dr.prototype,"focusOn"),dr.prototype),dr);function uM(o,e){for(var t=-1,r=o==null?0:o.length;++t<r&&e(o[t],t,o)!==!1;);return o}var lM=uM;function sM(o,e){return o&&ri(e,ti(e),o)}var fM=sM;function cM(o){var e=[];if(o!=null)for(var t in Object(o))e.push(t);return e}var dM=cM,pM=Object.prototype,vM=pM.hasOwnProperty;function hM(o){if(!Tr(o))return dM(o);var e=lu(o),t=[];for(var r in o)r=="constructor"&&(e||!vM.call(o,r))||t.push(r);return t}var yM=hM;function gM(o){return go(o)?$d(o,!0):yM(o)}var oa=gM;function mM(o,e){return o&&ri(e,oa(e),o)}var bM=mM,Xp=u(106);function OM(o,e){var t=-1,r=o.length;for(e||(e=Array(r));++t<r;)e[t]=o[t];return e}var Yp=OM;function EM(o,e){return ri(o,zs(o),e)}var SM=EM,xM=kd(Object.getPrototypeOf,Object),ef=xM,PM=Object.getOwnPropertySymbols,MM=PM?function(o){for(var e=[];o;)Ls(e,zs(o)),o=ef(o);return e}:zd,Wp=MM;function TM(o,e){return ri(o,Wp(o),e)}var wM=TM;function AM(o){return Ld(o,oa,Wp)}var NM=AM,DM=Object.prototype,jM=DM.hasOwnProperty;function CM(o){var e=o.length,t=new o.constructor(e);return e&&typeof o[0]=="string"&&jM.call(o,"index")&&(t.index=o.index,t.input=o.input),t}var RM=CM;function IM(o){var e=new o.constructor(o.byteLength);return new wt(e).set(new wt(o)),e}var tf=IM;function BM(o,e){var t=e?tf(o.buffer):o.buffer;return new o.constructor(t,o.byteOffset,o.byteLength)}var LM=BM,zM=/\w*$/;function FM(o){var e=new o.constructor(o.source,zM.exec(o));return e.lastIndex=o.lastIndex,e}var HM=FM,Kp=xr?xr.prototype:void 0,Vp=Kp?Kp.valueOf:void 0;function GM(o){return Vp?Object(Vp.call(o)):{}}var UM=GM;function $M(o,e){var t=e?tf(o.buffer):o.buffer;return new o.constructor(t,o.byteOffset,o.length)}var Zp=$M,kM="[object Boolean]",XM="[object Date]",YM="[object Map]",WM="[object Number]",KM="[object RegExp]",VM="[object Set]",ZM="[object String]",JM="[object Symbol]",QM="[object ArrayBuffer]",qM="[object DataView]",_M="[object Float32Array]",eT="[object Float64Array]",tT="[object Int8Array]",rT="[object Int16Array]",nT="[object Int32Array]",oT="[object Uint8Array]",iT="[object Uint8ClampedArray]",aT="[object Uint16Array]",uT="[object Uint32Array]";function lT(o,e,t){var r=o.constructor;switch(e){case QM:return tf(o);case kM:case XM:return new r(+o);case qM:return LM(o,t);case _M:case eT:case tT:case rT:case nT:case oT:case iT:case aT:case uT:return Zp(o,t);case YM:return new r;case WM:case ZM:return new r(o);case KM:return HM(o);case VM:return new r;case JM:return UM(o)}}var sT=lT,Jp=Object.create,fT=function(){function o(){}return function(e){if(!Tr(e))return{};if(Jp)return Jp(e);o.prototype=e;var t=new o;return o.prototype=void 0,t}}(),cT=fT;function dT(o){return typeof o.constructor=="function"&&!lu(o)?cT(ef(o)):{}}var Qp=dT,pT="[object Map]";function vT(o){return hn(o)&&ta(o)==pT}var hT=vT,qp=ei.a&&ei.a.isMap,yT=qp?Hs(qp):hT,gT=yT,mT="[object Set]";function bT(o){return hn(o)&&ta(o)==mT}var OT=bT,_p=ei.a&&ei.a.isSet,ET=_p?Hs(_p):OT,ST=ET,xT=1,PT=2,MT=4,ev="[object Arguments]",TT="[object Array]",wT="[object Boolean]",AT="[object Date]",NT="[object Error]",tv="[object Function]",DT="[object GeneratorFunction]",jT="[object Map]",CT="[object Number]",rv="[object Object]",RT="[object RegExp]",IT="[object Set]",BT="[object String]",LT="[object Symbol]",zT="[object WeakMap]",FT="[object ArrayBuffer]",HT="[object DataView]",GT="[object Float32Array]",UT="[object Float64Array]",$T="[object Int8Array]",kT="[object Int16Array]",XT="[object Int32Array]",YT="[object Uint8Array]",WT="[object Uint8ClampedArray]",KT="[object Uint16Array]",VT="[object Uint32Array]",qt={};qt[ev]=qt[TT]=qt[FT]=qt[HT]=qt[wT]=qt[AT]=qt[GT]=qt[UT]=qt[$T]=qt[kT]=qt[XT]=qt[jT]=qt[CT]=qt[rv]=qt[RT]=qt[IT]=qt[BT]=qt[LT]=qt[YT]=qt[WT]=qt[KT]=qt[VT]=!0,qt[NT]=qt[tv]=qt[zT]=!1;function yu(o,e,t,r,n,i){var a,l=e&xT,d=e&PT,p=e&MT;if(t&&(a=n?t(o,r,n,i):t(o)),a!==void 0)return a;if(!Tr(o))return o;var O=Ir(o);if(O){if(a=RM(o),!l)return Yp(o,a)}else{var N=ta(o),B=N==tv||N==DT;if(Object(ea.a)(o))return Object(Xp.a)(o,l);if(N==rv||N==ev||B&&!n){if(a=d||B?{}:Qp(o),!l)return d?wM(o,bM(a,o)):SM(o,fM(a,o))}else{if(!qt[N])return n?o:{};a=sT(o,N,l)}}i||(i=new dt);var $=i.get(o);if($)return $;i.set(o,a),ST(o)?o.forEach(function(pe){a.add(yu(pe,e,t,pe,o,i))}):gT(o)&&o.forEach(function(pe,he){a.set(he,yu(pe,e,t,he,o,i))});var J=p?d?NM:Us:d?oa:ti,fe=O?void 0:J(o);return lM(fe||o,function(pe,he){fe&&(he=pe,pe=o[he]),vu(a,he,yu(pe,e,t,he,o,i))}),a}var ZT=yu,JT=1,QT=4;function qT(o){return ZT(o,JT|QT)}var ur=qT;function _T(o,e,t){(t!==void 0&&!xn(o[e],t)||t===void 0&&!(e in o))&&Qs(o,e,t)}var rf=_T;function ew(o){return hn(o)&&go(o)}var tw=ew,rw="[object Object]",nw=Function.prototype,ow=Object.prototype,nv=nw.toString,iw=ow.hasOwnProperty,aw=nv.call(Object);function uw(o){if(!hn(o)||cn(o)!=rw)return!1;var e=ef(o);if(e===null)return!0;var t=iw.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&nv.call(t)==aw}var lw=uw;function sw(o,e){if(!(e==="constructor"&&typeof o[e]=="function")&&e!="__proto__")return o[e]}var nf=sw;function fw(o){return ri(o,oa(o))}var cw=fw;function dw(o,e,t,r,n,i,a){var l=nf(o,t),d=nf(e,t),p=a.get(d);if(p){rf(o,t,p);return}var O=i?i(l,d,t+"",o,e,a):void 0,N=O===void 0;if(N){var B=Ir(d),$=!B&&Object(ea.a)(d),J=!B&&!$&&Gs(d);O=d,B||$||J?Ir(l)?O=l:tw(l)?O=Yp(l):$?(N=!1,O=Object(Xp.a)(d,!0)):J?(N=!1,O=Zp(d,!0)):O=[]:lw(d)||_i(d)?(O=l,_i(l)?O=cw(l):(!Tr(l)||Vo(l))&&(O=Qp(d))):N=!1}N&&(a.set(d,O),n(O,d,r,i,a),a.delete(d)),rf(o,t,O)}var pw=dw;function ov(o,e,t,r,n){o!==e&&ap(e,function(i,a){if(n||(n=new dt),Tr(i))pw(o,e,a,t,ov,r,n);else{var l=r?r(nf(o,a),i,a+"",o,e,n):void 0;l===void 0&&(l=i),rf(o,a,l)}},oa)}var vw=ov,hw=fp(function(o,e,t){vw(o,e,t)}),iv=hw,yw={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},av=function(e){var t=ur(yw);return e&&(t=iv(t,e)),t},rR=u(78),nR=u(158);function gw(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function uv(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function mw(o,e,t){return e&&uv(o.prototype,e),t&&uv(o,t),o}function bw(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var Ow="*",Ew=function(){function o(){gw(this,o),bw(this,"_events",{})}return mw(o,[{key:"on",value:function(t,r,n){var i=this;return t==null||t.split(",").forEach(function(a){a=a.trim(),i._events[a]||(i._events[a]=[]),i._events[a].push({callback:r,once:!!n})}),this}},{key:"once",value:function(t,r){var n=this;t==null||t.split(",").forEach(function(i){return i=i.trim(),n.on(i,r,!0)})}},{key:"emit",value:function(t,r){var n=this;t==null||t.split(",").forEach(function(i){var a=n._events[i]||[],l=n._events[Ow]||[],d=function(O){for(var N=O.length,B=0;B<N;B++)if(!!O[B]){var $=O[B],J=$.callback,fe=$.once;fe&&(O.splice(B,1),O.length===0&&delete n._events[i],N--,B--),J.apply(n,[r])}};d(a),d(l)})}},{key:"off",value:function(t,r){var n=this;return t||(this._events={}),t.split(",").forEach(function(i){if(!r)delete n._events[i];else{for(var a=n._events[i]||[],l=a.length,d=0;d<l;d++)a[d].callback===r&&(a.splice(d,1),l--,d--);a.length===0&&delete n._events[i]}}),this}},{key:"getEvents",value:function(){return this._events}}]),o}();function Oo(o,e){return e*Math.round(o/e)||o}function lv(o,e){return o%e}function of(o,e){return Mw(o)||Pw(o,e)||xw(o,e)||Sw()}function Sw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xw(o,e){if(!!o){if(typeof o=="string")return sv(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sv(o,e)}}function sv(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function Pw(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function Mw(o){if(Array.isArray(o))return o}var oR=function(e,t){for(var r,n=0;n<t.length;n++)t[n].id===e&&(r=t[n]);return r},af=function(e,t,r){var n=of(e,2),i=n[0],a=n[1],l=of(t,2),d=l[0],p=l[1],O=of(r,2),N=O[0],B=O[1];return i>d&&i<N&&a>p&&a<B},fv=function(e,t){var r=t.multipleSelectKey,n=!1;switch(r){case"meta":n=e.metaKey;break;case"alt":n=e.altKey;break;case"shift":n=e.shiftKey;break;default:n=!1;break}return n},iR=u(79),aR=u(161),uR=u(125),lR=u(80),sR=u(30),fR=u(12),cR=u(13),dR=u(14),pR=u(47),gu,Tw=new Uint8Array(16);function ww(){if(!gu&&(gu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!gu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gu(Tw)}var Aw=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Nw(o){return typeof o=="string"&&Aw.test(o)}for(var Dw=Nw,Mr=[],uf=0;uf<256;++uf)Mr.push((uf+256).toString(16).substr(1));function jw(o){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Mr[o[e+0]]+Mr[o[e+1]]+Mr[o[e+2]]+Mr[o[e+3]]+"-"+Mr[o[e+4]]+Mr[o[e+5]]+"-"+Mr[o[e+6]]+Mr[o[e+7]]+"-"+Mr[o[e+8]]+Mr[o[e+9]]+"-"+Mr[o[e+10]]+Mr[o[e+11]]+Mr[o[e+12]]+Mr[o[e+13]]+Mr[o[e+14]]+Mr[o[e+15]]).toLowerCase();if(!Dw(t))throw TypeError("Stringified UUID is invalid");return t}var Cw=jw;function Rw(o,e,t){o=o||{};var r=o.random||(o.rng||ww)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var n=0;n<16;++n)e[t+n]=r[n];return e}return Cw(r)}var lf=Rw,Eo=function(){var e=lf();return e},Iw=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=e.nodes.reduce(function(n,i){return n[i.id]=t+lf(),i.id=n[i.id],n},{});return e.edges.forEach(function(n){n.id=t+lf(),n.sourceNodeId=r[n.sourceNodeId],n.targetNodeId=r[n.targetNodeId]}),e},vR=u(104),hR=u(203),Bw=function(e,t,r,n){var i=(t.y-e.y)*(n.x-r.x)-(e.x-t.x)*(r.y-n.y);if(i===0)return!1;var a=((t.x-e.x)*(n.x-r.x)*(r.y-e.y)+(t.y-e.y)*(n.x-r.x)*e.x-(n.y-r.y)*(t.x-e.x)*r.x)/i,l=-((t.y-e.y)*(n.y-r.y)*(r.x-e.x)+(t.x-e.x)*(n.y-r.y)*e.y-(n.x-r.x)*(t.y-e.y)*r.y)/i;return(a-e.x)*(a-t.x)<=0&&(l-e.y)*(l-t.y)<=0&&(a-r.x)*(a-n.x)<=0&&(l-r.y)*(l-n.y)<=0?{x:a,y:l}:!1},ia=function(e,t,r){var n=e.x,i=e.y;return(n-t.x)*(n-r.x)<=0&&(i-t.y)*(i-r.y)<=0};function mu(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mu=function(t){return typeof t}:mu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(o)}function cv(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function dv(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cv(Object(t),!0).forEach(function(r){Lw(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):cv(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function Lw(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var sf=function(e){var t=e.anchors;return t},bu=function(e,t){for(var r=t.nodes,n,i=r.length-1;i>=0;i--){var a=r[i],l=Hw(e,a);if(l){var d=Fw(e,a);if(d){var p={node:a,anchorIndex:d.index,anchor:d.anchor};(!n||zw(a,n.node,t))&&(n=p)}}}return n},zw=function(e,t,r){return e.zIndex>t.zIndex||r.nodesMap[e.id].index>r.nodesMap[t.id].index},Fw=function(e,t){for(var r=sf(t),n,i=Number.MAX_SAFE_INTEGER,a=0;a<r.length;a++){var l=yn(e.x,e.y,r[a].x,r[a].y);l<i&&(i=l,n={index:a,anchor:dv(dv({},r[a]),{},{x:r[a].x,y:r[a].y,id:r[a].id})})}return n},yn=function(e,t,r,n){return Math.hypot(e-r,t-n)},Qn=function(e,t){var r=!1,n=0,i=Kr(t);return e.x>=i.minX-n&&e.x<=i.maxX+n&&e.y>=i.minY-n&&e.y<=i.maxY+n&&(r=!0),r},Hw=function(e,t){var r=!1,n=5,i=Kr(t);return e.x>=i.minX-n&&e.x<=i.maxX+n&&e.y>=i.minY-n&&e.y<=i.maxY+n&&(r=!0),r},Kr=function(e){var t=e.x,r=e.y,n=e.width,i=e.height,a={minX:t-n/2,minY:r-i/2,maxX:t+n/2,maxY:r+i/2,x:t,y:r,width:n,height:i,centerX:t,centerY:r};return a},Gw=function(e){var t=e,r=t.x,n=t.y,i=t.width,a=t.height,l=t.radius,d=[{x:r-i/2+l,y:n-a/2+l,r:l},{x:r+i/2-l,y:n-a/2+l,r:l},{x:r-i/2+l,y:n+a/2-l,r:l},{x:r+i/2-l,y:n+a/2-l,r:l}];return d},pv=function(e,t,r){var n=Gw(r),i,a=Number.MAX_SAFE_INTEGER;n.forEach(function(d){var p=yn(e.x,e.y,d.x,d.y);p<a&&(a=p,i=d)});var l=ff(e,t,i);return l},ff=function(e,t,r){var n,i=r,a=i.x,l=i.y,d=i.r;if(t===Jt.HORIZONTAL){var p=a-Math.sqrt(d*d-(e.y-l)*(e.y-l)),O=a+Math.sqrt(d*d-(e.y-l)*(e.y-l)),N=Math.abs(p-e.x)<Math.abs(O-e.x)?p:O;n={x:N,y:e.y}}else if(t===Jt.VERTICAL){var B=l-Math.sqrt(d*d-(e.x-a)*(e.x-a)),$=l+Math.sqrt(d*d-(e.x-a)*(e.x-a)),J=Math.abs(B-e.y)<Math.abs($-e.y)?B:$;n={x:e.x,y:J}}return n},yR=function(e,t){var r=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return r/t.width>n/t.height?Jt.VERTICAL:Jt.HORIZONTAL},vv=function(e,t){var r=t,n=!1,i={minX:r.x-r.width/2+r.radius,maxX:r.x+r.width/2-r.radius,minY:r.y-r.height/2+r.radius,maxY:r.y+r.height/2-r.radius},a=r.x,l=r.y,d=r.width,p=r.height;return e.y===l+p/2||e.y===l-p/2?n=e.x>i.minX&&e.x<i.maxX:(e.x===a+d/2||e.x===a-d/2)&&(n=e.y>i.minY&&e.y<i.maxY),n},hv=function(e,t,r){var n,i=r,a=i.x,l=i.y,d=i.rx,p=i.ry;if(t===Jt.HORIZONTAL){var O=a-Math.sqrt(d*d-(e.y-l)*(e.y-l)*d*d/(p*p)),N=a+Math.sqrt(d*d-(e.y-l)*(e.y-l)*d*d/(p*p)),B=Math.abs(O-e.x)<Math.abs(N-e.x)?O:N;n={x:B,y:e.y}}else if(t===Jt.VERTICAL){var $=l-Math.sqrt(p*p-(e.x-a)*(e.x-a)*p*p/(d*d)),J=l+Math.sqrt(p*p-(e.x-a)*(e.x-a)*p*p/(d*d)),fe=Math.abs($-e.y)<Math.abs(J-e.y)?$:J;n={x:e.x,y:fe}}return n},Ou=function(e,t,r){for(var n=r,i=n.pointsPosition,a=Number.MAX_SAFE_INTEGER,l,d=[],p=0;p<i.length;p++)d.push({start:i[p],end:i[(p+1)%i.length]});return d.forEach(function(O){var N=O.start,B=O.end,$=N,J=B;N.x>B.x&&($=B,J=N);var fe={x:e.x,y:e.y};if($.x===J.x&&t===Jt.HORIZONTAL&&(fe={x:$.x,y:e.y}),$.y===J.y&&t===Jt.VERTICAL&&(fe={x:e.x,y:$.y}),$.x!==J.x&&$.y!==J.y){var pe=(J.y-$.y)/(J.x-$.x),he=($.x*J.y-J.x*$.y)/($.x-J.x);t===Jt.HORIZONTAL?fe={x:(e.y-he)/pe,y:e.y}:t===Jt.VERTICAL&&(fe={x:e.x,y:pe*e.x+he})}var Ne=ia(fe,N,B);if(Ne){var Fe=yn(fe.x,fe.y,e.x,e.y);Fe<a&&(a=Fe,l=fe)}}),l},Uw=function(e){var t=na(e,["id","type","x","y","text","properties"]);return t},yv=function(e,t,r,n){var i=e.x,a=e.y;return t.x>e.x?i=e.x+r/2:t.x<e.x&&(i=e.x-r/2),t.y>e.y?a=e.y+n/2:t.y<e.y&&(a=e.y-n/2),{x:i,y:a}},gv=function(e){var t=e.rows,r=e.style,n=e.rowsLength,i=e.className,a=document.createElement("div");a.style.fontSize=r.fontSize,a.style.width=r.width,a.className=i,a.style.lineHeight=r.lineHeight,a.style.padding=r.padding,r.fontFamily&&(a.style.fontFamily=r.fontFamily),n>1?t.forEach(function(d){var p=document.createElement("div");p.textContent=d,a.appendChild(p)}):a.textContent=t,document.body.appendChild(a);var l=a.clientHeight;return document.body.removeChild(a),l},cf=function(e){var t=e.rows,r=e.rowsLength,n=e.fontSize,i=0;return t&&t.forEach(function(a){var l=uh(a);i=l>i?l:i}),{width:Math.ceil(i/2)*n+n/4,height:r*(n+2)+n/4}},Eu=function(e){return mu(e)!=="object"?{isAllPass:!!e,msg:e?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:e},mv={node:!1,edge:!1},$w={node:!0,edge:!0},kw={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},Nr=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}},Xw=1e3,Yw=999,df=function(){return++Xw},Ww=function(){return--Yw},Ie,bv,Ov,Ev,Sv,xv,Pv,Mv,Tv,wv,Av,Nv,Dv,jv,Cv,Rv,Iv,Bv,Lv,zv;function Fv(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function an(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fv(Object(t),!0).forEach(function(r){Vr(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):Fv(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function Er(o,e,t,r){!t||Object.defineProperty(o,e,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function Kw(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function Hv(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function Vw(o,e,t){return e&&Hv(o.prototype,e),t&&Hv(o,t),o}function Vr(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function Et(o,e,t,r,n){var i={};return Object.keys(r).forEach(function(a){i[a]=r[a]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(a,l){return l(o,e,a)||a},i),n&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(o,e,i),i=null),i}function gR(o,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var pf=(Ie=function(){function o(e,t){Kw(this,o),Vr(this,"id",Eo()),Er(this,"type",bv,this),Er(this,"sourceNodeId",Ov,this),Er(this,"targetNodeId",Ev,this),Er(this,"startPoint",Sv,this),Er(this,"endPoint",xv,this),Er(this,"text",Pv,this),Er(this,"properties",Mv,this),Er(this,"points",Tv,this),Er(this,"pointsList",wv,this),Er(this,"isSelected",Av,this),Er(this,"isHovered",Nv,this),Er(this,"isHitable",Dv,this),Er(this,"draggable",jv,this),Er(this,"visible",Cv,this),Vr(this,"virtual",!1),Er(this,"isAnimation",Rv,this),Vr(this,"graphModel",void 0),Er(this,"zIndex",Iv,this),Vr(this,"BaseType",Or.EDGE),Vr(this,"modelType",zt.EDGE),Er(this,"state",Bv,this),Vr(this,"additionStateData",void 0),Vr(this,"sourceAnchorId",""),Vr(this,"targetAnchorId",""),Vr(this,"menu",void 0),Vr(this,"customTextPosition",!1),Vr(this,"animationData",kw),Er(this,"style",Lv,this),Er(this,"arrowConfig",zv,this),this.graphModel=t,this.initEdgeData(e),this.setAttributes()}return Vw(o,[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var r=this.graphModel.idGenerator,n=r&&r(t.type);n&&(t.id=n);var i=this.createId();i&&(t.id=i)}Br(this,z0(t));var a=this.graphModel.overlapMode;a===Wr.INCREASE&&(this.zIndex=t.zIndex||df()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return an(an({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return ur(t)}},{key:"getAnimation",value:function(){var t=this.animationData;return ur(t)}},{key:"getEdgeAnimationStyle",value:function(){var t=this.graphModel.theme.edgeAnimation;return ur(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel,r=t.theme.outline;return ur(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,r;return(t=this.graphModel)===null||t===void 0||(r=t.nodesMap[this.sourceNodeId])===null||r===void 0?void 0:r.model}},{key:"targetNode",get:function(){var t,r;return(t=this.graphModel)===null||t===void 0||(r=t.nodesMap[this.targetNodeId])===null||r===void 0?void 0:r.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,r){var n,i,a=sf(t);return a.forEach(function(l){var d=fh(l,r);i?d<i&&(i=d,n=l):(i=d,n=l)}),n}},{key:"getEndAnchor",value:function(t){var r=this,n,i,a=sf(t);return a.forEach(function(l){var d=fh(l,r.startPoint);i?d<i&&(i=d,n=l):(i=d,n=l)}),n}},{key:"getProperties",value:function(){return Object(c.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,r=t.x,n=t.y,i=t.value,a={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(c.I)(this.properties)};return i&&(a.text={x:r,y:n,value:i}),this.graphModel.overlapMode===Wr.INCREASE&&(a.zIndex=this.zIndex),a}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,r){this.properties[t]=Nr(r),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=an(an({},this.properties),Nr(t)),this.setAttributes()}},{key:"setStyle",value:function(t,r){this.style=an(an({},this.style),{},Vr({},t,Nr(r)))}},{key:"setStyles",value:function(t){this.style=an(an({},this.style),Nr(t))}},{key:"updateStyles",value:function(t){this.style=an({},Nr(t))}},{key:"formatText",value:function(t){var r=this.textPosition,n=r.x,i=r.y;if(!t.text||typeof t.text=="string"){this.text={value:t.text||"",x:n,y:i,draggable:this.text.draggable,editable:this.text.editable};return}Object.prototype.toString.call(t.text)==="[object Object]"&&(this.text={x:t.text.x||n,y:t.text.y||i,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable})}},{key:"resetTextPosition",value:function(){var t=this.textPosition,r=t.x,n=t.y;this.text.x=r,this.text.y=n}},{key:"moveText",value:function(t,r){if(this.text){var n=this.text,i=n.x,a=n.y,l=n.value,d=n.draggable,p=n.editable;this.text={value:l,draggable:d,x:i+t,y:a+r,editable:p}}}},{key:"setText",value:function(t){t&&Br(this.text,t)}},{key:"updateText",value:function(t){this.text=an(an({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var r=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:r.x,y:r.y}),this.targetAnchorId||(this.targetAnchorId=r.id)}}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,r){this.state=t,this.additionStateData=r}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,r){this.startPoint.x+=t,this.startPoint.y+=r}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,r){this.endPoint.x+=t,this.endPoint.y+=r}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){Br(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var r=t.startPoint,n=t.endPoint;this.updateStartPoint({x:r.x,y:r.y}),this.updateEndPoint({x:n.x,y:n.y})}}]),o}(),bv=Et(Ie.prototype,"type",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ov=Et(Ie.prototype,"sourceNodeId",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ev=Et(Ie.prototype,"targetNodeId",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Sv=Et(Ie.prototype,"startPoint",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xv=Et(Ie.prototype,"endPoint",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pv=Et(Ie.prototype,"text",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Mv=Et(Ie.prototype,"properties",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Tv=Et(Ie.prototype,"points",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),wv=Et(Ie.prototype,"pointsList",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Av=Et(Ie.prototype,"isSelected",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nv=Et(Ie.prototype,"isHovered",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Dv=Et(Ie.prototype,"isHitable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jv=Et(Ie.prototype,"draggable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Cv=Et(Ie.prototype,"visible",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Rv=Et(Ie.prototype,"isAnimation",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Iv=Et(Ie.prototype,"zIndex",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bv=Et(Ie.prototype,"state",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Lv=Et(Ie.prototype,"style",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),zv=Et(Ie.prototype,"arrowConfig",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),Et(Ie.prototype,"sourceNode",[c.m],Object.getOwnPropertyDescriptor(Ie.prototype,"sourceNode"),Ie.prototype),Et(Ie.prototype,"targetNode",[c.m],Object.getOwnPropertyDescriptor(Ie.prototype,"targetNode"),Ie.prototype),Et(Ie.prototype,"textPosition",[c.m],Object.getOwnPropertyDescriptor(Ie.prototype,"textPosition"),Ie.prototype),Et(Ie.prototype,"setProperty",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setProperty"),Ie.prototype),Et(Ie.prototype,"setProperties",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setProperties"),Ie.prototype),Et(Ie.prototype,"setStyle",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setStyle"),Ie.prototype),Et(Ie.prototype,"setStyles",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setStyles"),Ie.prototype),Et(Ie.prototype,"updateStyles",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateStyles"),Ie.prototype),Et(Ie.prototype,"formatText",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"formatText"),Ie.prototype),Et(Ie.prototype,"resetTextPosition",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"resetTextPosition"),Ie.prototype),Et(Ie.prototype,"moveText",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"moveText"),Ie.prototype),Et(Ie.prototype,"setText",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setText"),Ie.prototype),Et(Ie.prototype,"updateText",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateText"),Ie.prototype),Et(Ie.prototype,"setAnchors",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setAnchors"),Ie.prototype),Et(Ie.prototype,"setSelected",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setSelected"),Ie.prototype),Et(Ie.prototype,"setHovered",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setHovered"),Ie.prototype),Et(Ie.prototype,"setHitable",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setHitable"),Ie.prototype),Et(Ie.prototype,"openEdgeAnimation",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"openEdgeAnimation"),Ie.prototype),Et(Ie.prototype,"closeEdgeAnimation",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"closeEdgeAnimation"),Ie.prototype),Et(Ie.prototype,"setElementState",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setElementState"),Ie.prototype),Et(Ie.prototype,"updateStartPoint",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateStartPoint"),Ie.prototype),Et(Ie.prototype,"moveStartPoint",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"moveStartPoint"),Ie.prototype),Et(Ie.prototype,"updateEndPoint",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateEndPoint"),Ie.prototype),Et(Ie.prototype,"moveEndPoint",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"moveEndPoint"),Ie.prototype),Et(Ie.prototype,"setZIndex",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setZIndex"),Ie.prototype),Et(Ie.prototype,"initPoints",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"initPoints"),Ie.prototype),Et(Ie.prototype,"updateAttributes",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateAttributes"),Ie.prototype),Et(Ie.prototype,"getAdjustStart",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"getAdjustStart"),Ie.prototype),Et(Ie.prototype,"getAdjustEnd",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"getAdjustEnd"),Ie.prototype),Et(Ie.prototype,"updateAfterAdjustStartAndEnd",[c.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateAfterAdjustStartAndEnd"),Ie.prototype),Ie),vf=pf;function Su(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Su=function(t){return typeof t}:Su=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(o)}function Gv(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function Uv(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gv(Object(t),!0).forEach(function(r){Xv(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):Gv(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function Zw(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function $v(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function Jw(o,e,t){return e&&$v(o.prototype,e),t&&$v(o,t),o}function xu(){return typeof Reflect!="undefined"&&Reflect.get?xu=Reflect.get:xu=function(e,t,r){var n=Qw(e,t);if(!!n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},xu.apply(this,arguments)}function Qw(o,e){for(;!Object.prototype.hasOwnProperty.call(o,e)&&(o=ni(o),o!==null););return o}function qw(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&hf(o,e)}function hf(o,e){return hf=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},hf(o,e)}function _w(o){var e=t0();return function(){var r=ni(o),n;if(e){var i=ni(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return e0(this,n)}}function e0(o,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kv(o)}function kv(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function t0(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function ni(o){return ni=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ni(o)}function Xv(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var aa=function(o){qw(t,o);var e=_w(t);function t(){var r;Zw(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),Xv(kv(r),"modelType",zt.LINE_EDGE),r}return Jw(t,[{key:"getEdgeStyle",value:function(){var n=this.graphModel.theme.line,i=xu(ni(t.prototype),"getEdgeStyle",this).call(this);return Uv(Uv({},i),ur(n))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),t}(vf);function Pu(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pu=function(t){return typeof t}:Pu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(o)}var Tt,Yv;function r0(o,e){return a0(o)||i0(o,e)||o0(o,e)||n0()}function n0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o0(o,e){if(!!o){if(typeof o=="string")return Wv(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Wv(o,e)}}function Wv(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function i0(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function a0(o){if(Array.isArray(o))return o}function Kv(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function Vv(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kv(Object(t),!0).forEach(function(r){gf(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):Kv(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function u0(o,e,t,r){!t||Object.defineProperty(o,e,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function l0(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function Zv(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function s0(o,e,t){return e&&Zv(o.prototype,e),t&&Zv(o,t),o}function oi(){return typeof Reflect!="undefined"&&Reflect.get?oi=Reflect.get:oi=function(e,t,r){var n=f0(e,t);if(!!n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},oi.apply(this,arguments)}function f0(o,e){for(;!Object.prototype.hasOwnProperty.call(o,e)&&(o=qn(o),o!==null););return o}function c0(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&yf(o,e)}function yf(o,e){return yf=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},yf(o,e)}function d0(o){var e=v0();return function(){var r=qn(o),n;if(e){var i=qn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p0(this,n)}}function p0(o,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ua(o)}function ua(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function v0(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function qn(o){return qn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qn(o)}function gf(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function Lr(o,e,t,r,n){var i={};return Object.keys(r).forEach(function(a){i[a]=r[a]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(a,l){return l(o,e,a)||a},i),n&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(o,e,i),i=null),i}function mR(o,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var Mu=(Tt=function(o){c0(t,o);var e=d0(t);function t(){var r;l0(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),gf(ua(r),"modelType",zt.POLYLINE_EDGE),gf(ua(r),"draginngPointList",void 0),u0(ua(r),"dbClickPosition",Yv,ua(r)),r}return s0(t,[{key:"initEdgeData",value:function(n){this.offset=30,oi(qn(t.prototype),"initEdgeData",this).call(this,n)}},{key:"getEdgeStyle",value:function(){var n=this.graphModel.theme.polyline,i=oi(qn(t.prototype),"getEdgeStyle",this).call(this);return Vv(Vv({},i),ur(n))}},{key:"getTextPosition",value:function(){var n,i=(n=this.text)===null||n===void 0?void 0:n.value;if(this.dbClickPosition&&!i){var a=this.dbClickPosition,l=a.x,d=a.y;return{x:l,y:d}}var p=ii(this.points),O=R0(p),N=r0(O,2),B=N[0],$=N[1];return{x:(B.x+$.x)/2,y:(B.y+$.y)/2}}},{key:"getAfterAnchor",value:function(n,i,a){var l,d;return a.forEach(function(p){var O;n===Jt.HORIZONTAL?O=Math.abs(i.y-p.y):n===Jt.VERTICAL&&(O=Math.abs(i.x-p.x)),(!d||d>O)&&(d=O,l=p)}),l}},{key:"getCorssPoint",value:function(n,i,a){var l;return n===Jt.HORIZONTAL?l={x:a.x,y:i.y}:n===Jt.VERTICAL&&(l={x:i.x,y:a.y}),l}},{key:"removeCrossPoints",value:function(n,i,a){var l=a.map(function(rt){return rt});if(n===1){var d=l[n],p=l[i],O=l[n-1],N=nh(O,d,this.sourceNode);if(N){var B=oh(d,p,this.sourceNode);if(B){var $=ih(d,p,this.sourceNode);$&&(l[n]=$,l.splice(n-1,1),n--,i--)}}else{var J=this.sourceNode.anchors;J.forEach(function(rt){if(rt.x===O.x&&rt.x===d.x||rt.y===O.y&&rt.y===d.y){var lt=yn(rt.x,rt.y,d.x,d.y),Pt=yn(O.x,O.y,d.x,d.y);lt<Pt&&(l[n-1]=rt)}})}}if(i===a.length-2){var fe=l[n],pe=l[i],he=l[i+1],Ne=nh(pe,he,this.targetNode);if(Ne){var Fe=oh(fe,pe,this.targetNode);if(Fe){var Le=ih(fe,pe,this.targetNode);Le&&(l[i]=Le,l.splice(i+1,1))}}else{var ke=this.targetNode.anchors;ke.forEach(function(rt){if(rt.x===he.x&&rt.x===pe.x||rt.y===he.y&&rt.y===pe.y){var lt=yn(rt.x,rt.y,pe.x,pe.y),Pt=yn(he.x,he.y,pe.x,pe.y);lt<Pt&&(l[i+1]=rt)}})}}return l}},{key:"getDragingPoints",value:function(n,i,a,l,d){var p=d.map(function(B){return B}),O=this.getAfterAnchor(n,a,l),N=this.getCorssPoint(n,a,O);return i==="start"?(p.unshift(N),p.unshift(O)):(p.push(N),p.push(O)),p}},{key:"updateCrossPoints",value:function(n){var i=n.map(function(Le){return Le}),a=n[0],l=n[1],d=n[i.length-2],p=n[i.length-1],O=this.sourceNode,N=this.targetNode,B=O.modelType,$=N.modelType,J=Ru(a,l),fe=i[0];switch(B){case zt.RECT_NODE:if(O.radius!==0){var pe=vv(a,O);pe||(fe=pv(a,J,O))}break;case zt.CIRCLE_NODE:fe=ff(a,J,O);break;case zt.ELLIPSE_NODE:fe=hv(a,J,O);break;case zt.DIAMOND_NODE:fe=Ou(a,J,O);break;case zt.POLYGON_NODE:fe=Ou(a,J,O);break;default:break}i[0]=fe;var he=Ru(d,p),Ne=i[i.length-1];switch($){case zt.RECT_NODE:if(N.radius!==0){var Fe=vv(p,N);Fe||(Ne=pv(p,he,N))}break;case zt.CIRCLE_NODE:Ne=ff(p,he,N);break;case zt.ELLIPSE_NODE:Ne=hv(p,he,N);break;case zt.DIAMOND_NODE:Ne=Ou(p,he,N);break;case zt.POLYGON_NODE:Ne=Ou(p,he,N);break;default:break}return i[i.length-1]=Ne,i}},{key:"getData",value:function(){var n=oi(qn(t.prototype),"getData",this).call(this),i=this.pointsList.map(function(a){var l=a.x,d=a.y;return{x:l,y:d}});return Object.assign({},n,{pointsList:i})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(n){return"".concat(n.x,",").concat(n.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var n=rh({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=n,this.points=n.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" ")}},{key:"updateStartPoint",value:function(n){this.startPoint=n,this.updatePoints()}},{key:"moveStartPoint",value:function(n,i){this.startPoint.x+=n,this.startPoint.y+=i,this.updatePoints()}},{key:"updateEndPoint",value:function(n){this.endPoint=n,this.updatePoints()}},{key:"moveEndPoint",value:function(n,i){this.endPoint.x+=n,this.endPoint.y+=i,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(n){return n})}},{key:"dragAppendSimple",value:function(n,i){this.isDragging=!0;var a=n.start,l=n.end,d=n.startIndex,p=n.endIndex,O=n.direction,N=this.pointsList,B=N;return O===Jt.HORIZONTAL?(N[d]={x:a.x,y:a.y+i.y},N[p]={x:l.x,y:l.y+i.y},B=this.pointsList.map(function($){return $})):O===Jt.VERTICAL&&(N[d]={x:a.x+i.x,y:a.y},N[p]={x:l.x+i.x,y:l.y},B=this.pointsList.map(function($){return $})),this.updatePointsAfterDrage(B),this.draginngPointList=B,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},N[d]),end:Object.assign({},N[p]),startIndex:d,endIndex:p,direction:O}}},{key:"dragAppend",value:function(n,i){this.isDragging=!0;var a=n.start,l=n.end,d=n.startIndex,p=n.endIndex,O=n.direction,N=this.pointsList;if(O===Jt.HORIZONTAL){N[d]={x:a.x,y:a.y+i.y},N[p]={x:l.x,y:l.y+i.y};var B=this.pointsList.map(function(St){return St});if(d!==0&&p!==this.pointsList.length-1&&(B=this.removeCrossPoints(d,p,B)),d===0){var $={x:a.x,y:a.y+i.y},J=Qn($,this.sourceNode);if(!J){var fe=this.sourceNode.anchors;B=this.getDragingPoints(O,"start",$,fe,B)}}if(p===this.pointsList.length-1){var pe={x:l.x,y:l.y+i.y},he=Qn(pe,this.targetNode);if(!he){var Ne=this.targetNode.anchors;B=this.getDragingPoints(O,"end",pe,Ne,B)}}B=Ef(B),this.updatePointsAfterDrage(B),this.draginngPointList=B}else if(O===Jt.VERTICAL){N[d]={x:a.x+i.x,y:a.y},N[p]={x:l.x+i.x,y:l.y};var Fe=this.pointsList.map(function(St){return St});if(d!==0&&p!==this.pointsList.length-1&&(Fe=this.removeCrossPoints(d,p,Fe)),d===0){var Le={x:a.x+i.x,y:a.y},ke=Qn(Le,this.sourceNode);if(!ke){var rt=this.sourceNode.anchors;Fe=this.getDragingPoints(O,"start",Le,rt,Fe)}}if(p===this.pointsList.length-1){var lt={x:l.x+i.x,y:l.y},Pt=Qn(lt,this.targetNode);if(!Pt){var Ot=this.targetNode.anchors;Fe=this.getDragingPoints(O,"end",lt,Ot,Fe)}}Fe=Ef(Fe),this.updatePointsAfterDrage(Fe),this.draginngPointList=Fe}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},N[d]),end:Object.assign({},N[p]),startIndex:d,endIndex:p,direction:O}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var n=ii(this.points);this.pointsList=n.map(function(l){return l}),this.draginngPointList=[];var i=n[0];this.startPoint=Object.assign({},i);var a=n[n.length-1];this.endPoint=Object.assign({},a)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(n){var i=this.updateCrossPoints(n);this.points=i.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var n=this.pointsList;return n[n.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(n){var i=n.startPoint,a=n.endPoint,l=n.sourceNode,d=n.targetNode,p=rh({x:i.x,y:i.y},{x:a.x,y:a.y},l,d,this.offset||0);this.pointsList=p,this.initPoints()}}]),t}(vf),Yv=Lr(Tt.prototype,"dbClickPosition",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lr(Tt.prototype,"initPoints",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"initPoints"),Tt.prototype),Lr(Tt.prototype,"updatePoints",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"updatePoints"),Tt.prototype),Lr(Tt.prototype,"updateStartPoint",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"updateStartPoint"),Tt.prototype),Lr(Tt.prototype,"moveStartPoint",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"moveStartPoint"),Tt.prototype),Lr(Tt.prototype,"updateEndPoint",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"updateEndPoint"),Tt.prototype),Lr(Tt.prototype,"moveEndPoint",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"moveEndPoint"),Tt.prototype),Lr(Tt.prototype,"dragAppendStart",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"dragAppendStart"),Tt.prototype),Lr(Tt.prototype,"dragAppendSimple",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"dragAppendSimple"),Tt.prototype),Lr(Tt.prototype,"dragAppend",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"dragAppend"),Tt.prototype),Lr(Tt.prototype,"dragAppendEnd",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"dragAppendEnd"),Tt.prototype),Lr(Tt.prototype,"updatePointsAfterDrage",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"updatePointsAfterDrage"),Tt.prototype),Lr(Tt.prototype,"getAdjustStart",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"getAdjustStart"),Tt.prototype),Lr(Tt.prototype,"getAdjustEnd",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"getAdjustEnd"),Tt.prototype),Lr(Tt.prototype,"updateAfterAdjustStartAndEnd",[c.k],Object.getOwnPropertyDescriptor(Tt.prototype,"updateAfterAdjustStartAndEnd"),Tt.prototype),Tt),la=function(e){var t=e.start,r=e.end,n=e.offset,i=e.verticalLength,a=e.type,l={leftX:0,leftY:0,rightX:0,rightY:0},d=Math.atan((r.y-t.y)/(r.x-t.x)),p=Math.atan(n/i),O=Math.sqrt(i*i+n*n);return a==="start"?r.x>=t.x?(l.leftX=t.x+O*Math.sin(d+p),l.leftY=t.y-O*Math.cos(d+p),l.rightX=t.x-O*Math.sin(d-p),l.rightY=t.y+O*Math.cos(d-p)):(l.leftX=t.x-O*Math.sin(d+p),l.leftY=t.y+O*Math.cos(d+p),l.rightX=t.x+O*Math.sin(d-p),l.rightY=t.y-O*Math.cos(d-p)):a==="end"&&(r.x>=t.x?(l.leftX=r.x+O*Math.sin(d-p),l.leftY=r.y-O*Math.cos(d-p),l.rightX=r.x-O*Math.sin(d+p),l.rightY=r.y+O*Math.cos(d+p)):(l.leftX=r.x-O*Math.sin(d-p),l.leftY=r.y+O*Math.cos(d-p),l.rightX=r.x+O*Math.sin(d+p),l.rightY=r.y-O*Math.cos(d+p))),l};function Jv(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function Tu(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Jv(Object(t),!0).forEach(function(r){h0(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):Jv(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function h0(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function y0(o){return b0(o)||m0(o)||Qv(o)||g0()}function g0(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m0(o){if(typeof Symbol!="undefined"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function b0(o){if(Array.isArray(o))return bf(o)}function wu(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wu=function(t){return typeof t}:wu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(o)}function mf(o,e){return S0(o)||E0(o,e)||Qv(o,e)||O0()}function O0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qv(o,e){if(!!o){if(typeof o=="string")return bf(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bf(o,e)}}function bf(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function E0(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function S0(o){if(Array.isArray(o))return o}var bR=function(e,t){var r;switch(e.type){case"line":r=new aa(e,t);break;case"polyline":r=new Mu(e,t);break;default:r=new aa(e,t);break}return r},x0=function(e,t){return Math.abs(e.centerX-t.centerX)*2<e.width+t.width&&Math.abs(e.centerY-t.centerY)*2<e.height+t.height},Au=function(e){var t=[],r={};return e.forEach(function(n){var i="".concat(n.x,"-").concat(n.y);n.id=i,r[i]=n}),Object.keys(r).forEach(function(n){t.push(r[n])}),t},OR=function(e,t){var r=[e,{x:e.x,y:t.y},t];return Au(r)},Nu=function(e,t){return e.width===0&&e.height===0?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},P0=function(e,t){var r=Math.abs(e.x-t.centerX),n=Math.abs(e.y-t.centerY);return r/t.width>n/t.height?Jt.HORIZONTAL:Jt.VERTICAL},Du=function(e,t){var r=P0(t,e);return r===Jt.HORIZONTAL?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},qv=function(e,t){var r=Math.min(e.minX,t.minX),n=Math.min(e.minY,t.minY),i=Math.max(e.maxX,t.maxX),a=Math.max(e.maxY,t.maxY);return{centerX:(r+i)/2,centerY:(n+a)/2,minX:r,minY:n,maxX:i,maxY:a,height:a-n,width:i-r}},sa=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=[],n=[];e.forEach(function(N){r.push(N.x),n.push(N.y)});var i=Math.min.apply(Math,r),a=Math.max.apply(Math,r),l=Math.min.apply(Math,n),d=Math.max.apply(Math,n),p=a-i,O=d-l;return t&&(p+=t,O+=t),{centerX:(i+a)/2,centerY:(l+d)/2,maxX:a,maxY:d,minX:i,minY:l,x:(i+a)/2,y:(l+d)/2,height:O,width:p}},ju=function(e){var t=e.minX,r=e.minY,n=e.maxX,i=e.maxY;return[{x:t,y:r},{x:n,y:r},{x:n,y:i},{x:t,y:i}]},Cu=function(e,t){var r=e.x,n=e.y;return r<t.minX||r>t.maxX||n<t.minY||n>t.maxY},M0=function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]},T0=function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]},w0=function(e,t){return M0(e,t.x).concat(T0(e,t.y))},Of=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},A0=function(e,t){var r=-2,n=0;return t.forEach(function(i){i&&(e.x===i.x&&(n+=r),e.y===i.y&&(n+=r))}),n},_v=function(e,t,r,n,i){return Of(e,t)+Of(e,r)+A0(e,[t,r,n,i])},N0=function o(e,t,r,n,i){i||(i=0),e.unshift(t[n]),r[n]&&r[n]!==n&&i<=100&&o(e,t,r,r[n],i+1)},D0=function(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)},fa=function(e,t,r,n){var i=t.x-e.x,a=t.y-e.y,l=n.x-r.x,d=n.y-r.y,p=(-a*(e.x-r.x)+i*(e.y-r.y))/(-l*a+i*d),O=(l*(e.y-r.y)-d*(e.x-r.x))/(-l*a+i*d);return p>=0&&p<=1&&O>=0&&O<=1},eh=function(e,t,r){if(r.width===0&&r.height===0)return!1;var n=ju(r),i=mf(n,4),a=i[0],l=i[1],d=i[2],p=i[3];return fa(e,t,a,l)||fa(e,t,a,p)||fa(e,t,l,d)||fa(e,t,d,p)},j0=function(e,t,r,n){var i=[];return e.forEach(function(a){a!==t&&(a.x===t.x||a.y===t.y)&&!eh(a,t,r)&&!eh(a,t,n)&&i.push(a)}),Au(i)},C0=function(e,t,r,n,i,a,l){var d=[],p=[t],O={},N={},B={};N[t.id]=0,B[t.id]=_v(t,r,t);var $={};e.forEach(function(pe){$[pe.id]=pe});for(var J=function(){var he=void 0,Ne=Infinity;if(p.forEach(function(Le){B[Le.id]<Ne&&(Ne=B[Le.id],he=Le)}),he===r){var Fe=[];return N0(Fe,$,O,r.id),{v:Fe}}D0(p,he),d.push(he),j0(e,he,n,i).forEach(function(Le){if(d.indexOf(Le)===-1){p.indexOf(Le)===-1&&p.push(Le);var ke=B[he.id]+Of(he,Le);N[Le.id]&&ke>=N[Le.id]||(O[Le.id]=he.id,N[Le.id]=ke,B[Le.id]=N[Le.id]+_v(Le,r,t,a,l))}})};p.length;){var fe=J();if(wu(fe)==="object")return fe.v}return[t,r]},th=function(e){var t=Kr(e);return t},Ef=function(e){for(var t=e,r=1;r<t.length-1;){var n=t[r-1],i=t[r],a=t[r+1];n.x===i.x&&i.x===a.x||n.y===i.y&&i.y===a.y?t.splice(r,1):r++}return t},rh=function(e,t,r,n,i){var a=th(r),l=th(n),d=Nu(a,i),p=Nu(l,i),O=Du(d,e),N=Du(p,t);if(x0(d,p)){var B=I0(e,t,O,N);return[e,O].concat(y0(B),[N,t])}var $=sa([O,N]),J=qv(d,$),fe=qv(p,$),pe=[];pe=pe.concat(ju(J)),pe=pe.concat(ju(fe));var he={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[$,J,fe].forEach(function(Fe){pe=pe.concat(w0(Fe,he).filter(function(Le){return Cu(Le,d)&&Cu(Le,p)}))}),[{x:O.x,y:N.y},{x:N.x,y:O.y}].forEach(function(Fe){Cu(Fe,d)&&Cu(Fe,p)&&pe.push(Fe)}),pe.unshift(O),pe.push(N),pe=Au(pe);var Ne=C0(pe,O,N,a,l,e,t);return Ne.unshift(e),Ne.push(t),Ne.length>2&&(Ne=Ef(Ne)),Au(Ne)},R0=function(e){var t;if(e.length===1)t=[e[0],e[0]];else if(e.length>=2){for(var r=e[0],n=e[1],i=yn(r.x,r.y,n.x,n.y),a=1;a<e.length-1;a++){var l=e[a],d=e[a+1],p=yn(l.x,l.y,d.x,d.y);p>i&&(i=p,r=l,n=d)}t=[r,n]}return t},nh=function(e,t,r){var n=Qn(e,r),i=Qn(t,r);return n&&i},oh=function(e,t,r){var n=Qn(e,r),i=Qn(t,r),a=n&&i,l=n||i;return!a&&l},ih=function(e,t,r){for(var n,i,a=Kr(r),l=ju(a),d=0;d<l.length;d++){var p=fa(e,t,l[d],l[(d+1)%l.length]);p&&(i=[l[d],l[(d+1)%l.length]])}return i&&(n=Bw(e,t,i[0],i[1])),n},Ru=function(e,t){var r;return e.x===t.x?r=Jt.VERTICAL:e.y===t.y&&(r=Jt.HORIZONTAL),r},ii=function(e){var t=e.split(" "),r=[];return t&&t.forEach(function(n){var i=n.split(","),a=mf(i,2),l=a[0],d=a[1];r.push({x:Number(l),y:Number(d)})}),r},I0=function(e,t,r,n){var i=[],a=Ru(e,r),l=Ru(t,n);if(a===l)e.y===r.y?(i.push({x:r.x,y:(r.y+n.y)/2}),i.push({x:n.x,y:(r.y+n.y)/2})):(i.push({x:(r.x+n.x)/2,y:r.y}),i.push({x:(r.x+n.x)/2,y:n.y}));else{var d={x:r.x,y:n.y},p=ia(d,e,r),O=ia(d,t,n);if(p||O)d={x:n.x,y:r.y};else{var N=ah(d,e,r),B=ah(d,t,n);N&&B&&(d={x:n.x,y:r.y})}i.push(d)}return i},ah=function(e,t,r){return e.x===t.x&&e.x===r.x||e.y===t.y&&e.y===r.y},uh=function(e){if(!e)return 0;for(var t=0,r=0;r<e.length;r++){var n=e.charCodeAt(r);e.match(/[A-Z]/)?t+=1.5:n>=1&&n<=126||n>=65376&&n<=65439?t+=1:t+=2}return t},Sf=null,ER=function(e,t){Sf||(Sf=document.createElement("canvas"));var r=Sf.getContext("2d");r.font=t;var n=r.measureText(e);return n.width},B0=function(e){var t=e.start,r=e.end,n;if(t.x===r.x&&t.y===r.y)n="";else{var i={start:t,end:r,offset:10,verticalLength:5},a=la(Tu(Tu({},i),{},{type:"start"})),l=la(Tu(Tu({},i),{},{type:"end"}));n="M".concat(a.leftX," ").concat(a.leftY,` 
    L`).concat(a.rightX," ").concat(a.rightY,` 
    L`).concat(l.rightX," ").concat(l.rightY,`
    L`).concat(l.leftX," ").concat(l.leftY," z")}return{d:n,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},lh=function(e){var t=e.start,r=e.end,n=e.sourceNode,i=e.targetNode,a=e.offset,l=Kr(n),d=Kr(i),p=Nu(l,a),O=Nu(d,a),N=Du(p,t),B=Du(O,r);return{sNext:N,ePre:B}},Iu=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(","),r=Bu(t[0]),n=Bu(t[1]),i=Bu(t[2]),a=Bu(t[3]);return[r,n,i,a]},Bu=function(e){var t=e.replace(/(^\s*)/g,"").split(" "),r=mf(t,2),n=r[0],i=r[1];return{x:+n,y:+i}},L0=function(e){var t=Iu(e);return[t[2],t[3]]},sh=function(e,t){for(var r=e.x,n=e.y,i=ii(t),a=Number.MAX_SAFE_INTEGER,l,d=[],p=0;p<i.length;p++)d.push({start:i[p],end:i[(p+1)%i.length]});if(d.forEach(function($){var J=$.start,fe=$.end;if(J.x===fe.x){var pe={x:J.x,y:n},he=ia(pe,J,fe);if(he){var Ne=Math.abs(J.x-r);Ne<a&&(a=Ne,l=pe)}}else if(J.y===fe.y){var Fe={x:r,y:J.y},Le=ia(Fe,J,fe);if(Le){var ke=Math.abs(J.y-n);ke<a&&(a=ke,l=Fe)}}}),!l){var O=d[0],N=O.start,B=O.end;l={x:N.x+(B.x-N.x)/2,y:N.y+(B.y-N.y)/2}}return l},z0=function(e){return na(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},fh=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};function F0(o,e){return typeof e!="function"?function(t,r,n){return Object.assign({type:o.edgeType},n)}:function(t,r,n){var i=e(t,r,n);return i?typeof i=="string"?Object.assign({},n,{type:i}):Object.assign({type:i},n):{type:o.edgeType}}}var SR=u(204);function H0(){}var ai=H0;function G0(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function ch(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function U0(o,e,t){return e&&ch(o.prototype,e),t&&ch(o,t),o}function vr(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var gn=window.document,dh=0;function xf(o){var e=o.onDragStart,t=e===void 0?ai:e,r=o.onDraging,n=r===void 0?ai:r,i=o.onDragEnd,a=i===void 0?ai:i,l=o.step,d=l===void 0?1:l,p=o.isStopPropagation,O=p===void 0?!0:p,N=!1,B=!1,$=0,J=0,fe=0,pe=0;function he(Le){if(O&&Le.stopPropagation(),!!B&&(N=!0,fe+=Le.clientX-$,pe+=Le.clientY-J,$=Le.clientX,J=Le.clientY,Math.abs(fe)>d||Math.abs(pe)>d)){var ke=fe%d,rt=pe%d,lt=fe-ke,Pt=pe-rt;fe=ke,pe=rt,n({deltaX:lt,deltaY:Pt,event:Le})}}function Ne(Le){if(O&&Le.stopPropagation(),B=!1,gn.removeEventListener("mousemove",he,!1),gn.removeEventListener("mouseup",Ne,!1),!!N)return N=!1,a({event:Le})}function Fe(Le){if(Le.button===dh)return O&&Le.stopPropagation(),B=!0,$=Le.clientX,J=Le.clientY,gn.addEventListener("mousemove",he,!1),gn.addEventListener("mouseup",Ne,!1),t({event:Le})}return Fe}var So=function(){function o(e){var t=this,r=e.onDragStart,n=r===void 0?ai:r,i=e.onDraging,a=i===void 0?ai:i,l=e.onDragEnd,d=l===void 0?ai:l,p=e.eventType,O=p===void 0?"":p,N=e.eventCenter,B=N===void 0?null:N,$=e.step,J=$===void 0?1:$,fe=e.isStopPropagation,pe=fe===void 0?!0:fe,he=e.model,Ne=he===void 0?null:he;G0(this,o),vr(this,"onDragStart",void 0),vr(this,"onDraging",void 0),vr(this,"onDragEnd",void 0),vr(this,"step",void 0),vr(this,"isStopPropagation",void 0),vr(this,"isDraging",!1),vr(this,"isStartDraging",!1),vr(this,"startX",0),vr(this,"startY",0),vr(this,"sumDeltaX",0),vr(this,"sumDeltaY",0),vr(this,"eventType",void 0),vr(this,"eventCenter",void 0),vr(this,"model",void 0),vr(this,"startTime",void 0),vr(this,"isGrag",void 0),vr(this,"handleMouseDown",function(Fe){var Le,ke;if(Fe.button===dh){t.isStopPropagation&&Fe.stopPropagation(),t.isStartDraging=!0,t.startX=Fe.clientX,t.startY=Fe.clientY,gn.addEventListener("mousemove",t.handleMouseMove,!1),gn.addEventListener("mouseup",t.handleMouseUp,!1);var rt=(Le=t.model)===null||Le===void 0?void 0:Le.getData();(ke=t.eventCenter)===null||ke===void 0||ke.emit(Mt["".concat(t.eventType,"_MOUSEDOWN")],{e:Fe,data:rt}),t.startTime=new Date().getTime()}}),vr(this,"handleMouseMove",function(Fe){if(t.isStopPropagation&&Fe.stopPropagation(),!!t.isStartDraging&&(t.sumDeltaX+=Fe.clientX-t.startX,t.sumDeltaY+=Fe.clientY-t.startY,t.startX=Fe.clientX,t.startY=Fe.clientY,t.step<=1||Math.abs(t.sumDeltaX)>t.step||Math.abs(t.sumDeltaY)>t.step)){var Le,ke=t.sumDeltaX%t.step,rt=t.sumDeltaY%t.step,lt=t.sumDeltaX-ke,Pt=t.sumDeltaY-rt;t.sumDeltaX=ke,t.sumDeltaY=rt;var Ot=(Le=t.model)===null||Le===void 0?void 0:Le.getData();if(!t.isDraging){var St;(St=t.eventCenter)===null||St===void 0||St.emit(Mt["".concat(t.eventType,"_DRAGSTART")],{e:Fe,data:Ot}),t.onDragStart({event:Fe})}t.isDraging=!0,Promise.resolve().then(function(){var Vt,Cr;t.onDraging({deltaX:lt,deltaY:Pt,event:Fe}),(Vt=t.eventCenter)===null||Vt===void 0||Vt.emit(Mt["".concat(t.eventType,"_MOUSEMOVE")],{e:Fe,data:Ot}),(Cr=t.eventCenter)===null||Cr===void 0||Cr.emit(Mt["".concat(t.eventType,"_DRAG")],{e:Fe,data:Ot})})}}),vr(this,"handleMouseUp",function(Fe){t.isStartDraging=!1,t.isStopPropagation&&Fe.stopPropagation(),Promise.resolve().then(function(){var Le,ke,rt;gn.removeEventListener("mousemove",t.handleMouseMove,!1),gn.removeEventListener("mouseup",t.handleMouseUp,!1);var lt=(Le=t.model)===null||Le===void 0?void 0:Le.getData();(ke=t.eventCenter)===null||ke===void 0||ke.emit(Mt["".concat(t.eventType,"_MOUSEUP")],{e:Fe,data:lt}),!!t.isDraging&&(t.isDraging=!1,t.onDragEnd({event:Fe}),(rt=t.eventCenter)===null||rt===void 0||rt.emit(Mt["".concat(t.eventType,"_DROP")],{e:Fe,data:lt}))})}),vr(this,"cancelDrag",function(){gn.removeEventListener("mousemove",t.handleMouseMove,!1),gn.removeEventListener("mouseup",t.handleMouseUp,!1),t.isDraging=!1}),this.onDragStart=n,this.onDraging=a,this.onDragEnd=d,this.step=J,this.isStopPropagation=pe,this.eventType=O,this.eventCenter=B,this.model=Ne}return U0(o,[{key:"setStep",value:function(t){this.step=t}}]),o}(),$0=function(e){return!e||typeof e=="boolean"?ur(e===!0?$w:mv):iv(ur(mv),e)},xe,ph,vh,hh,yh,gh,mh,bh,Oh,Eh,Sh,xh,Ph;function Mh(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function Lu(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Mh(Object(t),!0).forEach(function(r){mn(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):Mh(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function Pf(o,e){return Y0(o)||X0(o,e)||Th(o,e)||k0()}function k0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X0(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function Y0(o){if(Array.isArray(o))return o}function ui(o){return V0(o)||K0(o)||Th(o)||W0()}function W0(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Th(o,e){if(!!o){if(typeof o=="string")return Mf(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Mf(o,e)}}function K0(o){if(typeof Symbol!="undefined"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function V0(o){if(Array.isArray(o))return Mf(o)}function Mf(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function ca(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ca=function(t){return typeof t}:ca=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ca(o)}function Qr(o,e,t,r){!t||Object.defineProperty(o,e,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function Z0(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function wh(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function J0(o,e,t){return e&&wh(o.prototype,e),t&&wh(o,t),o}function mn(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function gt(o,e,t,r,n){var i={};return Object.keys(r).forEach(function(a){i[a]=r[a]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(a,l){return l(o,e,a)||a},i),n&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(o,e,i),i=null),i}function xR(o,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var zu=200,Ah=(xe=function(){function o(e){Z0(this,o),mn(this,"rootEl",void 0),Qr(this,"width",ph,this),Qr(this,"height",vh,this),mn(this,"theme",void 0),mn(this,"eventCenter",void 0),mn(this,"modelMap",new Map),mn(this,"topElement",void 0),mn(this,"animation",void 0),mn(this,"idGenerator",void 0),mn(this,"edgeGenerator",void 0),mn(this,"nodeMoveRules",[]),Qr(this,"edgeType",hh,this),Qr(this,"nodes",yh,this),Qr(this,"edges",gh,this),Qr(this,"overlapMode",mh,this),Qr(this,"background",bh,this),Qr(this,"transformModel",Oh,this),Qr(this,"editConfigModel",Eh,this),Qr(this,"gridSize",Sh,this),Qr(this,"partial",xh,this),Qr(this,"fakerNode",Ph,this);var t=e.container,r=e.background,n=r===void 0?{}:r,i=e.grid,a=e.idGenerator,l=e.edgeGenerator,d=e.animation;this.background=n,ca(i)==="object"&&(this.gridSize=i.size),this.rootEl=t,this.editConfigModel=new Cp(e),this.eventCenter=new Ew,this.transformModel=new aM(this.eventCenter),this.theme=av(e.style),this.edgeType=e.edgeType||"polyline",this.width=e.width,this.height=e.height,this.animation=$0(d),this.partial=e.partial,this.overlapMode=e.overlapMode||0,this.idGenerator=a,this.edgeGenerator=F0(this,l),this.width=e.width||this.rootEl.getBoundingClientRect().width,this.height=e.height||this.rootEl.getBoundingClientRect().height}return J0(o,[{key:"nodesMap",get:function(){return this.nodes.reduce(function(t,r,n){return t[r.id]={index:n,model:r},t},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(t,r,n){return t[r.id]={index:n,model:r},t},{})}},{key:"modelsMap",get:function(){return[].concat(ui(this.nodes),ui(this.edges)).reduce(function(t,r){return t[r.id]=r,t},{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach(function(O){return t.push(O)}),this.edges.forEach(function(O){return t.push(O)}),t=t.sort(function(O,N){return O.zIndex-N.zIndex});for(var r=[],n=-1,i=[-zu,-zu],a=[this.width+zu,this.height+zu],l=0;l<t.length;l++){var d=t[l];d.visible&&(!this.partial||d.isSelected||this.isElementInArea(d,i,a,!1,!1))&&(d.zIndex===Ip&&(n=r.length),r.push(d))}if(n!==-1){var p=r[r.length-1];r[r.length-1]=r[n],r[n]=p}return r}},{key:"textEditElement",get:function(){var t=this.nodes.find(function(n){return n.state===Kt.TEXT_EDIT}),r=this.edges.find(function(n){return n.state===Kt.TEXT_EDIT});return t||r}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach(function(r){r.isSelected&&t.set(r.id,r)}),this.edges.forEach(function(r){r.isSelected&&t.set(r.id,r)}),t}},{key:"getAreaElement",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,l=[],d=[];this.nodes.forEach(function(N){return d.push(N)}),this.edges.forEach(function(N){return d.push(N)});for(var p=0;p<d.length;p++){var O=d[p];(!a||O.visible)&&this.isElementInArea(O,t,r,n,i)&&l.push(O)}return l}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var r;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:(r=this.nodesMap[t])===null||r===void 0?void 0:r.model}},{key:"getPointByClient",value:function(t){var r=t.x,n=t.y,i=this.rootEl.getBoundingClientRect(),a={x:r-i.left,y:n-i.top},l=this.transformModel.HtmlPointToCanvasPoint([a.x,a.y]),d=Pf(l,2),p=d[0],O=d[1];return{domOverlayPosition:a,canvasOverlayPosition:{x:p,y:O}}}},{key:"isElementInArea",value:function(t,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(t.BaseType===Or.NODE){t=t;for(var l=Kr(t),d=l.minX,p=l.minY,O=l.maxX,N=l.maxY,B=[{x:d,y:p},{x:O,y:p},{x:O,y:N},{x:d,y:N}],$=a,J=0;J<B.length;J++){var fe=B[J],pe=fe.x,he=fe.y,Ne=this.transformModel.CanvasPointToHtmlPoint([pe,he]),Fe=Pf(Ne,2);if(pe=Fe[0],he=Fe[1],af([pe,he],r,n)!==a){$=!a;break}}return $}if(t.BaseType===Or.EDGE){t=t;var Le=t,ke=Le.startPoint,rt=Le.endPoint,lt=this.transformModel.CanvasPointToHtmlPoint([ke.x,ke.y]),Pt=this.transformModel.CanvasPointToHtmlPoint([rt.x,rt.y]),Ot=af(lt,r,n),St=af(Pt,r,n);return i?Ot&&St:Ot||St}return!1}},{key:"graphDataToModel",value:function(t){var r=this;(!this.width||!this.height)&&this.resize(),this.nodes=du(t.nodes,function(n){var i=r.getModel(n.type);if(!i)throw new Error("\u627E\u4E0D\u5230".concat(n.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var a=n.x,l=n.y;return a&&l&&(n.x=Oo(a,r.gridSize),n.y=Oo(l,r.gridSize),ca(n.text)==="object"&&(n.text.x-=lv(a,r.gridSize),n.text.y-=lv(l,r.gridSize))),new i(n,r)}),this.edges=du(t.edges,function(n){var i=r.getModel(n.type);if(!i)throw new Error("\u627E\u4E0D\u5230".concat(n.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new i(n,r)})}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach(function(n){var i=n.getData();i&&!n.virtual&&t.push(i)});var r=[];return this.nodes.forEach(function(n){var i=n.getData();i&&!n.virtual&&r.push(i)}),{nodes:r,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,r=[],n=0;n<this.nodes.length;n++){var i=this.nodes[n];if(i.isDragging){t=!0;break}else r.push(i.getHistoryData())}if(t)return!1;for(var a=!1,l=[],d=0;d<this.edges.length;d++){var p=this.edges[d];if(p.isDragging){a=!0;break}else l.push(p.getHistoryData())}return a?!1:{nodes:r,edges:l}}},{key:"getEdgeModelById",value:function(t){var r;return(r=this.edgesMap[t])===null||r===void 0?void 0:r.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var r=[],n=0;n<this.edges.length;n++){var i=this.edges[n],a=this.edges[n].sourceNodeId===t,l=this.edges[n].targetNodeId===t;(a||l)&&r.push(i)}return r}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,r=this.selectElements,n={nodes:[],edges:[]};return r.forEach(function(i){if(i.BaseType===Or.NODE&&n.nodes.push(i.getData()),i.BaseType===Or.EDGE){var a=i.getData(),l=r.get(a.sourceNodeId)&&r.get(a.targetNodeId);(t||l)&&n.edges.push(a)}}),n}},{key:"updateAttributes",value:function(t,r){var n=this.getElement(t);n.updateAttributes(r)}},{key:"changeNodeId",value:function(t,r){return r||(r=Eo()),this.nodesMap[r]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(r,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[t]?(this.edges.forEach(function(n){n.sourceNodeId===t&&(n.sourceNodeId=r),n.targetNodeId===t&&(n.targetNodeId=r)}),this.nodesMap[t].model.id=r,r):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(r,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(t,r){return r||(r=Eo()),this.edgesMap[r]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(r,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[t]?(this.edges.forEach(function(n){n.id===t&&(n.id=r)}),r):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(r,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,r){return this.modelMap.set(t,r)}},{key:"toFront",value:function(t){var r,n,i=((r=this.nodesMap[t])===null||r===void 0?void 0:r.model)||((n=this.edgesMap[t])===null||n===void 0?void 0:n.model);if(i){if(this.overlapMode===Wr.DEFAULT){var a;(a=this.topElement)===null||a===void 0||a.setZIndex(),i.setZIndex(Ip),this.topElement=i}this.overlapMode===Wr.INCREASE&&this.setElementZIndex(t,"top")}}},{key:"setElementZIndex",value:function(t,r){var n,i,a=((n=this.nodesMap[t])===null||n===void 0?void 0:n.model)||((i=this.edgesMap[t])===null||i===void 0?void 0:i.model);if(a){var l;typeof r=="number"&&(l=r),r==="top"&&(l=df()),r==="bottom"&&(l=Ww()),a.setZIndex(l)}}},{key:"deleteNode",value:function(t){var r=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(Mt.NODE_DELETE,{data:r})}},{key:"addNode",value:function(t){var r=Nr(t);r.id&&this.nodesMap[t.id]&&delete r.id;var n=this.getModel(r.type);if(!n)throw new Error("\u627E\u4E0D\u5230".concat(r.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var i=new n(r,this);this.nodes.push(i);var a=i.getData();return this.eventCenter.emit(Mt.NODE_ADD,{data:a}),i}},{key:"cloneNode",value:function(t){var r=this.getNodeModelById(t),n=r.getData();n.x+=30,n.y+=30,delete n.id,n.text&&(n.text.x+=30,n.text.y+=30);var i=this.addNode(n);return i.setSelected(!0),r.setSelected(!1),i.getData()}},{key:"moveNode",value:function(t,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=this.nodesMap[t];if(!a){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var l=a.model,d=l.getMoveDistance(r,n,i),p=Pf(d,2);r=p[0],n=p[1],this.moveEdge(t,r,n)}},{key:"moveNode2Coordinate",value:function(t,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=this.nodesMap[t];if(!a){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var l=a.model,d=l.x,p=l.y,O=r-d,N=n-p;this.moveNode(t,O,N,i)}},{key:"editText",value:function(t){this.setElementStateById(t,Kt.TEXT_EDIT)}},{key:"addEdge",value:function(t){var r=Nr(t),n=r.type;n||(n=this.edgeType),r.id&&this.edgesMap[r.id]&&delete r.id;var i=this.getModel(n);if(!i)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var a=new i(Lu(Lu({},r),{},{type:n}),this),l=a.getData();return this.edges.push(a),this.eventCenter.emit(Mt.EDGE_ADD,{data:l}),a}},{key:"moveEdge",value:function(t,r,n){for(var i=0;i<this.edges.length;i++){var a=this.edges[i],l=a.textPosition,d=l.x,p=l.y,O=this.edges[i].sourceNodeId===t,N=this.edges[i].targetNodeId===t;if(O&&a.moveStartPoint(r,n),N&&a.moveEndPoint(r,n),O||N){var B;if(a.customTextPosition===!0)a.resetTextPosition();else if(a.modelType===zt.POLYLINE_EDGE&&(B=a.text)!==null&&B!==void 0&&B.value){var $=a.text,J=sh($,a.points);a.moveText(J.x-$.x,J.y-$.y)}else{var fe=a.textPosition,pe=fe.x,he=fe.y;a.moveText(pe-d,he-p)}}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,r){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t&&this.edges[n].targetNodeId===r){var i=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(Mt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeById",value:function(t){var r=this.edgesMap[t];if(!!r){var n=this.edgesMap[t].index,i=this.edgesMap[t].model.getData();this.edges.splice(n,1),this.eventCenter.emit(Mt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(t){for(var r=0;r<this.edges.length;r++)if(this.edges[r].sourceNodeId===t){var n=this.edges[r].getData();this.edges.splice(r,1),r--,this.eventCenter.emit(Mt.EDGE_DELETE,{data:n})}}},{key:"deleteEdgeByTarget",value:function(t){for(var r=0;r<this.edges.length;r++)if(this.edges[r].targetNodeId===t){var n=this.edges[r].getData();this.edges.splice(r,1),r--,this.eventCenter.emit(Mt.EDGE_DELETE,{data:n})}}},{key:"setElementStateById",value:function(t,r,n){this.nodes.forEach(function(i){i.id===t?i.setElementState(r,n):i.setElementState(Kt.DEFAULT)}),this.edges.forEach(function(i){i.id===t?i.setElementState(r,n):i.setElementState(Kt.DEFAULT)})}},{key:"updateText",value:function(t,r){this.nodes.forEach(function(n){n.id===t&&n.updateText(r)}),this.edges.forEach(function(n){n.id===t&&n.updateText(r)})}},{key:"selectNodeById",value:function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||this.clearSelectElements();var i=(r=this.nodesMap[t])===null||r===void 0?void 0:r.model;i==null||i.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||this.clearSelectElements();var i=(r=this.edgesMap[t])===null||r===void 0?void 0:r.model;i==null||i.setSelected(!0)}},{key:"selectElementById",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r||this.clearSelectElements();var n=this.getElement(t);n==null||n.setSelected(!0)}},{key:"clearSelectElements",value:function(){if(this.selectElements.forEach(function(r){r==null||r.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Wr.DEFAULT){var t;(t=this.topElement)===null||t===void 0||t.setZIndex()}}},{key:"moveNodes",value:function(t,r,n){var i=this,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.forEach(function(l){return i.moveNode(l,r,n,a)})}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,r){var n=this.getNodeModelById(t);if(!n){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var i=n.getData();i.type=r;var a=this.getModel(r);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(r,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var l=new a(i,this);this.nodes.splice(this.nodesMap[t].index,1,l);var d=this.getNodeEdges(t);d.forEach(function(p){if(p.sourceNodeId===t){var O=yv(l,p.startPoint,l.width,l.height);p.updateStartPoint(O)}if(p.targetNodeId===t){var N=yv(l,p.endPoint,l.width,l.height);p.updateEndPoint(N)}})}},{key:"changeEdgeType",value:function(t,r){var n=this.getEdgeModelById(t);if(!n){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(t,"\u7684\u8FB9"));return}if(n.type!==r){var i=n.getData();i.type=r;var a=this.getModel(r);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(r,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete i.pointsList;var l=new a(i,this);this.edges.splice(this.edgesMap[t].index,1,l)}}},{key:"getNodeIncomingEdge",value:function(t){var r=[];return this.edges.forEach(function(n){n.targetNodeId===t&&r.push(n)}),r}},{key:"getNodeOutgoingEdge",value:function(t){var r=[];return this.edges.forEach(function(n){n.sourceNodeId===t&&r.push(n)}),r}},{key:"getNodeIncomingNode",value:function(t){var r=this,n=[];return this.edges.forEach(function(i){i.targetNodeId===t&&n.push(r.nodesMap[i.sourceNodeId].model)}),n}},{key:"getNodeOutgoingNode",value:function(t){var r=this,n=[];return this.edges.forEach(function(i){i.sourceNodeId===t&&n.push(r.nodesMap[i.targetNodeId].model)}),n}},{key:"setTheme",value:function(t){this.theme=av(Lu(Lu({},this.theme),t))}},{key:"resize",value:function(t,r){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=r||this.rootEl.getBoundingClientRect().height,(!this.width||!this.height)&&console.warn("\u6E32\u67D3\u753B\u5E03\u7684\u65F6\u5019\u65E0\u6CD5\u83B7\u53D6\u753B\u5E03\u5BBD\u9AD8\uFF0C\u8BF7\u786E\u8BA4\u5728container\u5DF2\u6302\u8F7D\u5230DOM\u3002@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,r=[],n=[];t.forEach(function($){var J=$.x,fe=$.y,pe=$.width,he=$.height,Ne=$.getNodeStyle(),Fe=Ne.strokeWidth,Le=Fe===void 0?0:Fe;r=r.concat([J+pe/2+Le,J-pe/2-Le]),n=n.concat([fe+he/2+Le,fe-he/2-Le])});var i=Math.min.apply(Math,ui(r)),a=Math.max.apply(Math,ui(r)),l=Math.min.apply(Math,ui(n)),d=Math.max.apply(Math,ui(n)),p=a-i||0,O=d-l||0,N=i+p/2,B=l+O/2;return{virtualRectWidth:p,virtualRectHeight:O,virtualRectCenterPositionX:N,virtualRectCenterPositionY:B}}},{key:"translateCenter",value:function(){var t=this.nodes,r=this.width,n=this.height,i=this.rootEl,a=this.transformModel;if(!!t.length){var l=r||i.clientWidth,d=n||i.clientHeight,p=this.getVirtualRectSize(),O=p.virtualRectCenterPositionX,N=p.virtualRectCenterPositionY;a.focusOn(O,N,l,d)}}},{key:"fitView",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,n=this.nodes,i=this.width,a=this.height,l=this.rootEl,d=this.transformModel;if(!!n.length){var p=i||l.clientWidth,O=a||l.clientHeight,N=this.getVirtualRectSize(),B=N.virtualRectWidth,$=N.virtualRectHeight,J=N.virtualRectCenterPositionX,fe=N.virtualRectCenterPositionY,pe=(B+r)/p,he=($+t)/O,Ne=0;Ne=1/Math.max(pe,he);var Fe=[p/2,O/2];d.zoom(Ne,Fe),d.focusOn(J,fe,p,O)}}},{key:"openEdgeAnimation",value:function(t){var r=this.getEdgeModelById(t);r.openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){var r=this.getEdgeModelById(t);r.closeEdgeAnimation()}}]),o}(),ph=gt(xe.prototype,"width",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vh=gt(xe.prototype,"height",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hh=gt(xe.prototype,"edgeType",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yh=gt(xe.prototype,"nodes",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gh=gt(xe.prototype,"edges",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mh=gt(xe.prototype,"overlapMode",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wr.DEFAULT}}),bh=gt(xe.prototype,"background",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oh=gt(xe.prototype,"transformModel",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eh=gt(xe.prototype,"editConfigModel",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sh=gt(xe.prototype,"gridSize",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),xh=gt(xe.prototype,"partial",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ph=gt(xe.prototype,"fakerNode",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt(xe.prototype,"nodesMap",[c.m],Object.getOwnPropertyDescriptor(xe.prototype,"nodesMap"),xe.prototype),gt(xe.prototype,"edgesMap",[c.m],Object.getOwnPropertyDescriptor(xe.prototype,"edgesMap"),xe.prototype),gt(xe.prototype,"modelsMap",[c.m],Object.getOwnPropertyDescriptor(xe.prototype,"modelsMap"),xe.prototype),gt(xe.prototype,"sortElements",[c.m],Object.getOwnPropertyDescriptor(xe.prototype,"sortElements"),xe.prototype),gt(xe.prototype,"textEditElement",[c.m],Object.getOwnPropertyDescriptor(xe.prototype,"textEditElement"),xe.prototype),gt(xe.prototype,"selectElements",[c.m],Object.getOwnPropertyDescriptor(xe.prototype,"selectElements"),xe.prototype),gt(xe.prototype,"setFakerNode",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"setFakerNode"),xe.prototype),gt(xe.prototype,"removeFakerNode",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"removeFakerNode"),xe.prototype),gt(xe.prototype,"setModel",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"setModel"),xe.prototype),gt(xe.prototype,"toFront",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"toFront"),xe.prototype),gt(xe.prototype,"setElementZIndex",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"setElementZIndex"),xe.prototype),gt(xe.prototype,"deleteNode",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteNode"),xe.prototype),gt(xe.prototype,"addNode",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"addNode"),xe.prototype),gt(xe.prototype,"cloneNode",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"cloneNode"),xe.prototype),gt(xe.prototype,"moveNode",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"moveNode"),xe.prototype),gt(xe.prototype,"moveNode2Coordinate",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"moveNode2Coordinate"),xe.prototype),gt(xe.prototype,"editText",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"editText"),xe.prototype),gt(xe.prototype,"addEdge",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"addEdge"),xe.prototype),gt(xe.prototype,"moveEdge",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"moveEdge"),xe.prototype),gt(xe.prototype,"deleteEdgeBySourceAndTarget",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteEdgeBySourceAndTarget"),xe.prototype),gt(xe.prototype,"deleteEdgeById",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteEdgeById"),xe.prototype),gt(xe.prototype,"deleteEdgeBySource",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteEdgeBySource"),xe.prototype),gt(xe.prototype,"deleteEdgeByTarget",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteEdgeByTarget"),xe.prototype),gt(xe.prototype,"setElementStateById",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"setElementStateById"),xe.prototype),gt(xe.prototype,"updateText",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"updateText"),xe.prototype),gt(xe.prototype,"selectNodeById",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"selectNodeById"),xe.prototype),gt(xe.prototype,"selectEdgeById",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"selectEdgeById"),xe.prototype),gt(xe.prototype,"selectElementById",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"selectElementById"),xe.prototype),gt(xe.prototype,"clearSelectElements",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"clearSelectElements"),xe.prototype),gt(xe.prototype,"moveNodes",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"moveNodes"),xe.prototype),gt(xe.prototype,"setDefaultEdgeType",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"setDefaultEdgeType"),xe.prototype),gt(xe.prototype,"changeNodeType",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"changeNodeType"),xe.prototype),gt(xe.prototype,"changeEdgeType",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"changeEdgeType"),xe.prototype),gt(xe.prototype,"getNodeIncomingEdge",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"getNodeIncomingEdge"),xe.prototype),gt(xe.prototype,"getNodeOutgoingEdge",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"getNodeOutgoingEdge"),xe.prototype),gt(xe.prototype,"getNodeIncomingNode",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"getNodeIncomingNode"),xe.prototype),gt(xe.prototype,"getNodeOutgoingNode",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"getNodeOutgoingNode"),xe.prototype),gt(xe.prototype,"setTheme",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"setTheme"),xe.prototype),gt(xe.prototype,"resize",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"resize"),xe.prototype),gt(xe.prototype,"clearData",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"clearData"),xe.prototype),gt(xe.prototype,"translateCenter",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"translateCenter"),xe.prototype),gt(xe.prototype,"fitView",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"fitView"),xe.prototype),gt(xe.prototype,"openEdgeAnimation",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"openEdgeAnimation"),xe.prototype),gt(xe.prototype,"closeEdgeAnimation",[c.k],Object.getOwnPropertyDescriptor(xe.prototype,"closeEdgeAnimation"),xe.prototype),xe),Q0=Ah;function Fu(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fu=function(t){return typeof t}:Fu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(o)}var Nh;function Tf(){return Tf=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},Tf.apply(this,arguments)}function q0(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function Dh(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function _0(o,e,t){return e&&Dh(o.prototype,e),t&&Dh(o,t),o}function eA(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&wf(o,e)}function wf(o,e){return wf=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},wf(o,e)}function tA(o){var e=nA();return function(){var r=Hu(o),n;if(e){var i=Hu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rA(this,n)}}function rA(o,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bn(o)}function bn(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function nA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function Hu(o){return Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hu(o)}function Rn(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var oA=Ao(Nh=function(o){eA(t,o);var e=tA(t);function t(r){var n;q0(this,t),n=e.call(this),Rn(bn(n),"stepDrag",void 0),Rn(bn(n),"stepScrollX",0),Rn(bn(n),"stepScrollY",0),Rn(bn(n),"onDraging",function(d){var p=d.deltaX,O=d.deltaY;n.setState({isDraging:!0});var N=n.props.graphModel,B=N.transformModel,$=N.editConfigModel;$.stopMoveGraph||B.translate(p,O)}),Rn(bn(n),"onDragEnd",function(){n.setState({isDraging:!1})}),Rn(bn(n),"zoomHandler",function(d){var p=n.props,O=p.graphModel,N=O.editConfigModel,B=O.transformModel,$=O.gridSize,J=p.graphModel,fe=d.deltaX,pe=d.deltaY;if(!N.stopScrollGraph&&d.ctrlKey!==!0){if(d.preventDefault(),n.stepScrollX+=fe,n.stepScrollY+=pe,Math.abs(n.stepScrollX)>=$){var he=n.stepScrollX%$,Ne=n.stepScrollX-he;B.translate(-Ne*B.SCALE_X,0),n.stepScrollX=he}if(Math.abs(n.stepScrollY)>=$){var Fe=n.stepScrollY%$,Le=n.stepScrollY-Fe;B.translate(0,-Le*B.SCALE_Y),n.stepScrollY=Fe}return}if(!N.stopZoomGraph){d.preventDefault();var ke=J.getPointByClient({x:d.clientX,y:d.clientY}),rt=ke.canvasOverlayPosition,lt=rt.x,Pt=rt.y;B.zoom(d.deltaY<0,[lt,Pt])}}),Rn(bn(n),"clickHandler",function(d){var p=d.target;if(p.getAttribute("name")==="canvas-overlay"){var O=n.props.graphModel,N=O.selectElements;N.size>0&&O.clearSelectElements(),O.eventCenter.emit(Mt.BLANK_CLICK,{e:d})}}),Rn(bn(n),"handleContextMenu",function(d){var p=d.target;if(p.getAttribute("name")==="canvas-overlay"){d.preventDefault();var O=n.props.graphModel,N=O.getPointByClient({x:d.clientX,y:d.clientY});O.eventCenter.emit(Mt.BLANK_CONTEXTMENU,{e:d,position:N})}}),Rn(bn(n),"mouseDownHandler",function(d){var p=n.props.graphModel,O=p.eventCenter,N=p.editConfigModel,B=p.transformModel.SCALE_X,$=p.gridSize,J=d.target,fe=!N.adjustEdge&&!N.adjustNodePosition;(J.getAttribute("name")==="canvas-overlay"||fe)&&(N.stopMoveGraph?O.emit(Mt.BLANK_MOUSEDOWN,{e:d}):(n.stepDrag.setStep($*B),n.stepDrag.handleMouseDown(d)),n.clickHandler(d))});var i=r.graphModel,a=i.gridSize,l=i.eventCenter;return n.stepDrag=new So({onDraging:n.onDraging,onDragEnd:n.onDragEnd,step:a,eventType:"BLANK",isStopPropagation:!1,eventCenter:l,model:null}),n.state={isDraging:!1},n}return _0(t,[{key:"render",value:function(){var n=this.props.graphModel.transformModel,i=n.getTransformStyle(),a=i.transform,l=this.props,d=l.children,p=l.dnd,O=this.state.isDraging;return Object(Se.g)("svg",Tf({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:O?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},p.eventMap()),Object(Se.g)("g",{transform:a},d))}}]),t}(Se.a))||Nh,iA=oA;function Gu(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gu=function(t){return typeof t}:Gu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(o)}var jh;function aA(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function Ch(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function uA(o,e,t){return e&&Ch(o.prototype,e),t&&Ch(o,t),o}function lA(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Af(o,e)}function Af(o,e){return Af=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Af(o,e)}function sA(o){var e=cA();return function(){var r=Uu(o),n;if(e){var i=Uu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fA(this,n)}}function fA(o,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rh(o)}function Rh(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function cA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function Uu(o){return Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Uu(o)}function dA(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var pA=Ao(jh=function(o){lA(t,o);var e=sA(t);function t(){var r;aA(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),dA(Rh(r),"setToolOverlayRef",function(l){var d=r.props.tool,p=d.getInstance();p.components.forEach(function(O){return O(p,l)}),p.components=[]}),r}return uA(t,[{key:"getTools",value:function(){var n=this.props,i=n.tool,a=n.graphModel,l=i.getTools(),d=l.map(function(p){return Object(Se.g)(p,{graphModel:a,logicFlow:i.instance})});return i.components=d,d}},{key:"render",value:function(){return Object(Se.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}]),t}(Se.a))||jh;function $u(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$u=function(t){return typeof t}:$u=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(o)}function vA(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function Ih(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function hA(o,e,t){return e&&Ih(o.prototype,e),t&&Ih(o,t),o}function yA(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Nf(o,e)}function Nf(o,e){return Nf=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Nf(o,e)}function gA(o){var e=OA();return function(){var r=ku(o),n;if(e){var i=ku(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mA(this,n)}}function mA(o,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bA(o)}function bA(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function OA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function ku(o){return ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ku(o)}var EA=function(o){yA(t,o);var e=gA(t);function t(){return vA(this,t),e.apply(this,arguments)}return hA(t,[{key:"render",value:function(){var n=this.props.background;return Object(Se.g)("div",{className:"lf-background"},Object(Se.g)("div",{style:n,className:"lf-background-area"}))}}]),t}(Se.a);function Xu(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xu=function(t){return typeof t}:Xu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(o)}var Bh;function SA(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function Lh(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function xA(o,e,t){return e&&Lh(o.prototype,e),t&&Lh(o,t),o}function PA(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Df(o,e)}function Df(o,e){return Df=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Df(o,e)}function MA(o){var e=wA();return function(){var r=Yu(o),n;if(e){var i=Yu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return TA(this,n)}}function TA(o,e){if(e&&(Xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zh(o)}function zh(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function wA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function Yu(o){return Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Yu(o)}function AA(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var Fh=Ao(Bh=function(o){PA(t,o);var e=MA(t);function t(){var r;SA(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),AA(zh(r),"id",Eo()),r}return xA(t,[{key:"renderDot",value:function(){var n=this.props,i=n.config,a=i.color,l=i.thickness,d=l===void 0?2:l,p=n.size,O=n.visible,N=Math.min(Math.max(2,d),p/2),B=1;return O||(B=0),Object(Se.g)("rect",{width:N,height:N,rx:N/2,ry:N/2,fill:a,opacity:B})}},{key:"renderMesh",value:function(){var n=this.props,i=n.config,a=i.color,l=i.thickness,d=l===void 0?1:l,p=n.size,O=n.visible,N=Math.min(Math.max(1,d),p/2),B="M ".concat(p," 0 H0 M0 0 V0 ").concat(p),$=1;return O||($=0),Object(Se.g)("path",{d:B,stroke:a,strokeWidth:N,opacity:$})}},{key:"render",value:function(){var n=this.props,i=n.type,a=n.size,l=n.graphModel.transformModel,d=l.SCALE_X,p=l.SKEW_Y,O=l.SKEW_X,N=l.SCALE_Y,B=l.TRANSLATE_X,$=l.TRANSLATE_Y,J=[d,p,O,N,B,$].join(","),fe="matrix(".concat(J,")");return Object(Se.g)("div",{className:"lf-grid"},Object(Se.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(Se.g)("defs",null,Object(Se.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:fe,x:"0",y:"0",width:a,height:a},i==="dot"&&this.renderDot(),i==="mesh"&&this.renderMesh())),Object(Se.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),t}(Se.a))||Bh;Fh.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}};var PR=u(52);function Wu(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wu=function(t){return typeof t}:Wu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(o)}function NA(o,e){return RA(o)||CA(o,e)||jA(o,e)||DA()}function DA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jA(o,e){if(!!o){if(typeof o=="string")return Hh(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Hh(o,e)}}function Hh(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function CA(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function RA(o){if(Array.isArray(o))return o}function IA(o){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(o).forEach(function(t){var r=NA(t,2),n=r[0],i=r[1];if(n==="style")e[n]=i;else{var a=Wu(i);a!=="object"&&(e[n]=i)}}),Object(Se.g)("line",e)}var xo=IA;function Ku(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ku=function(t){return typeof t}:Ku=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(o)}var Gh;function Uh(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function Vu(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Uh(Object(t),!0).forEach(function(r){BA(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):Uh(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function BA(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function LA(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function $h(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function zA(o,e,t){return e&&$h(o.prototype,e),t&&$h(o,t),o}function FA(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&jf(o,e)}function jf(o,e){return jf=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},jf(o,e)}function HA(o){var e=$A();return function(){var r=Zu(o),n;if(e){var i=Zu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return GA(this,n)}}function GA(o,e){if(e&&(Ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UA(o)}function UA(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function $A(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function Zu(o){return Zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zu(o)}var kA=Ao(Gh=function(o){FA(t,o);var e=HA(t);function t(){return LA(this,t),e.apply(this,arguments)}return zA(t,[{key:"render",value:function(){var n=this.props.snaplineModel,i=n.position,a=n.isShowHorizontal,l=n.isShowVertical,d=n.getStyle(),p=i.x,O=p===void 0?0:p,N=i.y,B=N===void 0?0:N,$=Vu(Vu({x1:-1e5,y1:B,x2:1e5,y2:B},d),{},{stroke:a?d.stroke:"none"}),J=Vu(Vu({x1:O,y1:-1e5,x2:O,y2:1e5},d),{},{stroke:l?d.stroke:"none"});return Object(Se.g)("g",{className:"lf-snapline"},Object(Se.g)(xo,$),Object(Se.g)(xo,J))}}]),t}(Se.a))||Gh;function Ju(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ju=function(t){return typeof t}:Ju=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(o)}function XA(o,e){return VA(o)||KA(o,e)||WA(o,e)||YA()}function YA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WA(o,e){if(!!o){if(typeof o=="string")return kh(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kh(o,e)}}function kh(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function KA(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function VA(o){if(Array.isArray(o))return o}function _n(o){var e=o.x,t=o.y,r=o.width,n=o.height,i=o.className,a=o.radius,l=e-r/2,d=t-n/2,p={};return Object.entries(o).forEach(function(O){var N=XA(O,2),B=N[0],$=N[1],J=Ju($);J!=="object"&&(p[B]=$)}),i?p.className="lf-basic-shape ".concat(i):p.className="lf-basic-shape",a&&(p.rx=a,p.ry=a),p.x=l,p.y=d,Object(Se.g)("rect",p)}_n.defaultProps={className:"",radius:""};function Qu(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qu=function(t){return typeof t}:Qu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(o)}var Xh;function li(){return li=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},li.apply(this,arguments)}function Yh(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function Wh(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Yh(Object(t),!0).forEach(function(r){ZA(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):Yh(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function ZA(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function JA(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function Kh(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function QA(o,e,t){return e&&Kh(o.prototype,e),t&&Kh(o,t),o}function qA(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Cf(o,e)}function Cf(o,e){return Cf=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Cf(o,e)}function _A(o){var e=rN();return function(){var r=qu(o),n;if(e){var i=qu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return eN(this,n)}}function eN(o,e){if(e&&(Qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tN(o)}function tN(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function rN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function qu(o){return qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qu(o)}var nN=Ao(Xh=function(o){qA(t,o);var e=_A(t);function t(){return JA(this,t),e.apply(this,arguments)}return QA(t,[{key:"getNodesOutline",value:function(){var n=this.props.graphModel,i=n.nodes,a=n.editConfigModel,l=a.hoverOutline,d=a.nodeSelectedOutline,p=[];return i.forEach(function(O){if(O.isHovered||O.isSelected){var N=O.isHovered,B=O.isSelected,$=O.x,J=O.y,fe=O.width,pe=O.height;if(d&&B||l&&N){var he=O.getOutlineStyle(),Ne={};if(Object.keys(he).forEach(function(Le){Le!=="hover"&&(Ne[Le]=he[Le])}),N){var Fe=he.hover;Ne=Wh(Wh({},Ne),Fe)}p.push(Object(Se.g)(_n,li({className:"lf-outline-node",x:$,y:J,width:fe+10,height:pe+10},Ne)))}}}),p}},{key:"getEdgeOutline",value:function(){for(var n=this.props.graphModel,i=n.edges,a=n.editConfigModel,l=a.edgeSelectedOutline,d=a.hoverOutline,p=[],O=0;O<i.length;O++){var N=i[O];(l&&N.isSelected||d&&N.isHovered)&&(N.modelType===zt.LINE_EDGE?p.push(this.getLineOutline(N)):N.modelType===zt.POLYLINE_EDGE?p.push(this.getPolylineOutline(N)):N.modelType===zt.BEZIER_EDGE&&p.push(this.getBezierOutline(N)))}return p}},{key:"getLineOutline",value:function(n){var i=n.startPoint,a=n.endPoint,l=(i.x+a.x)/2,d=(i.y+a.y)/2,p=Math.abs(i.x-a.x)+10,O=Math.abs(i.y-a.y)+10,N=n.getOutlineStyle();return Object(Se.g)(_n,li({className:"lf-outline-edge",x:l,y:d,width:p,height:O},N))}},{key:"getPolylineOutline",value:function(n){var i=n.points,a=ii(i),l=sa(a,8),d=l.x,p=l.y,O=l.width,N=l.height,B=n.getOutlineStyle();return Object(Se.g)(_n,li({className:"lf-outline",x:d,y:p,width:O,height:N},B))}},{key:"getBezierOutline",value:function(n){var i=n.path,a=Iu(i),l=sa(a,8),d=l.x,p=l.y,O=l.width,N=l.height,B=n.getOutlineStyle();return Object(Se.g)(_n,li({className:"lf-outline",x:d,y:p,width:O,height:N},B))}},{key:"render",value:function(){return Object(Se.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),t}(Se.a))||Xh;function _u(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_u=function(t){return typeof t}:_u=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(o)}function oN(o,e){return lN(o)||uN(o,e)||aN(o,e)||iN()}function iN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aN(o,e){if(!!o){if(typeof o=="string")return Vh(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Vh(o,e)}}function Vh(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function uN(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function lN(o){if(Array.isArray(o))return o}function da(o){var e=o.x,t=e===void 0?0:e,r=o.y,n=r===void 0?0:r,i=o.r,a=i===void 0?4:i,l=o.className,d={cx:t,cy:n,r:a,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(o).forEach(function(p){var O=oN(p,2),N=O[0],B=O[1],$=_u(B);$!=="object"&&(d[N]=B)}),l?d.className="lf-basic-shape ".concat(l):d.className="lf-basic-shape",Object(Se.g)("circle",d)}function el(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?el=function(t){return typeof t}:el=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(o)}var Zh;function sN(o,e){return pN(o)||dN(o,e)||cN(o,e)||fN()}function fN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cN(o,e){if(!!o){if(typeof o=="string")return Jh(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Jh(o,e)}}function Jh(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function dN(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function pN(o){if(Array.isArray(o))return o}function pa(){return pa=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},pa.apply(this,arguments)}function Qh(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function qh(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function _h(o,e,t){return e&&qh(o.prototype,e),t&&qh(o,t),o}function ey(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Rf(o,e)}function Rf(o,e){return Rf=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Rf(o,e)}function ty(o){var e=hN();return function(){var r=rl(o),n;if(e){var i=rl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vN(this,n)}}function vN(o,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tl(o)}function tl(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function hN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function rl(o){return rl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rl(o)}function If(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var ry=function(o){ey(t,o);var e=ty(t);function t(){var r;return Qh(this,t),r=e.call(this),If(tl(r),"dragHandler",void 0),If(tl(r),"onDraging",function(n){var i=n.event,a=r.props,l=a.graphModel,d=a.bezierModel,p=a.type,O=l.getPointByClient({x:i.clientX,y:i.clientY}),N=O.canvasOverlayPosition,B=N.x,$=N.y;d.updateAdjustAnchor({x:B,y:$},p)}),If(tl(r),"onDragEnd",function(){var n=r.props.bezierModel;n.isDragging=!1}),r.dragHandler=new So({onDraging:r.onDraging,onDragEnd:r.onDragEnd}),r}return _h(t,[{key:"render",value:function(){var n=this,i=this.props.position,a=i.x,l=i.y,d=this.props.bezierModel,p=d.getEdgeStyle(),O=p.adjustAnchor;return Object(Se.g)(da,pa({className:"lf-bezier-adjust-anchor",x:a,y:l},O,{onMouseDown:function(B){n.dragHandler.handleMouseDown(B)}}))}}]),t}(Se.a),yN=Ao(Zh=function(o){ey(t,o);var e=ty(t);function t(){return Qh(this,t),e.apply(this,arguments)}return _h(t,[{key:"getBezierAdjust",value:function(n,i){var a=n.path,l=n.id,d=Iu(a),p=sN(d,4),O=p[0],N=p[1],B=p[2],$=p[3],J=n.getEdgeStyle(),fe=J.adjustLine,pe=[];return pe.push(Object(Se.g)(xo,pa({x1:O.x,y1:O.y,x2:N.x,y2:N.y},fe))),pe.push(Object(Se.g)(ry,{position:N,bezierModel:n,graphModel:i,key:"".concat(l,"_ePre"),type:"sNext"})),pe.push(Object(Se.g)(xo,pa({x1:$.x,y1:$.y,x2:B.x,y2:B.y},fe))),pe.push(Object(Se.g)(ry,{position:B,bezierModel:n,graphModel:i,key:"".concat(l,"_sNext"),type:"ePre"})),pe}},{key:"selectedBezierEdge",value:function(){for(var n=this.props.graphModel,i=n.edges,a=[],l=0;l<i.length;l++){var d=i[l];d.isSelected&&d.modelType===zt.BEZIER_EDGE&&d.draggable&&a.push(this.getBezierAdjust(d,n))}return a}},{key:"render",value:function(){return Object(Se.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),t}(Se.a))||Zh;function nl(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nl=function(t){return typeof t}:nl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(o)}var ny;function gN(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function oy(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function mN(o,e,t){return e&&oy(o.prototype,e),t&&oy(o,t),o}function bN(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Bf(o,e)}function Bf(o,e){return Bf=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Bf(o,e)}function ON(o){var e=xN();return function(){var r=ol(o),n;if(e){var i=ol(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return EN(this,n)}}function EN(o,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SN(o)}function SN(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function xN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function ol(o){return ol=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ol(o)}var PN=Ao(ny=function(o){bN(t,o);var e=ON(t);function t(){return gN(this,t),e.apply(this,arguments)}return mN(t,[{key:"render",value:function(){var n=this.props.graphModel.transformModel,i=n.getTransformStyle(),a=i.transform,l=this.props.children;return Object(Se.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(Se.g)("g",{transform:a},l))}}]),t}(Se.a))||ny;function il(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?il=function(t){return typeof t}:il=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(o)}var iy;function Lf(){return Lf=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},Lf.apply(this,arguments)}function MN(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function ay(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function TN(o,e,t){return e&&ay(o.prototype,e),t&&ay(o,t),o}function wN(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&zf(o,e)}function zf(o,e){return zf=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},zf(o,e)}function AN(o){var e=jN();return function(){var r=al(o),n;if(e){var i=al(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return NN(this,n)}}function NN(o,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DN(o)}function DN(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function jN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function al(o){return al=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},al(o)}var CN=Ao(iy=function(o){wN(t,o);var e=AN(t);function t(){return MN(this,t),e.apply(this,arguments)}return TN(t,[{key:"getComponent",value:function(n,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",l=this.props.getView,d=l(n.type);return Object(Se.g)(d,{key:n.id,model:n,graphModel:i,overlay:a})}},{key:"render",value:function(){var n=this,i=this.props,a=i.graphModel,l=i.tool,d=i.options,p=i.dnd,O=i.snaplineModel,N={};d.width&&(N.width="".concat(a.width,"px")),d.height&&(N.height="".concat(a.height,"px"));var B=a.fakerNode,$=a.editConfigModel,J=$.adjustEdge;return Object(Se.g)("div",{className:"lf-graph",style:N},Object(Se.g)(iA,{graphModel:a,dnd:p},Object(Se.g)("g",{className:"lf-base"},du(a.sortElements,function(fe){return n.getComponent(fe,a)})),B?this.getComponent(B,a):""),Object(Se.g)(PN,{graphModel:a},Object(Se.g)(nN,{graphModel:a}),J?Object(Se.g)(yN,{graphModel:a}):"",!d.isSilentMode&&d.snapline!==!1?Object(Se.g)(kA,{snaplineModel:O}):""),Object(Se.g)(pA,{graphModel:a,tool:l}),d.background&&Object(Se.g)(EA,{background:d.background}),d.grid&&Object(Se.g)(Fh,Lf({},d.grid,{graphModel:a})))}}]),t}(Se.a))||iy,RN=CN;function uy(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function ul(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uy(Object(t),!0).forEach(function(r){In(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):uy(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function IN(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function ly(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function BN(o,e,t){return e&&ly(o.prototype,e),t&&ly(o,t),o}function In(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var LN=function(){function o(e){var t=this;IN(this,o),In(this,"nodeConfig",void 0),In(this,"lf",void 0),In(this,"fakerNode",void 0),In(this,"stopDrag",function(){t.nodeConfig=null,window.document.removeEventListener("mouseup",t.stopDrag)}),In(this,"dragEnter",function(n){!t.nodeConfig||t.fakerNode||(t.fakerNode=t.lf.createFakerNode(ul(ul({},t.nodeConfig),t.clientToLocalPoint({x:n.clientX,y:n.clientY}))))}),In(this,"onDragOver",function(n){if(n.preventDefault(),t.fakerNode){var i=t.clientToLocalPoint({x:n.clientX,y:n.clientY}),a=i.x,l=i.y;t.fakerNode.moveTo(a,l);var d=t.fakerNode.getData();t.lf.setNodeSnapLine(d),t.lf.graphModel.eventCenter.emit(Mt.NODE_DND_DRAG,{data:d})}return!1}),In(this,"onDragLeave",function(){t.fakerNode&&(t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null)}),In(this,"onDrop",function(n){if(!(!t.lf.graphModel||!n||!t.nodeConfig)){var i=t.lf.addNode(ul(ul({},t.nodeConfig),t.clientToLocalPoint({x:n.clientX,y:n.clientY})));n.preventDefault(),n.stopPropagation(),t.nodeConfig=null,t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null;var a=i.getData();t.lf.graphModel.eventCenter.emit(Mt.NODE_DND_ADD,{data:a})}});var r=e.lf;this.lf=r}return BN(o,[{key:"clientToLocalPoint",value:function(t){var r=t.x,n=t.y,i=op(this.lf.options,["grid","size"]),a=this.lf.graphModel.getPointByClient({x:r,y:n}),l=a.canvasOverlayPosition,d=l.x,p=l.y;return{x:Oo(d,i),y:Oo(p,i)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),o}();function sy(o){var e=o.container,t=o.grid,r=o.width,n=o.height;if(!e)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof r=="string"||typeof n=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return t&&(o.grid=Br({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},t)),Br({},fy,o)}var fy={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function ll(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ll=function(t){return typeof t}:ll=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(o)}var $t,cy;function Ff(o,e){return GN(o)||HN(o,e)||FN(o,e)||zN()}function zN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FN(o,e){if(!!o){if(typeof o=="string")return dy(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dy(o,e)}}function dy(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function HN(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function GN(o){if(Array.isArray(o))return o}function py(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function sl(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?py(Object(t),!0).forEach(function(r){hy(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):py(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function UN(o,e,t,r){!t||Object.defineProperty(o,e,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function $N(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function vy(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function kN(o,e,t){return e&&vy(o.prototype,e),t&&vy(o,t),o}function si(){return typeof Reflect!="undefined"&&Reflect.get?si=Reflect.get:si=function(e,t,r){var n=XN(e,t);if(!!n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},si.apply(this,arguments)}function XN(o,e){for(;!Object.prototype.hasOwnProperty.call(o,e)&&(o=eo(o),o!==null););return o}function YN(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Hf(o,e)}function Hf(o,e){return Hf=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Hf(o,e)}function WN(o){var e=VN();return function(){var r=eo(o),n;if(e){var i=eo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return KN(this,n)}}function KN(o,e){if(e&&(ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fl(o)}function fl(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function VN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function eo(o){return eo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},eo(o)}function hy(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function un(o,e,t,r,n){var i={};return Object.keys(r).forEach(function(a){i[a]=r[a]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(a,l){return l(o,e,a)||a},i),n&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(o,e,i),i=null),i}function MR(o,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var Gf=($t=function(o){YN(t,o);var e=WN(t);function t(){var r;$N(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),hy(fl(r),"modelType",zt.BEZIER_EDGE),UN(fl(r),"path",cy,fl(r)),r}return kN(t,[{key:"initEdgeData",value:function(n){this.offset=100,si(eo(t.prototype),"initEdgeData",this).call(this,n)}},{key:"getEdgeStyle",value:function(){var n=this.graphModel.theme.bezier,i=si(eo(t.prototype),"getEdgeStyle",this).call(this);return sl(sl({},i),ur(n))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var n=0,i=0;return this.pointsList.forEach(function(a){var l=a.x,d=a.y;n+=l,i+=d}),{x:n/this.pointsList.length,y:i/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var n=si(eo(t.prototype),"getData",this).call(this),i=this.pointsList.map(function(a){var l=a.x,d=a.y;return{x:l,y:d}});return sl(sl({},n),{},{pointsList:i})}},{key:"getControls",value:function(){var n=this.startPoint,i=this.endPoint,a=lh({start:n,end:i,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return a}},{key:"getPath",value:function(n){var i=Ff(n,4),a=i[0],l=i[1],d=i[2],p=i[3];return"M ".concat(a.x," ").concat(a.y,`
    C `).concat(l.x," ").concat(l.y,`,
    `).concat(d.x," ").concat(d.y,`,
    `).concat(p.x," ").concat(p.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var n=this.getControls(),i=n.sNext,a=n.ePre;this.updatePath(i,a)}},{key:"updatePath",value:function(n,i){var a={x:this.startPoint.x,y:this.startPoint.y},l={x:this.endPoint.x,y:this.endPoint.y};if(!n||!i){var d=this.getControls();n=d.sNext,i=d.ePre}this.pointsList=[a,n,i,l],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(n){this.startPoint=n,this.updatePoints()}},{key:"updateEndPoint",value:function(n){this.endPoint=n,this.updatePoints()}},{key:"moveStartPoint",value:function(n,i){this.startPoint.x+=n,this.startPoint.y+=i;var a=Ff(this.pointsList,3),l=a[1],d=a[2];l.x+=n,l.y+=i,this.updatePath(l,d)}},{key:"moveEndPoint",value:function(n,i){this.endPoint.x+=n,this.endPoint.y+=i;var a=Ff(this.pointsList,3),l=a[1],d=a[2];d.x+=n,d.y+=i,this.updatePath(l,d)}},{key:"updateAdjustAnchor",value:function(n,i){i==="sNext"?this.pointsList[1]=n:i==="ePre"&&(this.pointsList[2]=n),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var n=this.pointsList;return n[n.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(n){var i=n.startPoint,a=n.endPoint,l=n.sourceNode,d=n.targetNode,p=lh({start:i,end:a,sourceNode:l,targetNode:d,offset:this.offset}),O=p.sNext,N=p.ePre;this.pointsList=[i,O,N,a],this.initPoints()}}]),t}(vf),cy=un($t.prototype,"path",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),un($t.prototype,"initPoints",[c.k],Object.getOwnPropertyDescriptor($t.prototype,"initPoints"),$t.prototype),un($t.prototype,"updatePoints",[c.k],Object.getOwnPropertyDescriptor($t.prototype,"updatePoints"),$t.prototype),un($t.prototype,"updateStartPoint",[c.k],Object.getOwnPropertyDescriptor($t.prototype,"updateStartPoint"),$t.prototype),un($t.prototype,"updateEndPoint",[c.k],Object.getOwnPropertyDescriptor($t.prototype,"updateEndPoint"),$t.prototype),un($t.prototype,"moveStartPoint",[c.k],Object.getOwnPropertyDescriptor($t.prototype,"moveStartPoint"),$t.prototype),un($t.prototype,"moveEndPoint",[c.k],Object.getOwnPropertyDescriptor($t.prototype,"moveEndPoint"),$t.prototype),un($t.prototype,"updateAdjustAnchor",[c.k],Object.getOwnPropertyDescriptor($t.prototype,"updateAdjustAnchor"),$t.prototype),un($t.prototype,"getAdjustStart",[c.k],Object.getOwnPropertyDescriptor($t.prototype,"getAdjustStart"),$t.prototype),un($t.prototype,"getAdjustEnd",[c.k],Object.getOwnPropertyDescriptor($t.prototype,"getAdjustEnd"),$t.prototype),un($t.prototype,"updateAfterAdjustStartAndEnd",[c.k],Object.getOwnPropertyDescriptor($t.prototype,"updateAfterAdjustStartAndEnd"),$t.prototype),$t);function ZN(o){return o==null}var JN=ZN,Ze,yy,gy,my,by,Oy,Ey,Sy,xy,Py,My,Ty,wy,Ay,Ny,Dy,jy,Cy,Ry;function Uf(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uf=function(t){return typeof t}:Uf=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(o)}function cc(o,e){var t=typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!t){if(Array.isArray(o)||(t=QN(o))||e&&o&&typeof o.length=="number"){t&&(o=t);var r=0,n=function(){};return{s:n,n:function(){return r>=o.length?{done:!0}:{done:!1,value:o[r++]}},e:function(p){throw p},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,a=!1,l;return{s:function(){t=t.call(o)},n:function(){var p=t.next();return i=p.done,p},e:function(p){a=!0,l=p},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(a)throw l}}}}function QN(o,e){if(!!o){if(typeof o=="string")return Zm(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Zm(o,e)}}function Zm(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function Iy(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function Gn(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Iy(Object(t),!0).forEach(function(r){lo(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):Iy(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function wr(o,e,t,r){!t||Object.defineProperty(o,e,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function On(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function Jm(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function Qm(o,e,t){return e&&Jm(o.prototype,e),t&&Jm(o,t),o}function lo(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function _t(o,e,t,r,n){var i={};return Object.keys(r).forEach(function(a){i[a]=r[a]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(a,l){return l(o,e,a)||a},i),n&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(o,e,i),i=null),i}function hr(o,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var Da=(Ze=function(){function o(e,t){On(this,o),lo(this,"id",Eo()),wr(this,"type",yy,this),wr(this,"x",gy,this),wr(this,"y",my,this),wr(this,"text",by,this),wr(this,"properties",Oy,this),wr(this,"_width",Ey,this),wr(this,"_height",Sy,this),wr(this,"anchorsOffset",xy,this),wr(this,"isSelected",Py,this),wr(this,"isHovered",My,this),wr(this,"isDragging",Ty,this),wr(this,"isHitable",wy,this),wr(this,"draggable",Ay,this),wr(this,"visible",Ny,this),lo(this,"virtual",!1),lo(this,"graphModel",void 0),wr(this,"zIndex",Dy,this),wr(this,"state",jy,this),wr(this,"autoToFront",Cy,this),wr(this,"style",Ry,this),lo(this,"BaseType",Or.NODE),lo(this,"modelType",zt.NODE),lo(this,"additionStateData",void 0),lo(this,"targetRules",[]),lo(this,"sourceRules",[]),lo(this,"moveRules",[]),lo(this,"hasSetTargetRules",!1),lo(this,"hasSetSourceRules",!1),this.graphModel=t,this.initNodeData(e),this.setAttributes()}return Qm(o,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var r=this.graphModel.idGenerator,n=r&&r(t.type);n&&(t.id=n);var i=this.createId();i&&(t.id=i)}this.formatText(t),Br(this,Uw(t));var a=this.graphModel.overlapMode;a===Wr.INCREASE&&(this.zIndex=t.zIndex||df())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&typeof t.text=="string"?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&t.text.editable===void 0&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,r=t.x,n=t.y,i=t.value,a=this.properties;Object(c.x)(a)&&(a=Object(c.I)(a));var l={id:this.id,type:this.type,x:this.x,y:this.y,properties:a};return this.graphModel.overlapMode===Wr.INCREASE&&(l.zIndex=this.zIndex),i&&(l.text={x:r,y:n,value:i}),l}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(c.I)(this.properties)}},{key:"getNodeStyle",value:function(){return Gn(Gn({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return ur(t)}},{key:"getAnchorStyle",value:function(t){var r=this.graphModel.theme.anchor;return ur(r)}},{key:"getAnchorLineStyle",value:function(){var t=this.graphModel.theme.anchorLine;return ur(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return ur(t)}},{key:"isAllowConnectedAsSource",value:function(t,r,n){var i=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var a=!0,l,d=0;d<i.length;d++){var p=i[d];if(!p.validate.call(this,this,t,r,n)){a=!1,l=p.message;break}}return{isAllPass:a,msg:l}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,r,n){var i=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var a=!0,l,d=0;d<i.length;d++){var p=i[d];if(!p.validate.call(this,t,this,r,n)){a=!1,l=p.message;break}}return{isAllPass:a,msg:l}}},{key:"isAllowMoveNode",value:function(t,r){var n=!0,i=!0,a=this.moveRules.concat(this.graphModel.nodeMoveRules),l=cc(a),d;try{for(l.s();!(d=l.n()).done;){var p=d.value,O=p(this,t,r);if(!O)return!1;if(Uf(O)==="object"){var N=O;if(N.x===!1&&N.y===!1)return!1;n=n&&N.x,i=i&&N.y}}}catch(B){l.e(B)}finally{l.f()}return{x:n,y:i}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,r=this.id,n=this.x,i=this.y;return t&&t.length>0?t.map(function(a,l){return a.length?(a=a,{id:"".concat(r,"_").concat(l),x:n+a[0],y:i+a[1]}):(a=a,Gn(Gn({},a),{},{x:n+a.x,y:i+a.y,id:a.id||"".concat(r,"_").concat(l)}))}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!JN(t))for(var r=0;r<this.anchors.length;r++){var n=this.anchors[r];if(n.id===t)return n}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1,a=!1;if(n)i=!0,a=!0;else{var l=this.isAllowMoveNode(t,r);typeof l=="boolean"?(i=l,a=l):(i=l.x,a=l.y)}if(i){var d=this.x+t;this.x=d,this.text&&this.moveText(t,0)}if(a){var p=this.y+r;this.y=p,this.text&&this.moveText(0,r)}return i||a}},{key:"getMoveDistance",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1,a=!1,l=0,d=0;if(n)i=!0,a=!0;else{var p=this.isAllowMoveNode(t,r);typeof p=="boolean"?(i=p,a=p):(i=p.x,a=p.y)}if(i&&t){var O=this.x+t;this.x=O,this.text&&this.moveText(t,0),l=t}if(a&&r){var N=this.y+r;this.y=N,this.text&&this.moveText(0,r),d=r}return[l,d]}},{key:"moveTo",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=t-this.x,a=r-this.y;return!n&&!this.isAllowMoveNode(i,a)?!1:(this.text&&this.text&&this.moveText(i,a),this.x=t,this.y=r,!0)}},{key:"moveText",value:function(t,r){var n=this.text,i=n.x,a=n.y,l=n.value,d=n.draggable,p=n.editable;this.text={value:l,editable:p,draggable:d,x:i+t,y:a+r}}},{key:"updateText",value:function(t){this.text=Gn(Gn({},this.text),{},{value:t})}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"setElementState",value:function(t,r){this.state=t,this.additionStateData=r}},{key:"setProperty",value:function(t,r){this.properties=Gn(Gn({},this.properties),{},lo({},t,Nr(r))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=Gn(Gn({},this.properties),Nr(t)),this.setAttributes()}},{key:"setStyle",value:function(t,r){this.style=Gn(Gn({},this.style),{},lo({},t,Nr(r)))}},{key:"setStyles",value:function(t){this.style=Gn(Gn({},this.style),Nr(t))}},{key:"updateStyles",value:function(t){this.style=Gn({},Nr(t))}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=t}},{key:"updateAttributes",value:function(t){Br(this,t)}}]),o}(),yy=_t(Ze.prototype,"type",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),gy=_t(Ze.prototype,"x",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),my=_t(Ze.prototype,"y",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),by=_t(Ze.prototype,"text",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Oy=_t(Ze.prototype,"properties",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ey=_t(Ze.prototype,"_width",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Sy=_t(Ze.prototype,"_height",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),xy=_t(Ze.prototype,"anchorsOffset",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Py=_t(Ze.prototype,"isSelected",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),My=_t(Ze.prototype,"isHovered",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ty=_t(Ze.prototype,"isDragging",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wy=_t(Ze.prototype,"isHitable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ay=_t(Ze.prototype,"draggable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ny=_t(Ze.prototype,"visible",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Dy=_t(Ze.prototype,"zIndex",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),jy=_t(Ze.prototype,"state",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Cy=_t(Ze.prototype,"autoToFront",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ry=_t(Ze.prototype,"style",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_t(Ze.prototype,"incoming",[c.m],Object.getOwnPropertyDescriptor(Ze.prototype,"incoming"),Ze.prototype),_t(Ze.prototype,"outgoing",[c.m],Object.getOwnPropertyDescriptor(Ze.prototype,"outgoing"),Ze.prototype),_t(Ze.prototype,"addNodeMoveRules",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"addNodeMoveRules"),Ze.prototype),_t(Ze.prototype,"move",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"move"),Ze.prototype),_t(Ze.prototype,"getMoveDistance",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"getMoveDistance"),Ze.prototype),_t(Ze.prototype,"moveTo",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"moveTo"),Ze.prototype),_t(Ze.prototype,"moveText",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"moveText"),Ze.prototype),_t(Ze.prototype,"updateText",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"updateText"),Ze.prototype),_t(Ze.prototype,"setSelected",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"setSelected"),Ze.prototype),_t(Ze.prototype,"setHovered",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"setHovered"),Ze.prototype),_t(Ze.prototype,"setHitable",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"setHitable"),Ze.prototype),_t(Ze.prototype,"setElementState",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"setElementState"),Ze.prototype),_t(Ze.prototype,"setProperty",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"setProperty"),Ze.prototype),_t(Ze.prototype,"setProperties",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"setProperties"),Ze.prototype),_t(Ze.prototype,"setStyle",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"setStyle"),Ze.prototype),_t(Ze.prototype,"setStyles",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"setStyles"),Ze.prototype),_t(Ze.prototype,"updateStyles",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"updateStyles"),Ze.prototype),_t(Ze.prototype,"setZIndex",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"setZIndex"),Ze.prototype),_t(Ze.prototype,"updateAttributes",[c.k],Object.getOwnPropertyDescriptor(Ze.prototype,"updateAttributes"),Ze.prototype),Ze);function zo(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zo=function(t){return typeof t}:zo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(o)}var Fo,Ni;function By(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function Ly(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?By(Object(t),!0).forEach(function(r){cl(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):By(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function qm(o,e,t,r){!t||Object.defineProperty(o,e,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function qN(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function _m(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function eb(o,e,t){return e&&_m(o.prototype,e),t&&_m(o,t),o}function dc(){return typeof Reflect!="undefined"&&Reflect.get?dc=Reflect.get:dc=function(e,t,r){var n=pc(e,t);if(!!n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},dc.apply(this,arguments)}function pc(o,e){for(;!Object.prototype.hasOwnProperty.call(o,e)&&(o=Cl(o),o!==null););return o}function _N(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&zy(o,e)}function zy(o,e){return zy=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},zy(o,e)}function Fy(o){var e=hc();return function(){var r=Cl(o),n;if(e){var i=Cl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return eD(this,n)}}function eD(o,e){if(e&&(zo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vc(o)}function vc(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function hc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function Cl(o){return Cl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cl(o)}function cl(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function yc(o,e,t,r,n){var i={};return Object.keys(r).forEach(function(a){i[a]=r[a]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(a,l){return l(o,e,a)||a},i),n&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(o,e,i),i=null),i}function tb(o,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var Hy=(Fo=function(o){_N(t,o);var e=Fy(t);function t(){var r;qN(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),cl(vc(r),"modelType",zt.CIRCLE_NODE),qm(vc(r),"r",Ni,vc(r)),r}return eb(t,[{key:"width",get:function(){return this.r*2}},{key:"height",get:function(){return this.r*2}},{key:"getNodeStyle",value:function(){var n=dc(Cl(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.circle;return Ly(Ly({},n),ur(i))}},{key:"getDefaultAnchor",value:function(){var n=this.x,i=this.y,a=this.r;return[{x:n,y:i-a,id:"".concat(this.id,"_0")},{x:n+a,y:i,id:"".concat(this.id,"_1")},{x:n,y:i+a,id:"".concat(this.id,"_2")},{x:n-a,y:i,id:"".concat(this.id,"_3")}]}}]),t}(Da),Ni=yc(Fo.prototype,"r",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),yc(Fo.prototype,"width",[c.m],Object.getOwnPropertyDescriptor(Fo.prototype,"width"),Fo.prototype),yc(Fo.prototype,"height",[c.m],Object.getOwnPropertyDescriptor(Fo.prototype,"height"),Fo.prototype),Fo),Gy=Hy,TR=u(127);function Uy(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uy=function(t){return typeof t}:Uy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uy(o)}var En,Bn,$y;function gc(o,e){return rD(o)||nb(o,e)||tD(o,e)||ky()}function ky(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tD(o,e){if(!!o){if(typeof o=="string")return rb(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rb(o,e)}}function rb(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function nb(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function rD(o){if(Array.isArray(o))return o}function ob(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function Xy(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ob(Object(t),!0).forEach(function(r){dl(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):ob(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function Yy(o,e,t,r){!t||Object.defineProperty(o,e,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function ib(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function ab(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function ub(o,e,t){return e&&ab(o.prototype,e),t&&ab(o,t),o}function mc(){return typeof Reflect!="undefined"&&Reflect.get?mc=Reflect.get:mc=function(e,t,r){var n=bc(e,t);if(!!n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},mc.apply(this,arguments)}function bc(o,e){for(;!Object.prototype.hasOwnProperty.call(o,e)&&(o=Bl(o),o!==null););return o}function nD(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Wy(o,e)}function Wy(o,e){return Wy=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Wy(o,e)}function Ky(o){var e=Il();return function(){var r=Bl(o),n;if(e){var i=Bl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return oD(this,n)}}function oD(o,e){if(e&&(Uy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rl(o)}function Rl(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function Il(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function Bl(o){return Bl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bl(o)}function dl(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function pl(o,e,t,r,n){var i={};return Object.keys(r).forEach(function(a){i[a]=r[a]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(a,l){return l(o,e,a)||a},i),n&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(o,e,i),i=null),i}function $f(o,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var Vy=(En=function(o){nD(t,o);var e=Ky(t);function t(){var r;ib(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),dl(Rl(r),"modelType",zt.DIAMOND_NODE),Yy(Rl(r),"rx",Bn,Rl(r)),Yy(Rl(r),"ry",$y,Rl(r)),r}return ub(t,[{key:"getNodeStyle",value:function(){var n=mc(Bl(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.diamond;return Xy(Xy({},n),ur(i))}},{key:"points",get:function(){var n=this.x,i=this.y,a=this.rx,l=this.ry;return[[n,i-l],[n+a,i],[n,i+l],[n-a,i]]}},{key:"pointsPosition",get:function(){var n=this.points.map(function(i){return{x:i[0],y:i[1]}});return n}},{key:"width",get:function(){var n=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(a){var l=gc(a,1),d=l[0];d<n&&(n=d),d>i&&(i=d)}),i-n}},{key:"height",get:function(){var n=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(a){var l=gc(a,2),d=l[1];d<n&&(n=d),d>i&&(i=d)}),i-n}},{key:"getDefaultAnchor",value:function(){var n=this;return this.points.map(function(i,a){var l=gc(i,2),d=l[0],p=l[1];return{x:d,y:p,id:"".concat(n.id,"_").concat(a)}})}}]),t}(Da),Bn=pl(En.prototype,"rx",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),$y=pl(En.prototype,"ry",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),pl(En.prototype,"points",[c.m],Object.getOwnPropertyDescriptor(En.prototype,"points"),En.prototype),pl(En.prototype,"pointsPosition",[c.m],Object.getOwnPropertyDescriptor(En.prototype,"pointsPosition"),En.prototype),pl(En.prototype,"width",[c.m],Object.getOwnPropertyDescriptor(En.prototype,"width"),En.prototype),pl(En.prototype,"height",[c.m],Object.getOwnPropertyDescriptor(En.prototype,"height"),En.prototype),En),Zy=Vy;function Jy(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jy=function(t){return typeof t}:Jy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jy(o)}var Po,fi,Qy;function qy(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function _y(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qy(Object(t),!0).forEach(function(r){vl(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):qy(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function eg(o,e,t,r){!t||Object.defineProperty(o,e,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function lb(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function sb(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function fb(o,e,t){return e&&sb(o.prototype,e),t&&sb(o,t),o}function Oc(){return typeof Reflect!="undefined"&&Reflect.get?Oc=Reflect.get:Oc=function(e,t,r){var n=Ec(e,t);if(!!n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},Oc.apply(this,arguments)}function Ec(o,e){for(;!Object.prototype.hasOwnProperty.call(o,e)&&(o=Fl(o),o!==null););return o}function iD(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&tg(o,e)}function tg(o,e){return tg=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},tg(o,e)}function rg(o){var e=zl();return function(){var r=Fl(o),n;if(e){var i=Fl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return aD(this,n)}}function aD(o,e){if(e&&(Jy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ll(o)}function Ll(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function zl(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function Fl(o){return Fl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fl(o)}function vl(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function kf(o,e,t,r,n){var i={};return Object.keys(r).forEach(function(a){i[a]=r[a]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(a,l){return l(o,e,a)||a},i),n&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(o,e,i),i=null),i}function ng(o,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var og=(Po=function(o){iD(t,o);var e=rg(t);function t(){var r;lb(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),vl(Ll(r),"modelType",zt.ELLIPSE_NODE),eg(Ll(r),"rx",fi,Ll(r)),eg(Ll(r),"ry",Qy,Ll(r)),r}return fb(t,[{key:"getNodeStyle",value:function(){var n=Oc(Fl(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.ellipse;return _y(_y({},n),ur(i))}},{key:"width",get:function(){return this.rx*2}},{key:"height",get:function(){return this.ry*2}},{key:"getDefaultAnchor",value:function(){var n=this.x,i=this.y,a=this.rx,l=this.ry;return[{x:n,y:i-l,id:"".concat(this.id,"_0")},{x:n+a,y:i,id:"".concat(this.id,"_1")},{x:n,y:i+l,id:"".concat(this.id,"_2")},{x:n-a,y:i,id:"".concat(this.id,"_3")}]}}]),t}(Da),fi=kf(Po.prototype,"rx",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Qy=kf(Po.prototype,"ry",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),kf(Po.prototype,"width",[c.m],Object.getOwnPropertyDescriptor(Po.prototype,"width"),Po.prototype),kf(Po.prototype,"height",[c.m],Object.getOwnPropertyDescriptor(Po.prototype,"height"),Po.prototype),Po),ig=og;function ag(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ag=function(t){return typeof t}:ag=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(o)}var to,Mo;function Sc(o,e){return lD(o)||db(o,e)||uD(o,e)||ug()}function ug(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uD(o,e){if(!!o){if(typeof o=="string")return cb(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cb(o,e)}}function cb(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function db(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function lD(o){if(Array.isArray(o))return o}function pb(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function lg(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pb(Object(t),!0).forEach(function(r){hl(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):pb(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function vb(o,e,t,r){!t||Object.defineProperty(o,e,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function sD(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function hb(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function yb(o,e,t){return e&&hb(o.prototype,e),t&&hb(o,t),o}function xc(){return typeof Reflect!="undefined"&&Reflect.get?xc=Reflect.get:xc=function(e,t,r){var n=Pc(e,t);if(!!n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},xc.apply(this,arguments)}function Pc(o,e){for(;!Object.prototype.hasOwnProperty.call(o,e)&&(o=Hl(o),o!==null););return o}function fD(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&sg(o,e)}function sg(o,e){return sg=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},sg(o,e)}function fg(o){var e=Tc();return function(){var r=Hl(o),n;if(e){var i=Hl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return cD(this,n)}}function cD(o,e){if(e&&(ag(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mc(o)}function Mc(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function Tc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function Hl(o){return Hl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hl(o)}function hl(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function Xf(o,e,t,r,n){var i={};return Object.keys(r).forEach(function(a){i[a]=r[a]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(a,l){return l(o,e,a)||a},i),n&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(o,e,i),i=null),i}function cg(o,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var dg=(to=function(o){fD(t,o);var e=fg(t);function t(){var r;sD(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),hl(Mc(r),"modelType",zt.POLYGON_NODE),vb(Mc(r),"points",Mo,Mc(r)),r}return yb(t,[{key:"getNodeStyle",value:function(){var n=xc(Hl(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.polygon;return lg(lg({},n),ur(i))}},{key:"pointsPosition",get:function(){var n=this.x,i=this.y,a=this.width,l=this.height,d=this.points.map(function(p){return{x:p[0]+n-a/2,y:p[1]+i-l/2}});return d}},{key:"width",get:function(){var n=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(a){var l=Sc(a,1),d=l[0];d<n&&(n=d),d>i&&(i=d)}),i-n}},{key:"height",get:function(){var n=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(a){var l=Sc(a,2),d=l[1];d<n&&(n=d),d>i&&(i=d)}),i-n}},{key:"getDefaultAnchor",value:function(){var n=this,i=this.x,a=this.y,l=this.width,d=this.height,p=this.points;return p.map(function(O,N){var B=Sc(O,2),$=B[0],J=B[1];return{x:i+$-l/2,y:a+J-d/2,id:"".concat(n.id,"_").concat(N)}})}}]),t}(Da),Mo=Xf(to.prototype,"points",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Xf(to.prototype,"pointsPosition",[c.m],Object.getOwnPropertyDescriptor(to.prototype,"pointsPosition"),to.prototype),Xf(to.prototype,"width",[c.m],Object.getOwnPropertyDescriptor(to.prototype,"width"),to.prototype),Xf(to.prototype,"height",[c.m],Object.getOwnPropertyDescriptor(to.prototype,"height"),to.prototype),to),pg=dg;function vg(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vg=function(t){return typeof t}:vg=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(o)}var Gl,wc;function hg(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function yg(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hg(Object(t),!0).forEach(function(r){yl(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):hg(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function gb(o,e,t,r){!t||Object.defineProperty(o,e,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function dD(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function mb(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function bb(o,e,t){return e&&mb(o.prototype,e),t&&mb(o,t),o}function Ac(){return typeof Reflect!="undefined"&&Reflect.get?Ac=Reflect.get:Ac=function(e,t,r){var n=Nc(e,t);if(!!n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},Ac.apply(this,arguments)}function Nc(o,e){for(;!Object.prototype.hasOwnProperty.call(o,e)&&(o=Ul(o),o!==null););return o}function pD(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&gg(o,e)}function gg(o,e){return gg=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},gg(o,e)}function mg(o){var e=jc();return function(){var r=Ul(o),n;if(e){var i=Ul(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vD(this,n)}}function vD(o,e){if(e&&(vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dc(o)}function Dc(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function jc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function Ul(o){return Ul=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ul(o)}function yl(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function Ob(o,e,t,r,n){var i={};return Object.keys(r).forEach(function(a){i[a]=r[a]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(a,l){return l(o,e,a)||a},i),n&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(o,e,i),i=null),i}function JC(o,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var bg=(Gl=function(o){pD(t,o);var e=mg(t);function t(){var r;dD(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),yl(Dc(r),"modelType",zt.RECT_NODE),gb(Dc(r),"radius",wc,Dc(r)),r}return bb(t,[{key:"getDefaultAnchor",value:function(){var n=this.x,i=this.y,a=this.width,l=this.height;return[{x:n,y:i-l/2,id:"".concat(this.id,"_0")},{x:n+a/2,y:i,id:"".concat(this.id,"_1")},{x:n,y:i+l/2,id:"".concat(this.id,"_2")},{x:n-a/2,y:i,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var n=Ac(Ul(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.rect;return yg(yg({},n),ur(i))}}]),t}(Da),wc=Ob(Gl.prototype,"radius",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Gl),Og=bg;function Eg(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Eg=function(t){return typeof t}:Eg=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(o)}var ci;function va(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function Sg(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?va(Object(t),!0).forEach(function(r){gl(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):va(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function Eb(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function Sb(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function xb(o,e,t){return e&&Sb(o.prototype,e),t&&Sb(o,t),o}function Cc(){return typeof Reflect!="undefined"&&Reflect.get?Cc=Reflect.get:Cc=function(e,t,r){var n=Rc(e,t);if(!!n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},Cc.apply(this,arguments)}function Rc(o,e){for(;!Object.prototype.hasOwnProperty.call(o,e)&&(o=$l(o),o!==null););return o}function hD(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&xg(o,e)}function xg(o,e){return xg=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},xg(o,e)}function Pg(o){var e=Mb();return function(){var r=$l(o),n;if(e){var i=$l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yD(this,n)}}function yD(o,e){if(e&&(Eg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pb(o)}function Pb(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function Mb(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function $l(o){return $l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$l(o)}function gl(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function Mg(o,e,t,r,n){var i={};return Object.keys(r).forEach(function(a){i[a]=r[a]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(a,l){return l(o,e,a)||a},i),n&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(o,e,i),i=null),i}var Yf=(ci=function(o){hD(t,o);var e=Pg(t);function t(){var r;Eb(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),gl(Pb(r),"modelType",zt.TEXT_NODE),r}return xb(t,[{key:"getTextStyle",value:function(){var n=Cc($l(t.prototype),"getTextStyle",this).call(this),i=this.graphModel.theme.text;return Sg(Sg({},n),ur(i))}},{key:"width",get:function(){var n=String(this.text.value).split(/[\r\n]/g),i=this.getTextStyle(),a=i.fontSize,l=cf({rows:n,fontSize:a,rowsLength:n.length}),d=l.width;return d}},{key:"height",get:function(){var n=String(this.text.value).split(/[\r\n]/g),i=this.getTextStyle(),a=i.fontSize,l=cf({rows:n,fontSize:a,rowsLength:n.length}),d=l.height;return d}}]),t}(Da),Mg(ci.prototype,"width",[c.m],Object.getOwnPropertyDescriptor(ci.prototype,"width"),ci.prototype),Mg(ci.prototype,"height",[c.m],Object.getOwnPropertyDescriptor(ci.prototype,"height"),ci.prototype),ci),Tg=Yf;function wg(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wg=function(t){return typeof t}:wg=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(o)}function Ic(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function Tb(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function wb(o,e,t){return e&&Tb(o.prototype,e),t&&Tb(o,t),o}function gD(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Ag(o,e)}function Ag(o,e){return Ag=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Ag(o,e)}function Ng(o){var e=Nb();return function(){var r=Bc(o),n;if(e){var i=Bc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mD(this,n)}}function mD(o,e){if(e&&(wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ab(o)}function Ab(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function Nb(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function Bc(o){return Bc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bc(o)}function Lc(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var zc=function(o){gD(t,o);var e=Ng(t);function t(){var r;Ic(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),Lc(Ab(r),"modelType",zt.HTML_NODE),r}return wb(t,[{key:"getDefaultAnchor",value:function(){var n=this.x,i=this.y,a=this.width,l=this.height;return[{x:n,y:i-l/2,id:"".concat(this.id,"_0")},{x:n+a/2,y:i,id:"".concat(this.id,"_1")},{x:n,y:i+l/2,id:"".concat(this.id,"_2")},{x:n-a/2,y:i,id:"".concat(this.id,"_3")}]}}]),t}(Da),Dg=zc,Di,Ho,jg,Cg;function Rg(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function Db(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rg(Object(t),!0).forEach(function(r){Rb(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):Rg(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function Ig(o,e,t,r){!t||Object.defineProperty(o,e,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function Bg(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function jb(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function Cb(o,e,t){return e&&jb(o.prototype,e),t&&jb(o,t),o}function Rb(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function kl(o,e,t,r,n){var i={};return Object.keys(r).forEach(function(a){i[a]=r[a]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(a,l){return l(o,e,a)||a},i),n&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(o,e,i),i=null),i}function Fc(o,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var bD=(Di=function(){function o(e){Bg(this,o),Rb(this,"graphModel",void 0),Ig(this,"isShowHorizontal",Ho,this),Ig(this,"isShowVertical",jg,this),Ig(this,"position",Cg,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=e}return Cb(o,[{key:"getStyle",value:function(){return Db({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,r){for(var n=t.x,i=t.y,a=!1,l=!1,d=0;d<r.length;d++){var p=r[d];if(p.id!==t.id&&(n===p.x&&(a=!0),i===p.y&&(l=!0),a&&l))break}return{isShowVertical:a,isShowHorizontal:l,position:{x:n,y:i}}}},{key:"getHorizontalSnapline",value:function(t,r){var n=!1,i,a=t.id,l;if(a){var d=this.graphModel.fakerNode;if(d&&d.id===a)l=Kr(d);else{var p=this.graphModel.getNodeModelById(a);l=Kr(p)}}for(var O=0;O<r.length;O++){var N=r[O];if(N.id!==t.id){var B=Kr(N);if(B.minY===l.minY||B.maxY===l.minY){n=!0,i=l.minY;break}if(B.minY===l.maxY||B.maxY===l.maxY){n=!0,i=l.maxY;break}}}return Br({isShowHorizontal:n,position:{y:i}})}},{key:"getVerticalSnapline",value:function(t,r){var n=!1,i,a=t.id,l;if(a){var d=this.graphModel.fakerNode;if(d&&d.id===a)l=Kr(d);else{var p=this.graphModel.getNodeModelById(a);l=Kr(p)}}for(var O=0;O<r.length;O++){var N=r[O];if(N.id!==t.id){var B=Kr(N);if(B.minX===l.minX||B.maxX===l.minX){n=!0,i=l.minX;break}if(B.minX===l.maxX||B.maxX===l.maxX){n=!0,i=l.maxX;break}}}return Br({isShowVertical:n,position:{x:i}})}},{key:"getSnapLinePosition",value:function(t,r){var n=this.getCenterSnapLine(t,r),i=n.isShowHorizontal,a=n.isShowVertical;if(!i){var l=this.getHorizontalSnapline(t,r);l.isShowHorizontal&&(n.isShowHorizontal=l.isShowHorizontal,n.position.y=l.position.y)}if(!a){var d=this.getVerticalSnapline(t,r);d.isShowVertical&&(n.isShowVertical=d.isShowVertical,n.position.x=d.position.x)}return n}},{key:"setSnaplineInfo",value:function(t){var r=t.isShowHorizontal,n=t.isShowVertical,i=t.position;this.position=i,this.isShowHorizontal=r,this.isShowVertical=n}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var r=this.graphModel.nodes,n=this.getSnapLinePosition(t,r);this.setSnaplineInfo(n)}}]),o}(),Ho=kl(Di.prototype,"isShowHorizontal",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jg=kl(Di.prototype,"isShowVertical",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cg=kl(Di.prototype,"position",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kl(Di.prototype,"clearSnapline",[c.k],Object.getOwnPropertyDescriptor(Di.prototype,"clearSnapline"),Di.prototype),kl(Di.prototype,"setNodeSnapLine",[c.k],Object.getOwnPropertyDescriptor(Di.prototype,"setNodeSnapLine"),Di.prototype),Di),Xl=new Map,Yl=function(e){var t=Eo();function r(){e();var i=Xl.get(t);if(i){var a=window.requestAnimationFrame(r);Xl.set(t,a)}}var n=window.requestAnimationFrame(r);return Xl.set(t,n),t},Wf=function(e){var t=Xl.get(e);t&&(window.cancelAnimationFrame(t),Xl.delete(e))};function ml(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ml=function(t){return typeof t}:ml=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(o)}function ja(){return ja=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},ja.apply(this,arguments)}function Wl(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function Kf(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wl(Object(t),!0).forEach(function(r){To(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):Wl(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function Hc(o,e){return SD(o)||Bb(o,e)||ED(o,e)||OD()}function OD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ED(o,e){if(!!o){if(typeof o=="string")return Ib(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ib(o,e)}}function Ib(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function Bb(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function SD(o){if(Array.isArray(o))return o}function xD(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function Lb(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function zb(o,e,t){return e&&Lb(o.prototype,e),t&&Lb(o,t),o}function PD(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Lg(o,e)}function Lg(o,e){return Lg=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Lg(o,e)}function zg(o){var e=Ci();return function(){var r=Gc(o),n;if(e){var i=Gc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return MD(this,n)}}function MD(o,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ji(o)}function ji(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function Ci(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function Gc(o){return Gc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gc(o)}function To(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var Ri=function(o){PD(t,o);var e=zg(t);function t(){var r;return xD(this,t),r=e.call(this),To(ji(r),"preTargetNode",void 0),To(ji(r),"sourceRuleResults",void 0),To(ji(r),"targetRuleResults",void 0),To(ji(r),"dragHandler",void 0),To(ji(r),"t",void 0),To(ji(r),"onDragStart",function(n){var i=n.event,a=r.props,l=a.anchorData,d=a.nodeModel,p=a.graphModel,O=p.overlapMode;p.selectNodeById(d.id),O!==Wr.INCREASE&&d.autoToFront&&p.toFront(d.id),p.eventCenter.emit(Mt.ANCHOR_DRAGSTART,{data:l,e:i,nodeModel:d}),r.setState({startX:l.x,startY:l.y,endX:l.x,endY:l.y})}),To(ji(r),"onDraging",function(n){var i=n.event,a=r.props,l=a.graphModel,d=a.nodeModel,p=a.anchorData,O=l.transformModel,N=l.eventCenter,B=l.width,$=l.height,J=l.editConfigModel,fe=J.autoExpand,pe=J.stopMoveGraph,he=i.clientX,Ne=i.clientY,Fe=l.getPointByClient({x:he,y:Ne}),Le=Fe.domOverlayPosition,ke=Le.x,rt=Le.y,lt=Fe.canvasOverlayPosition,Pt=lt.x,Ot=lt.y;r.t&&Wf(r.t);var St=[],Vt=10;ke<10?St=[Vt,0]:ke+10>B?St=[-Vt,0]:rt<10?St=[0,Vt]:rt+10>$&&(St=[0,-Vt]),r.setState({endX:Pt,endY:Ot,draging:!0}),r.moveAnchorEnd(Pt,Ot),St.length>0&&!pe&&fe&&(r.t=Yl(function(){var Cr=St,tn=Hc(Cr,2),Sn=tn[0],kn=tn[1];O.translate(Sn,kn);var $o=r.state,No=$o.endX,Do=$o.endY;r.setState({endX:No-Sn,endY:Do-kn}),r.moveAnchorEnd(No-Sn,Do-kn)})),N.emit(Mt.ANCHOR_DRAG,{data:p,e:i,nodeModel:d})}),To(ji(r),"onDragEnd",function(n){r.t&&Wf(r.t),r.checkEnd(n),r.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),r.sourceRuleResults.clear(),r.targetRuleResults.clear()}),To(ji(r),"checkEnd",function(n){var i=r.props,a=i.graphModel,l=i.nodeModel,d=i.anchorData,p=d.x,O=d.y,N=d.id,B=a.edgeType,$=r.state,J=$.endX,fe=$.endY,pe=$.draging,he=bu({x:J,y:fe},a);if(r.preTargetNode&&r.preTargetNode.state!==Kt.DEFAULT&&r.preTargetNode.setElementState(Kt.DEFAULT),!!pe&&he&&he.node){var Ne=he.node,Fe=he.anchor.id,Le="".concat(l.id,"_").concat(Ne.id,"_").concat(Fe,"_").concat(N),ke=r.sourceRuleResults.get(Le)||{},rt=ke.isAllPass,lt=ke.msg,Pt=r.targetRuleResults.get(Le)||{},Ot=Pt.isAllPass,St=Pt.msg;if(rt&&Ot){Ne.setElementState(Kt.DEFAULT);var Vt=a.edgeGenerator(l.getData(),a.getNodeModelById(he.node.id).getData()),Cr=a.addEdge(Kf(Kf({},Vt),{},{sourceNodeId:l.id,sourceAnchorId:N,startPoint:{x:p,y:O},targetNodeId:he.node.id,targetAnchorId:he.anchor.id,endPoint:{x:he.anchor.x,y:he.anchor.y}})),tn=r.props.anchorData;a.eventCenter.emit(Mt.ANCHOR_DROP,{data:tn,e:n,nodeModel:l,edgeModel:Cr})}else{var Sn=Ne.getData();a.eventCenter.emit(Mt.CONNECTION_NOT_ALLOWED,{data:Sn,msg:St||lt})}}}),r.sourceRuleResults=new Map,r.targetRuleResults=new Map,r.state={startX:0,startY:0,endX:0,endY:0,draging:!1},r.dragHandler=new So({onDragStart:r.onDragStart,onDraging:r.onDraging,onDragEnd:r.onDragEnd}),r}return zb(t,[{key:"getAnchorShape",value:function(){var n=this.props,i=n.anchorData,a=n.style,l=n.node,d=l.getAnchorShape(i);if(d)return d;var p=i.x,O=i.y,N=Kf(Kf({},a),a.hover);return Object(Se.g)("g",null,Object(Se.g)(da,ja({className:"lf-node-anchor-hover"},N,{x:p,y:O})),Object(Se.g)(da,ja({className:"lf-node-anchor"},a,{x:p,y:O})))}},{key:"moveAnchorEnd",value:function(n,i){var a=this.props,l=a.graphModel,d=a.nodeModel,p=a.anchorData,O=bu({x:n,y:i},l);if(O){var N=O.node,B=O.anchor.id;if(this.preTargetNode&&this.preTargetNode!==O.node&&this.preTargetNode.setElementState(Kt.DEFAULT),p.id===B)return;this.preTargetNode=N;var $="".concat(d.id,"_").concat(N.id,"_").concat(B,"_").concat(p.id);if(!this.targetRuleResults.has($)){var J=O.anchor,fe=d.isAllowConnectedAsSource(N,p,J),pe=N.isAllowConnectedAsTarget(d,p,J);this.sourceRuleResults.set($,Eu(fe)),this.targetRuleResults.set($,Eu(pe))}var he=this.sourceRuleResults.get($),Ne=he.isAllPass,Fe=this.targetRuleResults.get($),Le=Fe.isAllPass;Ne&&Le?N.setElementState(Kt.ALLOW_CONNECT):N.setElementState(Kt.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Kt.DEFAULT&&this.preTargetNode.setElementState(Kt.DEFAULT)}},{key:"isShowLine",value:function(){var n=this.state,i=n.startX,a=n.startY,l=n.endX,d=n.endY,p=yn(i,a,l,d);return p>10}},{key:"render",value:function(){var n=this,i=this.state,a=i.startX,l=i.startY,d=i.endX,p=i.endY,O=this.props,N=O.anchorData.edgeAddable,B=O.edgeStyle;return Object(Se.g)("g",{className:"lf-anchor"},Object(Se.g)("g",{onMouseDown:function(J){N!==!1&&n.dragHandler.handleMouseDown(J)}},this.getAnchorShape()),this.isShowLine()&&Object(Se.g)(xo,ja({x1:a,y1:l,x2:d,y2:p},B,{"pointer-events":"none"})))}}]),t}(Se.a),TD=Ri,QC=u(63);function wD(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function Fb(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(t),!0).forEach(function(r){AD(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):wD(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function AD(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function Uc(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uc=function(t){return typeof t}:Uc=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(o)}function $c(o,e){return jD(o)||Gb(o,e)||DD(o,e)||ND()}function ND(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DD(o,e){if(!!o){if(typeof o=="string")return Hb(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Hb(o,e)}}function Hb(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function Gb(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function jD(o){if(Array.isArray(o))return o}function Ub(o){var e=o.x,t=e===void 0?0:e,r=o.y,n=r===void 0?0:r,i=o.value,a=o.fontSize,l=o.fill,d=l===void 0?"currentColor":l,p=o.overflowMode,O=p===void 0?"default":p,N=o.textWidth,B=N===void 0?"":N,$=o.model,J={textAnchor:"middle","dominant-baseline":"middle",x:t,y:n,fill:d};if(Object.entries(o).forEach(function(Le){var ke=$c(Le,2),rt=ke[0],lt=ke[1],Pt=Uc(lt);Pt!=="object"&&(J[rt]=lt)}),i){var fe=String(i).split(/[\r\n]/g),pe=fe.length;if(O!=="default"){var he=$.BaseType,Ne=$.modelType;if(he===Or.NODE&&Ne!==zt.TEXT_NODE||he===Or.EDGE&&B)return $b(o)}if(pe>1){var Fe=fe.map(function(Le,ke){var rt=a+2,lt=(ke-(pe-1)/2)*rt;return Object(Se.g)("tspan",{className:"lf-text-tspan",x:t,y:n+lt},Le)});return Object(Se.g)("text",J,Fe)}return Object(Se.g)("text",J,i)}}function $b(o){var e=o.value,t=o.fontSize,r=o.model,n=o.fontFamily,i=n===void 0?"":n,a=o.lineHeight,l=o.wrapPadding,d=l===void 0?"0, 0":l,p=o.overflowMode,O=o.x,N=o.y,B=r.width,$=r.textHeight,J=o.textWidth||B,fe=String(e).split(/[\r\n]/g),pe=fe.length,he=gv({rows:fe,style:{fontSize:"".concat(t,"px"),width:"".concat(J,"px"),fontFamily:i,lineHeight:a,padding:d},rowsLength:pe,className:"lf-get-text-height"}),Ne=r.height>he?r.height:he;$&&(Ne=$);var Fe=p==="ellipsis";return Object(Se.g)("g",null,Object(Se.g)("foreignObject",{width:J,height:Ne,x:O-J/2,y:N-Ne/2},Object(Se.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Ne,width:J,padding:d}},Object(Se.g)("div",{className:Fe?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:Fb({},o)},fe.map(function(Le){return Object(Se.g)("div",{className:"lf-node-text--auto-wrap-inner"},Le)})))))}function kc(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kc=function(t){return typeof t}:kc=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(o)}function Kl(){return Kl=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},Kl.apply(this,arguments)}function Fg(o,e){return ID(o)||Xb(o,e)||RD(o,e)||CD()}function CD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RD(o,e){if(!!o){if(typeof o=="string")return kb(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kb(o,e)}}function kb(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function Xb(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function ID(o){if(Array.isArray(o))return o}function BD(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function Yb(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function Wb(o,e,t){return e&&Yb(o.prototype,e),t&&Yb(o,t),o}function LD(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Hg(o,e)}function Hg(o,e){return Hg=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Hg(o,e)}function Gg(o){var e=Ra();return function(){var r=Xc(o),n;if(e){var i=Xc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return zD(this,n)}}function zD(o,e){if(e&&(kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ca(o)}function Ca(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function Ra(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function Xc(o){return Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xc(o)}function Ii(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var Ia=function(o){LD(t,o);var e=Gg(t);function t(r){var n;BD(this,t),n=e.call(this),Ii(Ca(n),"dragHandler",void 0),Ii(Ca(n),"sumDeltaX",0),Ii(Ca(n),"sumDeltaY",0),Ii(Ca(n),"stepDrag",void 0),Ii(Ca(n),"onDraging",function(l){var d=l.deltaX,p=l.deltaY,O=n.props,N=O.model,B=O.graphModel.transformModel,$=B.fixDeltaXY(d,p),J=Fg($,2),fe=J[0],pe=J[1];N.moveText(fe,pe)}),Ii(Ca(n),"dblClickHandler",function(){var l=n.props.editable;if(l){var d=n.props.model;d.setElementState(Kt.TEXT_EDIT)}}),Ii(Ca(n),"mouseDownHandle",function(l){var d=n.props,p=d.draggable,O=d.graphModel.editConfigModel.nodeTextDraggable;(p||O)&&n.stepDrag.handleMouseDown(l)});var i=r.model,a=r.draggable;return n.stepDrag=new So({onDraging:n.onDraging,step:1,model:i,isStopPropagation:a}),n}return Wb(t,[{key:"getShape",value:function(){var n=this.props,i=n.model,a=n.graphModel,l=i.text,d=a.editConfigModel,p=l.value,O=l.x,N=l.y,B=l.editable,$=l.draggable,J={x:O,y:N,className:"",value:p};B?J.className="lf-element-text":$||d.nodeTextDraggable?J.className="lf-text-draggable":J.className="lf-text-disabled";var fe=i.getTextStyle();return Object(Se.g)(Ub,Kl({},J,fe,{model:i}))}},{key:"render",value:function(){var n=this.props.model.text;if(n)return Object(Se.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),t}(Se.a),Kb=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Yc(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yc=function(t){return typeof t}:Yc=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(o)}function bl(o,e){return HD(o)||Zb(o,e)||FD(o,e)||Wc()}function Wc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FD(o,e){if(!!o){if(typeof o=="string")return Vb(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Vb(o,e)}}function Vb(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function Zb(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function HD(o){if(Array.isArray(o))return o}function GD(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function Jb(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function Qb(o,e,t){return e&&Jb(o.prototype,e),t&&Jb(o,t),o}function UD(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Ug(o,e)}function Ug(o,e){return Ug=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Ug(o,e)}function $g(o){var e=$n();return function(){var r=Kc(o),n;if(e){var i=Kc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $D(this,n)}}function $D(o,e){if(e&&(Yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Un(o)}function Un(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function $n(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function Kc(o){return Kc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Kc(o)}function Mn(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var qr=function(o){UD(t,o);var e=$g(t);function t(r){var n;GD(this,t),n=e.call(this),Mn(Un(n),"t",void 0),Mn(Un(n),"moveOffset",void 0),Mn(Un(n),"stepDrag",void 0),Mn(Un(n),"contextMenuTime",void 0),Mn(Un(n),"startTime",void 0),Mn(Un(n),"clickTimer",void 0),Mn(Un(n),"onDragStart",function(p){var O=p.event,N=O.clientX,B=O.clientY,$=n.props,J=$.model,fe=$.graphModel,pe=fe.getPointByClient({x:N,y:B}),he=pe.canvasOverlayPosition,Ne=he.x,Fe=he.y;n.moveOffset={x:J.x-Ne,y:J.y-Fe}}),Mn(Un(n),"onDraging",function(p){var O=p.event,N=n.props,B=N.model,$=N.graphModel,J=$.editConfigModel,fe=J.stopMoveGraph,pe=J.autoExpand,he=$.transformModel,Ne=$.width,Fe=$.height,Le=$.gridSize;B.isDragging=!0;var ke=O.clientX,rt=O.clientY,lt=$.getPointByClient({x:ke,y:rt}),Pt=lt.canvasOverlayPosition,Ot=Pt.x,St=Pt.y,Vt=he.CanvasPointToHtmlPoint([Ot,St]),Cr=bl(Vt,2),tn=Cr[0],Sn=Cr[1];if(Ot=Ot+n.moveOffset.x,St=St+n.moveOffset.y,Ot=Oo(Ot,Le),St=Oo(St,Le),!Ne||!Fe){$.moveNode2Coordinate(B.id,Ot,St);return}var kn=tn<0||Sn<0||tn>Ne||Sn>Fe;if(!(pe&&!fe&&kn)){var $o=he.CanvasPointToHtmlPoint([Ot-B.width/2,St-B.height/2]),No=bl($o,2),Do=No[0],Ga=No[1],Wm=he.CanvasPointToHtmlPoint([Ot+B.width/2,St+B.height/2]),gE=bl(Wm,2),mE=gE[0],ZC=gE[1],Cd=Math.max(Le,20),ma=[];Do<0?ma=[Cd,0]:mE>$.width?ma=[-Cd,0]:Ga<0?ma=[0,Cd]:ZC>$.height&&(ma=[0,-Cd]),n.t&&Wf(n.t),ma.length>0&&!fe&&pe?n.t=Yl(function(){var Ts=ma,bE=bl(Ts,2),Km=bE[0],Vm=bE[1];he.translate(Km,Vm),$.moveNode(B.id,-Km/he.SCALE_X,-Vm/he.SCALE_X)}):$.moveNode2Coordinate(B.id,Ot,St)}}),Mn(Un(n),"onDragEnd",function(){n.t&&Wf(n.t);var p=n.props.model;p.isDragging=!1}),Mn(Un(n),"handleClick",function(p){if(!!n.startTime){var O=new Date().getTime()-n.startTime;if(!(O>200)){var N=n.props,B=N.model,$=N.graphModel,J=B.getData(),fe=$.getPointByClient({x:p.clientX,y:p.clientY}),pe={data:J,e:p,position:fe},he=p.button===2,Ne=p.detail===2;if(!he){var Fe=$.editConfigModel;$.selectNodeById(B.id,fv(p,Fe)),n.toFront(),Ne?(Fe.nodeTextEdit&&B.text.editable&&(B.setSelected(!1),$.setElementStateById(B.id,Kt.TEXT_EDIT)),$.eventCenter.emit(Mt.NODE_DBCLICK,pe)):($.eventCenter.emit(Mt.ELEMENT_CLICK,pe),$.eventCenter.emit(Mt.NODE_CLICK,pe))}}}}),Mn(Un(n),"handleContextMenu",function(p){p.preventDefault();var O=n.props,N=O.model,B=O.graphModel,$=N.getData(),J=B.getPointByClient({x:p.clientX,y:p.clientY});B.setElementStateById(N.id,Kt.SHOW_MENU,J.domOverlayPosition),B.selectNodeById(N.id),B.eventCenter.emit(Mt.NODE_CONTEXTMENU,{data:$,e:p,position:J}),n.toFront()}),Mn(Un(n),"handleMouseDown",function(p){var O=n.props,N=O.model,B=O.graphModel;n.toFront(),n.startTime=new Date().getTime();var $=B.editConfigModel;$.adjustNodePosition&&N.draggable&&n.stepDrag&&n.stepDrag.handleMouseDown(p)}),Mn(Un(n),"setHoverON",function(p){var O=n.state.isHovered;if(!O){n.setState({isHovered:!0});var N=n.props,B=N.model,$=N.graphModel,J=B.getData();B.setHovered(!0),$.eventCenter.emit(Mt.NODE_MOUSEENTER,{data:J,e:p})}}),Mn(Un(n),"setHoverOFF",function(p){n.setState({isHovered:!1});var O=n.props,N=O.model,B=O.graphModel,$=N.getData();N.setHovered(!1),B.eventCenter.emit(Mt.NODE_MOUSELEAVE,{data:$,e:p})}),Mn(Un(n),"onMouseOut",function(p){Kb&&n.setHoverOFF(p)});var i=r.graphModel,a=i.gridSize,l=i.eventCenter,d=r.model;return n.stepDrag=new So({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd,step:a,eventType:"NODE",isStopPropagation:!1,eventCenter:l,model:d}),n.state={isHovered:!1},n}return Qb(t,[{key:"getAnchorShape",value:function(n){return null}},{key:"getAnchors",value:function(){var n=this,i=this.props,a=i.model,l=i.graphModel,d=a.isSelected,p=a.isHitable,O=a.isDragging,N=this.state.isHovered;if(p&&(d||N)&&!O){var B=a.getAnchorLineStyle();return du(a.anchors,function($,J){var fe=a.getAnchorStyle($);return Object(Se.g)(TD,{anchorData:$,node:n,style:fe,edgeStyle:B,anchorIndex:J,nodeModel:a,graphModel:l,setHoverOFF:n.setHoverOFF})})}return[]}},{key:"getText",value:function(){var n=this.props,i=n.model,a=n.graphModel;if(i.state===Kt.TEXT_EDIT)return"";if(i.text){var l=a.editConfigModel,d=!1;return(i.text.draggable||l.nodeTextDraggable)&&(d=!0),Object(Se.g)(Ia,{editable:l.nodeTextEdit&&i.text.editable,model:i,graphModel:a,draggable:d})}}},{key:"getStateClassName",value:function(){var n=this.props.model,i=n.state,a=n.isDraging,l=n.isSelected,d="lf-node";switch(i){case Kt.ALLOW_CONNECT:d+=" lf-node-allow";break;case Kt.NOT_ALLOW_CONNECT:d+=" lf-node-not-allow";break;default:d+=" lf-node-default";break}return a&&(d+=" lf-isDragging"),l&&(d+=" lf-node-selected"),d}},{key:"toFront",value:function(){var n=this.props,i=n.model,a=n.graphModel,l=a.overlapMode;l!==Wr.INCREASE&&i.autoToFront&&a.toFront(i.id)}},{key:"render",value:function(){var n=this.props,i=n.model,a=n.graphModel,l=a.editConfigModel,d=l.hideAnchors,p=l.adjustNodePosition,O=a.gridSize,N=a.transformModel.SCALE_X,B=i.isHitable,$=i.draggable,J=Object(Se.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),d?null:this.getAnchors()),fe;return B?(p&&$&&this.stepDrag.setStep(O*N),fe=Object(Se.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},J)):fe=Object(Se.g)("g",{className:this.getStateClassName()},J),fe}}],[{key:"getModel",value:function(n){return n}}]),t}(Se.a);function Go(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Go=function(t){return typeof t}:Go=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Go(o)}function Vl(){return Vl=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},Vl.apply(this,arguments)}function kg(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function qb(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function _b(o,e,t){return e&&qb(o.prototype,e),t&&qb(o,t),o}function kD(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Xg(o,e)}function Xg(o,e){return Xg=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Xg(o,e)}function Yg(o){var e=WD();return function(){var r=Vc(o),n;if(e){var i=Vc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return XD(this,n)}}function XD(o,e){if(e&&(Go(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YD(o)}function YD(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function WD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function Vc(o){return Vc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vc(o)}var Zl=function(o){kD(t,o);var e=Yg(t);function t(){return kg(this,t),e.apply(this,arguments)}return _b(t,[{key:"getShape",value:function(){var n=this.props.model,i=n.getNodeStyle();return Object(Se.g)(_n,Vl({},i,{x:n.x,y:n.y,width:n.width,height:n.height,radius:n.radius}))}}]),t}(qr);function Jl(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jl=function(t){return typeof t}:Jl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(o)}function Ql(){return Ql=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},Ql.apply(this,arguments)}function Wg(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function eO(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function tO(o,e,t){return e&&eO(o.prototype,e),t&&eO(o,t),o}function KD(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Kg(o,e)}function Kg(o,e){return Kg=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Kg(o,e)}function Vg(o){var e=JD();return function(){var r=Zc(o),n;if(e){var i=Zc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return VD(this,n)}}function VD(o,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZD(o)}function ZD(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function JD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function Zc(o){return Zc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zc(o)}var ql=function(o){KD(t,o);var e=Vg(t);function t(){return Wg(this,t),e.apply(this,arguments)}return tO(t,[{key:"getShape",value:function(){var n=this.props.model,i=n.x,a=n.y,l=n.r,d=n.getNodeStyle();return Object(Se.g)(da,Ql({},d,{x:i,y:a,r:l}))}}]),t}(qr);function _l(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_l=function(t){return typeof t}:_l=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(o)}function Jc(o,e){return _D(o)||nO(o,e)||qD(o,e)||QD()}function QD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qD(o,e){if(!!o){if(typeof o=="string")return rO(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rO(o,e)}}function rO(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function nO(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function _D(o){if(Array.isArray(o))return o}function oO(o){var e=o.points,t=o.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(o).forEach(function(n){var i=Jc(n,2),a=i[0],l=i[1],d=_l(l);d!=="object"&&(r[a]=l)}),t?r.className="lf-basic-shape ".concat(t):r.className="lf-basic-shape",r.points=e.map(function(n){return n.join(",")}).join(" "),Object(Se.g)("polygon",r)}function Vf(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vf=function(t){return typeof t}:Vf=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(o)}function es(){return es=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},es.apply(this,arguments)}function Zg(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function iO(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function aO(o,e,t){return e&&iO(o.prototype,e),t&&iO(o,t),o}function ej(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Jg(o,e)}function Jg(o,e){return Jg=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Jg(o,e)}function Qg(o){var e=nj();return function(){var r=Qc(o),n;if(e){var i=Qc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tj(this,n)}}function tj(o,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rj(o)}function rj(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function nj(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function Qc(o){return Qc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qc(o)}var ts=function(o){ej(t,o);var e=Qg(t);function t(){return Zg(this,t),e.apply(this,arguments)}return aO(t,[{key:"getShape",value:function(){var n=this.props.model,i=n.x,a=n.y,l=n.width,d=n.height,p=n.points,O=n.getNodeStyle(),N={transform:"matrix(1 0 0 1 ".concat(i-l/2," ").concat(a-d/2,")")};return Object(Se.g)("g",N,Object(Se.g)(oO,es({},O,{points:p,x:i,y:a})))}}]),t}(qr);function rs(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rs=function(t){return typeof t}:rs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(o)}function ns(){return ns=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},ns.apply(this,arguments)}function qg(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function uO(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function lO(o,e,t){return e&&uO(o.prototype,e),t&&uO(o,t),o}function oj(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&_g(o,e)}function _g(o,e){return _g=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},_g(o,e)}function em(o){var e=uj();return function(){var r=qc(o),n;if(e){var i=qc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ij(this,n)}}function ij(o,e){if(e&&(rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aj(o)}function aj(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function uj(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function qc(o){return qc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qc(o)}var os=function(o){oj(t,o);var e=em(t);function t(){return qg(this,t),e.apply(this,arguments)}return lO(t,[{key:"getShape",value:function(){var n=this.props.model,i=n.getNodeStyle();return Object(Se.g)("g",null,Object(Se.g)(oO,ns({},i,{points:n.points,x:n.x,y:n.y})))}}]),t}(qr);function is(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?is=function(t){return typeof t}:is=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(o)}function _c(o,e){return fj(o)||fO(o,e)||sj(o,e)||lj()}function lj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sj(o,e){if(!!o){if(typeof o=="string")return sO(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sO(o,e)}}function sO(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function fO(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function fj(o){if(Array.isArray(o))return o}function cj(o){var e=o.x,t=e===void 0?0:e,r=o.y,n=r===void 0?0:r,i=o.rx,a=i===void 0?4:i,l=o.ry,d=l===void 0?4:l,p=o.className,O={cx:t,cy:n,rx:a,ry:d,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(o).forEach(function(N){var B=_c(N,2),$=B[0],J=B[1],fe=is(J);fe!=="object"&&(O[$]=J)}),p?O.className="lf-basic-shape ".concat(p):O.className="lf-basic-shape",Object(Se.g)("ellipse",O)}function ed(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ed=function(t){return typeof t}:ed=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(o)}function as(){return as=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},as.apply(this,arguments)}function tm(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function cO(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function dO(o,e,t){return e&&cO(o.prototype,e),t&&cO(o,t),o}function dj(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&rm(o,e)}function rm(o,e){return rm=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},rm(o,e)}function nm(o){var e=hj();return function(){var r=td(o),n;if(e){var i=td(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pj(this,n)}}function pj(o,e){if(e&&(ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vj(o)}function vj(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function hj(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function td(o){return td=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},td(o)}var us=function(o){dj(t,o);var e=nm(t);function t(){return tm(this,t),e.apply(this,arguments)}return dO(t,[{key:"getShape",value:function(){var n=this.props.model,i=n.getNodeStyle();return Object(Se.g)(cj,as({},i,{x:n.x,y:n.y,rx:n.rx,ry:n.ry}))}}]),t}(qr);function ls(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ls=function(t){return typeof t}:ls=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(o)}function Zf(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function om(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Zf(Object(t),!0).forEach(function(r){pO(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):Zf(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function pO(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function yj(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function vO(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function hO(o,e,t){return e&&vO(o.prototype,e),t&&vO(o,t),o}function gj(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&im(o,e)}function im(o,e){return im=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},im(o,e)}function am(o){var e=Oj();return function(){var r=rd(o),n;if(e){var i=rd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mj(this,n)}}function mj(o,e){if(e&&(ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bj(o)}function bj(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function Oj(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function rd(o){return rd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rd(o)}var ss=function(o){gj(t,o);var e=am(t);function t(){return yj(this,t),e.apply(this,arguments)}return hO(t,[{key:"getBackgroud",value:function(){var n=this.props.model,i=n.getTextStyle(),a=n.text;if(a&&a.value&&i.background&&i.background.fill!=="transparnet"){var l=a.x,d=a.y,p=n.width,O=n.height,N=om(om({},i.background),{},{x:l,y:d-1,width:p,height:O});return Object(Se.g)(_n,N)}}},{key:"getShape",value:function(){return Object(Se.g)("g",null,this.getBackgroud())}}]),t}(qr);function fs(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fs=function(t){return typeof t}:fs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(o)}function cs(){return cs=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},cs.apply(this,arguments)}function um(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function yO(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function gO(o,e,t){return e&&yO(o.prototype,e),t&&yO(o,t),o}function Ej(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&lm(o,e)}function lm(o,e){return lm=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},lm(o,e)}function sm(o){var e=Qf();return function(){var r=nd(o),n;if(e){var i=nd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Sj(this,n)}}function Sj(o,e){if(e&&(fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jf(o)}function Jf(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function Qf(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function nd(o){return nd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nd(o)}function Ol(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var ds=function(o){Ej(t,o);var e=sm(t);function t(){var r;um(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),Ol(Jf(r),"ref",void 0),Ol(Jf(r),"currrentProperties",void 0),Ol(Jf(r),"preProperties",void 0),Ol(Jf(r),"setRef",function(l){r.ref=l}),r}return gO(t,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(n){n.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!(this.preProperties&&this.preProperties===this.currrentProperties))return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var n=this.props.model,i=n.x,a=n.y,l=n.height,d=n.width,p=n.getNodeStyle();return this.currrentProperties=JSON.stringify(n.properties),Object(Se.g)("foreignObject",cs({},p,{x:i-d/2,y:a-l/2,width:d,height:l,ref:this.setRef}))}}]),t}(qr);function ps(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ps=function(t){return typeof t}:ps=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ps(o)}function vs(){return vs=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},vs.apply(this,arguments)}function od(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function Ba(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?od(Object(t),!0).forEach(function(r){hs(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):od(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function El(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function mO(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function bO(o,e,t){return e&&mO(o.prototype,e),t&&mO(o,t),o}function xj(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&fm(o,e)}function fm(o,e){return fm=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},fm(o,e)}function cm(o){var e=pm();return function(){var r=id(o),n;if(e){var i=id(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pj(this,n)}}function Pj(o,e){if(e&&(ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dm(o)}function dm(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function pm(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function id(o){return id=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},id(o)}function hs(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var vm=function(o){xj(t,o);var e=cm(t);function t(r){var n;return El(this,t),n=e.call(this,r),hs(dm(n),"setHoverON",function(){n.setState({isHoverd:!0})}),hs(dm(n),"setHoverOFF",function(){n.setState({isHoverd:!1})}),n.state={isHoverd:!1},n}return bO(t,[{key:"getBackgroud",value:function(){var n=this.props.model,i=n.getTextStyle(),a=n.text,l=i.background||{},d=this.state.isHoverd;if(d&&i.hover&&i.hover.background&&(l=Ba(Ba({},l),i.hover.background)),a&&a.value&&l.fill!=="transparent"){var p=i.fontSize,O=i.overflowMode,N=i.lineHeight,B=i.wrapPadding,$=i.textWidth,J=a.value,fe=a.x,pe=a.y,he=String(J).split(/[\r\n]/g),Ne=he.length,Fe;if(O==="autoWrap"&&$){var Le=gv({rows:he,style:{fontSize:"".concat(p,"px"),width:"".concat($,"px"),lineHeight:N,padding:B},rowsLength:Ne,className:"lf-get-text-height"});Fe=Ba(Ba({},l),{},{x:fe-1,y:pe-1,width:$,height:Le})}else{var ke=0;he&&he.forEach(function(St){var Vt=uh(St);ke=Vt>ke?Vt:ke});var rt=cf({rows:he,fontSize:p,rowsLength:Ne}),lt=rt.width,Pt=rt.height;if(typeof l.wrapPadding=="string"){var Ot=l.wrapPadding.split(",").filter(function(St){return St.trim()}).map(function(St){return parseFloat(St.trim())});Ot.length>0&&Ot.length<=4&&(Ot.length===1?Ot=[Ot[0],Ot[0],Ot[0],Ot[0]]:Ot.length===2?Ot=[Ot[0],Ot[1],Ot[0],Ot[1]]:Ot.length===3&&(Ot=[Ot[0],Ot[1],Ot[2],Ot[1]]),lt+=Ot[1]+Ot[3],Pt+=Ot[0]+Ot[2],fe=fe+(Ot[1]-Ot[3])/2,pe=pe+(Ot[2]-Ot[0])/2)}Fe=Ba(Ba({},l),{},{x:fe-1,y:pe-1,width:lt,height:Pt})}return Object(Se.g)(_n,Fe)}}},{key:"getShape",value:function(){var n=this.props.model,i=n.text,a=i.value,l=i.x,d=i.y;if(!!a){var p=n.getTextStyle(),O=Ba({x:l,y:d,className:"lf-element-text",value:a},p);return Object(Se.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(Se.g)(Ub,vs({},O,{model:n})))}}}]),t}(Ia);function ad(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ad=function(t){return typeof t}:ad=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(o)}function ys(){return ys=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},ys.apply(this,arguments)}function ud(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function Bi(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ud(Object(t),!0).forEach(function(r){so(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):ud(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function ha(o,e){return wj(o)||EO(o,e)||Tj(o,e)||Mj()}function Mj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tj(o,e){if(!!o){if(typeof o=="string")return OO(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return OO(o,e)}}function OO(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function EO(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function wj(o){if(Array.isArray(o))return o}function Aj(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function SO(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function xO(o,e,t){return e&&SO(o.prototype,e),t&&SO(o,t),o}function Nj(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&hm(o,e)}function hm(o,e){return hm=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},hm(o,e)}function ym(o){var e=pi();return function(){var r=ld(o),n;if(e){var i=ld(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Dj(this,n)}}function Dj(o,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return di(o)}function di(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function pi(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function ld(o){return ld=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ld(o)}function so(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var vn;(function(o){o.SOURCE="SOURCE",o.TARGET="TARGET"})(vn||(vn={}));var vi=function(o){Nj(t,o);var e=ym(t);function t(){var r;return Aj(this,t),r=e.call(this),so(di(r),"dragHandler",void 0),so(di(r),"oldEdge",void 0),so(di(r),"preTargetNode",void 0),so(di(r),"targetRuleResults",void 0),so(di(r),"sourceRuleResults",void 0),so(di(r),"onDragStart",function(){var n=r.props,i=n.x,a=n.y,l=n.edgeModel,d=l.startPoint,p=l.endPoint,O=l.pointsList;r.oldEdge={startPoint:d,endPoint:p,pointsList:O},r.setState({endX:i,endY:a,draging:!0}),l.isHitable=!1}),so(di(r),"onDraging",function(n){var i=n.deltaX,a=n.deltaY,l=r.state,d=l.endX,p=l.endY,O=r.props,N=O.graphModel,B=O.type,$=N.transformModel,J=$.moveCanvasPointByHtml([d,p],i,a),fe=ha(J,2),pe=fe[0],he=fe[1];r.setState({endX:pe,endY:he,draging:!0});var Ne=r.props.edgeModel,Fe=bu({x:d,y:p},N);if(Fe&&Fe.node&&r.isAllowAdjust(Fe)){var Le,ke=Ne.startPoint,rt=Ne.endPoint,lt=Ne.sourceNode,Pt=Ne.targetNode;B===vn.SOURCE?Le={startPoint:{x:Fe.anchor.x,y:Fe.anchor.y},endPoint:{x:rt.x,y:rt.y},sourceNode:Fe.node,targetNode:Pt}:B===vn.TARGET&&(Le={startPoint:{x:ke.x,y:ke.y},endPoint:{x:Fe.anchor.x,y:Fe.anchor.y},sourceNode:lt,targetNode:Fe.node}),Ne.updateAfterAdjustStartAndEnd(Le)}else B===vn.SOURCE?Ne.updateStartPoint({x:pe,y:he}):B===vn.TARGET&&Ne.updateEndPoint({x:pe,y:he})}),so(di(r),"onDragEnd",function(){var n;r.setState({draging:!1});var i=r.props,a=i.graphModel,l=i.edgeModel,d=i.type;l.isHitable=!0;var p=r.state,O=p.endX,N=p.endY,B=p.draging,$=bu({x:O,y:N},a);if(!!B){if($&&$.node&&r.isAllowAdjust($)){var J,fe=l.getData(),pe=Bi(Bi({},fe),{},{sourceAnchorId:"",targetAnchorId:"",text:(fe==null||(J=fe.text)===null||J===void 0?void 0:J.value)||""});if(d===vn.SOURCE){var he=a.edgeGenerator(a.getNodeModelById($.node.id).getData(),a.getNodeModelById(l.targetNodeId).getData(),pe);pe=Bi(Bi({},he),{},{sourceNodeId:$.node.id,sourceAnchorId:$.anchor.id,startPoint:{x:$.anchor.x,y:$.anchor.y},targetNodeId:l.targetNodeId,endPoint:Bi({},l.endPoint)})}else if(d===vn.TARGET){var Ne=a.edgeGenerator(a.getNodeModelById(l.sourceNodeId).getData(),a.getNodeModelById($.node.id).getData(),pe);pe=Bi(Bi({},Ne),{},{sourceNodeId:l.sourceNodeId,startPoint:Bi({},l.startPoint),targetNodeId:$.node.id,targetAnchorId:$.anchor.id,endPoint:{x:$.anchor.x,y:$.anchor.y}})}a.deleteEdgeById(l.id);var Fe=a.addEdge(Bi({},pe));a.eventCenter.emit(Mt.EDGE_EXCHANGE_NODE,{data:{newEdge:Fe.getData(),oldEdge:l.getData()}})}else r.recoveryEdge();(n=r.preTargetNode)===null||n===void 0||n.setElementState(Kt.DEFAULT)}}),so(di(r),"recoveryEdge",function(){var n=r.props.edgeModel,i=r.oldEdge,a=i.startPoint,l=i.endPoint,d=i.pointsList;n.updateStartPoint(a),n.updateEndPoint(l),n.modelType!==zt.LINE_EDGE&&(n.pointsList=d,n.initPoints())}),so(di(r),"getAdjustPointStyle",function(){var n=r.props.graphModel.theme,i=n.edgeAdjust;return i}),r.state={draging:!1,endX:0,endY:0},r.targetRuleResults=new Map,r.sourceRuleResults=new Map,r.dragHandler=xf({onDragStart:r.onDragStart,onDraging:r.onDraging,onDragEnd:r.onDragEnd}),r}return xO(t,[{key:"isAllowAdjust",value:function(n){var i=this.props,a=i.edgeModel,l=a.id,d=a.sourceNode,p=a.targetNode,O=a.sourceAnchorId,N=a.targetAnchorId,B=i.type,$=null,J=null,fe=null,pe=null;if(B===vn.SOURCE?($=n.node,J=p,fe=n.anchor,pe=p.getAnchorInfo(N)):($=d,J=n.node,pe=n.anchor,fe=d.getAnchorInfo(O)),this.preTargetNode&&this.preTargetNode!==n.node&&this.preTargetNode.setElementState(Kt.DEFAULT),this.preTargetNode=n.node,pe.id===fe.id)return!1;var he="".concat($.id,"_").concat(J.id,"_").concat(fe.id,"_").concat(pe.id);if(!this.targetRuleResults.has(he)){var Ne=$.isAllowConnectedAsSource(J,fe,pe),Fe=J.isAllowConnectedAsTarget($,fe,pe);this.sourceRuleResults.set(he,Eu(Ne)),this.targetRuleResults.set(he,Eu(Fe))}var Le=this.sourceRuleResults.get(he),ke=Le.isAllPass,rt=this.targetRuleResults.get(he),lt=rt.isAllPass,Pt=ke&&lt?Kt.ALLOW_CONNECT:Kt.NOT_ALLOW_CONNECT;return B===vn.SOURCE?$.setElementState(Pt):J.setElementState(Pt),ke&&lt}},{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,l=this.state.draging,d=this.getAdjustPointStyle();return Object(Se.g)("g",null,Object(Se.g)(da,ys({className:"lf-edge-adjust-point"},d,{x:i,y:a,onMouseDown:this.dragHandler,"pointer-events":l?"none":""})))}}]),t}(Se.a);function qf(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qf=function(t){return typeof t}:qf=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(o)}function Sl(){return Sl=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},Sl.apply(this,arguments)}function _f(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function gm(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_f(Object(t),!0).forEach(function(r){fo(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):_f(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function PO(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function MO(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function TO(o,e,t){return e&&MO(o.prototype,e),t&&MO(o,t),o}function jj(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&mm(o,e)}function mm(o,e){return mm=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},mm(o,e)}function bm(o){var e=yi();return function(){var r=sd(o),n;if(e){var i=sd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Cj(this,n)}}function Cj(o,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hi(o)}function hi(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function yi(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function sd(o){return sd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},sd(o)}function fo(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var ro=function(o){jj(t,o);var e=bm(t);function t(){var r;PO(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),fo(hi(r),"startTime",void 0),fo(hi(r),"contextMenuTime",void 0),fo(hi(r),"clickTimer",void 0),fo(hi(r),"handleHover",function(l,d){var p=r.props,O=p.model,N=p.graphModel.eventCenter;O.setHovered(l);var B=l?Mt.EDGE_MOUSEENTER:Mt.EDGE_MOUSELEAVE,$=O.getData();N.emit(B,{data:$,e:d})}),fo(hi(r),"setHoverON",function(l){var d=r.props.model.isHovered;d||r.handleHover(!0,l)}),fo(hi(r),"setHoverOFF",function(l){r.handleHover(!1,l)}),fo(hi(r),"handleContextMenu",function(l){l.preventDefault(),r.contextMenuTime=new Date().getTime(),r.clickTimer&&clearTimeout(r.clickTimer);var d=r.props,p=d.model,O=d.graphModel,N=O.getPointByClient({x:l.clientX,y:l.clientY});O.setElementStateById(p.id,Kt.SHOW_MENU,N.domOverlayPosition),r.toFront(),O.selectEdgeById(p.id);var B=p==null?void 0:p.getData();O.eventCenter.emit(Mt.EDGE_CONTEXTMENU,{data:B,e:l,position:N})}),fo(hi(r),"handleMouseDown",function(l){l.stopPropagation(),r.startTime=new Date().getTime()}),fo(hi(r),"handleMouseUp",function(l){if(!!r.startTime){var d=new Date().getTime()-r.startTime;if(!(d>200)){var p=l.button===2;if(!p){var O=l.detail===2,N=r.props,B=N.model,$=N.graphModel,J=B==null?void 0:B.getData(),fe=$.getPointByClient({x:l.clientX,y:l.clientY});if(O){var pe=$.editConfigModel,he=$.textEditElement;if(he&&he.id===B.id&&$.setElementStateById(B.id,Kt.DEFAULT),pe.edgeTextEdit&&B.text.editable&&$.setElementStateById(B.id,Kt.TEXT_EDIT),B.modelType===zt.POLYLINE_EDGE){var Ne=B,Fe=$.getPointByClient({x:l.x,y:l.y}),Le=Fe.canvasOverlayPosition,ke=Le.x,rt=Le.y,lt=sh({x:ke,y:rt},Ne.points);Ne.dbClickPosition=lt}$.eventCenter.emit(Mt.EDGE_DBCLICK,{data:J,e:l,position:fe})}else $.eventCenter.emit(Mt.ELEMENT_CLICK,{data:J,e:l,position:fe}),$.eventCenter.emit(Mt.EDGE_CLICK,{data:J,e:l,position:fe});var Pt=$.editConfigModel;$.selectEdgeById(B.id,fv(l,Pt)),r.toFront()}}}}),fo(hi(r),"getIsDraging",function(){return!1}),r}return TO(t,[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var n=this.props,i=n.model,a=n.graphModel;if(i.state===Kt.TEXT_EDIT)return"";var l=!1,d=a.editConfigModel;return(i.text.draggable||d.edgeTextDraggable)&&(l=!0),Object(Se.g)(vm,{editable:d.edgeTextEdit&&i.text.editable,model:i,graphModel:a,draggable:l})}},{key:"getArrowInfo",value:function(){var n=this.props.model,i=n.startPoint,a=n.endPoint,l=n.isSelected,d=this.state,p=d.hover;return{start:i,end:a,hover:p,isSelected:l}}},{key:"getArrowStyle",value:function(){var n=this.props,i=n.model,a=n.graphModel,l=i.getEdgeStyle(),d=i.getEdgeAnimationStyle(),p=a.theme.arrow,O=i.isAnimation?d.stroke:l.stroke;return gm(gm({},l),{},{fill:O,stroke:O},p)}},{key:"getArrow",value:function(){return Object(Se.g)("g",null,Object(Se.g)("defs",null,this.getStartArrow(),this.getEndArrow()))}},{key:"getStartArrow",value:function(){var n=this.props,i=n.model,a=n.graphModel,l=i.id,d=a.theme.arrow,p=d.offset,O=d.verticalLength,N=this.getArrowStyle(),B=N.stroke,$=N.strokeWidth;return Object(Se.g)("marker",{id:"marker-start-".concat(l),refX:"-1",overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},Object(Se.g)("path",{stroke:B,fill:B,strokeWidth:$,d:"M 0 0 L ".concat(p," -").concat(O," L ").concat(p," ").concat(O," Z")}))}},{key:"getEndArrow",value:function(){var n=this.props,i=n.model,a=n.graphModel,l=i.id,d=a.theme.arrow,p=d.offset,O=d.verticalLength,N=this.getArrowStyle(),B=N.stroke,$=N.strokeWidth;return Object(Se.g)("marker",{id:"marker-end-".concat(l),refX:"-1",overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},Object(Se.g)("path",{stroke:B,fill:B,strokeWidth:$,transform:"rotate(180)",d:"M 0 0 L ".concat(p," -").concat(O," L ").concat(p," ").concat(O," Z")}))}},{key:"getAdjustPoints",value:function(){var n=this.props,i=n.model,a=n.graphModel,l=i.getAdjustStart(),d=i.getAdjustEnd();return Object(Se.g)("g",null,Object(Se.g)(vi,Sl({type:"SOURCE"},l,{edgeModel:i,graphModel:a})),Object(Se.g)(vi,Sl({type:"TARGET"},d,{edgeModel:i,graphModel:a})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(Se.g)("g",null)}},{key:"getAppend",value:function(){return Object(Se.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var n=this.props,i=n.graphModel,a=n.model,l=i.overlapMode;l!==Wr.INCREASE&&i.toFront(a.id)}},{key:"render",value:function(){var n=this.props,i=n.model,a=i.isSelected,l=i.isHitable,d=n.graphModel,p=this.getIsDraging(),O=d.editConfigModel.adjustEdgeStartAndEnd,N=d.animation,B=a&&N.edge&&d.getSelectElements().edges.length===1;return Object(Se.g)("g",null,Object(Se.g)("g",{className:["lf-edge",!l&&"pointer-none",a&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),B&&this.getAnimation(),this.getText(),this.getArrow()),O&&a&&!p?this.getAdjustPoints():"")}}]),t}(Se.a);function La(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?La=function(t){return typeof t}:La=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},La(o)}function fd(o,e){return Bj(o)||AO(o,e)||Ij(o,e)||Rj()}function Rj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ij(o,e){if(!!o){if(typeof o=="string")return wO(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wO(o,e)}}function wO(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function AO(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function Bj(o){if(Array.isArray(o))return o}function Lj(o){var e={d:""};return Object.entries(o).forEach(function(t){var r=fd(t,2),n=r[0],i=r[1],a=La(i);(n==="style"||a!=="object")&&(e[n]=i)}),Object(Se.g)("path",e)}var gs=Lj;function ya(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ya=function(t){return typeof t}:ya=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya(o)}function xl(){return xl=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},xl.apply(this,arguments)}function cd(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function NO(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function DO(o,e,t){return e&&NO(o.prototype,e),t&&NO(o,t),o}function zj(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Om(o,e)}function Om(o,e){return Om=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Om(o,e)}function Em(o){var e=Gj();return function(){var r=dd(o),n;if(e){var i=dd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Fj(this,n)}}function Fj(o,e){if(e&&(ya(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hj(o)}function Hj(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function Gj(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function dd(o){return dd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},dd(o)}var ms=function(o){zj(t,o);var e=Em(t);function t(){return cd(this,t),e.apply(this,arguments)}return DO(t,[{key:"getEdge",value:function(){var n=this.props.model,i=n.startPoint,a=n.endPoint,l=n.isAnimation,d=n.arrowConfig,p=n.getEdgeStyle(),O=n.getEdgeAnimationStyle(),N=O.strokeDasharray,B=O.stroke,$=O.strokeDashoffset,J=O.animationName,fe=O.animationDuration,pe=O.animationIterationCount,he=O.animationTimingFunction,Ne=O.animationDirection;return Object(Se.g)(xo,xl({},p,{x1:i.x,y1:i.y,x2:a.x,y2:a.y},d,l?{strokeDasharray:N,stroke:B,style:{strokeDashoffset:$,animationName:J,animationDuration:fe,animationIterationCount:pe,animationTimingFunction:he,animationDirection:Ne}}:{}))}},{key:"getShape",value:function(){return Object(Se.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var n=this.props.model,i=n.getAnimation(),a=i.stroke,l=i.className,d=i.strokeDasharray,p=n.startPoint,O=n.endPoint,N=n.getEdgeStyle();return Object(Se.g)("g",null,Object(Se.g)(xo,xl({},N,{x1:p.x,y1:p.y,x2:O.x,y2:O.y,className:l,strokeDasharray:d,stroke:a})))}},{key:"getAppendWidth",value:function(){var n=this.props.model,i=n.startPoint,a=n.endPoint,l={start:i,end:a},d=B0(l),p=d.d,O=d.strokeWidth,N=d.fill,B=d.strokeDasharray,$=d.stroke;return Object(Se.g)(gs,{d:p,fill:N,strokeWidth:O,stroke:$,strokeDasharray:B})}}]),t}(ro);function bs(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bs=function(t){return typeof t}:bs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(o)}function pd(o,e){return kj(o)||CO(o,e)||$j(o,e)||Uj()}function Uj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $j(o,e){if(!!o){if(typeof o=="string")return jO(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jO(o,e)}}function jO(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function CO(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function kj(o){if(Array.isArray(o))return o}function Xj(o){var e={points:"",fill:"none"};return Object.entries(o).forEach(function(t){var r=pd(t,2),n=r[0],i=r[1];if(n==="style")e[n]=i;else{var a=bs(i);a!=="object"&&(e[n]=i)}}),Object(Se.g)("polyline",e)}var RO=Xj;function ec(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ec=function(t){return typeof t}:ec=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(o)}function tc(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function rc(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tc(Object(t),!0).forEach(function(r){wo(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):tc(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function Pl(){return Pl=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},Pl.apply(this,arguments)}function vd(o,e){return Kj(o)||BO(o,e)||Wj(o,e)||Yj()}function Yj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wj(o,e){if(!!o){if(typeof o=="string")return IO(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return IO(o,e)}}function IO(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function BO(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function Kj(o){if(Array.isArray(o))return o}function Vj(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function LO(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function zO(o,e,t){return e&&LO(o.prototype,e),t&&LO(o,t),o}function Zj(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Sm(o,e)}function Sm(o,e){return Sm=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Sm(o,e)}function xm(o){var e=zi();return function(){var r=hd(o),n;if(e){var i=hd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Jj(this,n)}}function Jj(o,e){if(e&&(ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Li(o)}function Li(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function zi(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function hd(o){return hd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hd(o)}function wo(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var Uo=function(o){Zj(t,o);var e=xm(t);function t(){var r;return Vj(this,t),r=e.call(this),wo(Li(r),"drag",void 0),wo(Li(r),"isDraging",void 0),wo(Li(r),"appendInfo",void 0),wo(Li(r),"dragHandler",void 0),wo(Li(r),"onDragStart",function(){var n=r.props.model;n.dragAppendStart()}),wo(Li(r),"onDraging",function(n){var i=n.deltaX,a=n.deltaY,l=r.props,d=l.model,p=l.graphModel;r.isDraging=!0;var O=p.transformModel,N=p.editConfigModel,B=O.fixDeltaXY(i,a),$=vd(B,2),J=$[0],fe=$[1],pe=d,he=N.adjustEdgeMiddle;he?r.appendInfo=pe.dragAppendSimple(r.appendInfo,{x:J,y:fe}):r.appendInfo=pe.dragAppend(r.appendInfo,{x:J,y:fe})}),wo(Li(r),"onDragEnd",function(){var n=r.props,i=n.model,a=n.graphModel.eventCenter,l=i;l.dragAppendEnd(),r.isDraging=!1,r.appendInfo=void 0,a.emit(Mt.EDGE_ADJUST,{data:l.getData()})}),wo(Li(r),"beforeDragStart",function(n,i){i.dragAble&&r.dragHandler(n),r.appendInfo=i}),wo(Li(r),"getIsDraging",function(){return r.isDraging}),r.drag=xf({onDragStart:r.onDragStart,onDraging:r.onDraging,onDragEnd:r.onDragEnd,isStopPropagation:!1}),r}return zO(t,[{key:"getEdge",value:function(){var n=this.props.model,i=n.points,a=n.isAnimation,l=n.arrowConfig,d=n.getEdgeStyle(),p=n.getEdgeAnimationStyle(),O=p.strokeDasharray,N=p.stroke,B=p.strokeDashoffset,$=p.animationName,J=p.animationDuration,fe=p.animationIterationCount,pe=p.animationTimingFunction,he=p.animationDirection;return Object(Se.g)(RO,Pl({points:i},d,l,a?{strokeDasharray:O,stroke:N,style:{strokeDashoffset:B,animationName:$,animationDuration:J,animationIterationCount:fe,animationTimingFunction:pe,animationDirection:he}}:{}))}},{key:"getShape",value:function(){return Object(Se.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var n=this.props.model,i=n.getAnimation(),a=i.stroke,l=i.className,d=i.strokeDasharray,p=n.getEdgeStyle();return Object(Se.g)("g",null,Object(Se.g)(RO,Pl({points:n.points},p,{className:l,strokeDasharray:d,stroke:a})))}},{key:"getArrowInfo",value:function(){var n=this.props.model,i=n.points,a=n.isSelected,l=this.state,d=l.hover,p={start:null,end:null,hover:d,isSelected:a},O=ii(i);return O.length>=2&&(p.start=O[O.length-2],p.end=O[O.length-1]),p}},{key:"getAppendAttributes",value:function(n){var i=n.start,a=n.end,l;if(i.x===a.x&&i.y===a.y)l="";else{var d={start:i,end:a,offset:10,verticalLength:5},p=la(rc(rc({},d),{},{type:"start"})),O=la(rc(rc({},d),{},{type:"end"}));l="M".concat(p.leftX," ").concat(p.leftY,` 
      L`).concat(p.rightX," ").concat(p.rightY,` 
      L`).concat(O.rightX," ").concat(O.rightY,`
      L`).concat(O.leftX," ").concat(O.leftY," z")}return{d:l,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(n){var i=this.getAppendAttributes(n),a=i.d,l=i.strokeWidth,d=i.fill,p=i.strokeDasharray,O=i.stroke;return Object(Se.g)(gs,{d:a,fill:d,strokeWidth:l,stroke:O,strokeDasharray:p})}},{key:"getAppendWidth",value:function(){for(var n=this,i=this.props,a=i.model,l=i.graphModel,d=a.pointsList,p=a.draggable,O=[],N=d.length,B=function(fe){var pe="lf-polyline-append",he={start:{x:d[fe].x,y:d[fe].y},end:{x:d[fe+1].x,y:d[fe+1].y},startIndex:fe,endIndex:fe+1,direction:"",dragAble:!0},Ne=Object(Se.g)("g",{className:pe},n.getAppendShape(he)),Fe=l.editConfigModel,Le=Fe.adjustEdge,ke=Fe.adjustEdgeMiddle;if(!Le||!p)n.dragHandler=function(){};else{n.dragHandler=n.drag;var rt=he.startIndex,lt=he.endIndex,Pt=ke&&(rt===0||lt===N-1);he.dragAble=!Pt,he.start.x===he.end.x?(he.dragAble&&(pe+="-ew-resize"),he.direction=Jt.VERTICAL):he.start.y===he.end.y&&(he.dragAble&&(pe+="-ns-resize"),he.direction=Jt.HORIZONTAL),Ne=Object(Se.g)("g",{className:n.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(St){return n.beforeDragStart(St,he)}},Object(Se.g)("g",{className:pe},n.getAppendShape(he)))}O.push(Ne)},$=0;$<N-1;$++)B($);return Object(Se.g)("g",null,O)}}]),t}(ro);function Os(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Os=function(t){return typeof t}:Os=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(o)}function yd(o,e){return _j(o)||HO(o,e)||qj(o,e)||Qj()}function Qj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qj(o,e){if(!!o){if(typeof o=="string")return FO(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return FO(o,e)}}function FO(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function HO(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function _j(o){if(Array.isArray(o))return o}function gd(){return gd=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},gd.apply(this,arguments)}function md(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function GO(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function UO(o,e,t){return e&&GO(o.prototype,e),t&&GO(o,t),o}function eC(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Pm(o,e)}function Pm(o,e){return Pm=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Pm(o,e)}function Mm(o){var e=nC();return function(){var r=bd(o),n;if(e){var i=bd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}function tC(o,e){if(e&&(Os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rC(o)}function rC(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function nC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function bd(o){return bd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bd(o)}var Es=function(o){eC(t,o);var e=Mm(t);function t(){return md(this,t),e.apply(this,arguments)}return UO(t,[{key:"getEdge",value:function(){var n=this.props.model,i=n.getEdgeStyle(),a=n.path,l=n.isAnimation,d=n.arrowConfig,p=n.getEdgeAnimationStyle(),O=p.strokeDasharray,N=p.stroke,B=p.strokeDashoffset,$=p.animationName,J=p.animationDuration,fe=p.animationIterationCount,pe=p.animationTimingFunction,he=p.animationDirection;return Object(Se.g)(gs,gd({d:a},i,d,l?{strokeDasharray:O,stroke:N,style:{strokeDashoffset:B,animationName:$,animationDuration:J,animationIterationCount:fe,animationTimingFunction:pe,animationDirection:he}}:{}))}},{key:"getShape",value:function(){return Object(Se.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var n=this.props.model,i=n.getAnimation(),a=i.stroke,l=i.className,d=i.strokeDasharray,p=n.getEdgeStyle();return Object(Se.g)("g",null,Object(Se.g)(gs,gd({d:n.path},p,{className:l,strokeDasharray:d,stroke:a})))}},{key:"getAppendWidth",value:function(){var n=this.props.model.path;return Object(Se.g)(gs,{d:n,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var n=this.props.model,i=this.state,a=i.hover,l=n,d=l.path,p=l.isSelected,O=L0(d),N=yd(O,2),B=N[0],$=N[1],J={start:B,end:$,hover:a,isSelected:p};return J}}]),t}(ro);function Ss(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ss=function(t){return typeof t}:Ss=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(o)}function nc(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function $O(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nc(Object(t),!0).forEach(function(r){oC(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):nc(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function oC(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function iC(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function kO(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function XO(o,e,t){return e&&kO(o.prototype,e),t&&kO(o,t),o}function aC(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Tm(o,e)}function Tm(o,e){return Tm=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Tm(o,e)}function wm(o){var e=sC();return function(){var r=Od(o),n;if(e){var i=Od(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return uC(this,n)}}function uC(o,e){if(e&&(Ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lC(o)}function lC(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function sC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function Od(o){return Od=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Od(o)}var Ed=function(o){aC(t,o);var e=wm(t);function t(){return iC(this,t),e.apply(this,arguments)}return XO(t,[{key:"getArrowAttributes",value:function(){var n=this.props,i=n.arrowInfo,a=n.style,l=i.start,d=i.end,p={start:l,end:d,offset:a.offset,verticalLength:a.verticalLength,type:"end"},O=la(p),N=O.leftX,B=O.leftY,$=O.rightX,J=O.rightY;return $O({d:"M".concat(N," ").concat(B," L").concat(d.x," ").concat(d.y," L").concat($," ").concat(J," z")},a)}},{key:"getShape",value:function(){var n=this.getArrowAttributes(),i=n.d,a=n.strokeWidth,l=n.stroke,d=n.fill;return Object(Se.g)(gs,{d:i,fill:d,strokeWidth:a,stroke:l})}},{key:"render",value:function(){return Object(Se.g)("g",{className:"lf-arrow"},this.getShape())}}]),t}(Se.a);function fC(o,e){return Ws(o,e)}var YO=fC;function WO(o){var e=o==null?0:o.length;return e?o[e-1]:void 0}var cC=WO,dC=function(){return zr.a.Date.now()},Am=dC,Nm=/\s/;function pC(o){for(var e=o.length;e--&&Nm.test(o.charAt(e)););return e}var vC=pC,hC=/^\s+/;function yC(o){return o&&o.slice(0,vC(o)+1).replace(hC,"")}var gC=yC,KO=0/0,VO=/^[-+]0x[0-9a-f]+$/i,mC=/^0b[01]+$/i,bC=/^0o[0-7]+$/i,OC=parseInt;function EC(o){if(typeof o=="number")return o;if(fu(o))return KO;if(Tr(o)){var e=typeof o.valueOf=="function"?o.valueOf():o;o=Tr(e)?e+"":e}if(typeof o!="string")return o===0?o:+o;o=gC(o);var t=mC.test(o);return t||bC.test(o)?OC(o.slice(2),t?2:8):VO.test(o)?KO:+o}var ZO=EC,JO="Expected a function",SC=Math.max,xC=Math.min;function PC(o,e,t){var r,n,i,a,l,d,p=0,O=!1,N=!1,B=!0;if(typeof o!="function")throw new TypeError(JO);e=ZO(e)||0,Tr(t)&&(O=!!t.leading,N="maxWait"in t,i=N?SC(ZO(t.maxWait)||0,e):i,B="trailing"in t?!!t.trailing:B);function $(rt){var lt=r,Pt=n;return r=n=void 0,p=rt,a=o.apply(Pt,lt),a}function J(rt){return p=rt,l=setTimeout(he,e),O?$(rt):a}function fe(rt){var lt=rt-d,Pt=rt-p,Ot=e-lt;return N?xC(Ot,i-Pt):Ot}function pe(rt){var lt=rt-d,Pt=rt-p;return d===void 0||lt>=e||lt<0||N&&Pt>=i}function he(){var rt=Am();if(pe(rt))return Ne(rt);l=setTimeout(he,fe(rt))}function Ne(rt){return l=void 0,B&&r?$(rt):(r=n=void 0,a)}function Fe(){l!==void 0&&clearTimeout(l),p=0,r=d=n=l=void 0}function Le(){return l===void 0?a:Ne(Am())}function ke(){var rt=Am(),lt=pe(rt);if(r=arguments,n=this,d=rt,lt){if(l===void 0)return J(d);if(N)return clearTimeout(l),l=setTimeout(he,e),$(d)}return l===void 0&&(l=setTimeout(he,e)),a}return ke.cancel=Fe,ke.flush=Le,ke}var MC=PC,TC=u(166);function wC(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function QO(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function qO(o,e,t){return e&&QO(o.prototype,e),t&&QO(o,t),o}function za(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var Fa=function(){function o(e){wC(this,o),za(this,"undos",[]),za(this,"redos",[]),za(this,"callbacks",[]),za(this,"stopWatch",null),za(this,"curData",null),za(this,"maxSize",50),za(this,"waitTime",100),za(this,"eventCenter",void 0),this.eventCenter=e}return qO(o,[{key:"add",value:function(t){YO(cC(this.undos),t)||(this.undos.push(t),YO(this.curData,t)||(this.redos=[]),this.eventCenter.emit(Mt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(!!this.undoAble()){var t=this.undos.pop();this.redos.push(t);var r=this.undos.pop();return this.curData=ur(r),r}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(!!this.redoAble()){var t=this.redos.pop();return this.curData=ur(t),t}}},{key:"watch",value:function(t){var r=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(TC.a)(t,MC(function(){var n=t.modelToHistoryData();n&&r.add(n)},this.waitTime))}}]),o}(),AC=Fa;function Sd(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sd=function(t){return typeof t}:Sd=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(o)}var oc,Dm,jm;function _O(o,e){return jC(o)||tE(o,e)||DC(o,e)||NC()}function NC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DC(o,e){if(!!o){if(typeof o=="string")return eE(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return eE(o,e)}}function eE(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function tE(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function jC(o){if(Array.isArray(o))return o}function rE(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function Ml(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rE(Object(t),!0).forEach(function(r){Fi(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):rE(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function xs(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function nE(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function oE(o,e,t){return e&&nE(o.prototype,e),t&&nE(o,t),o}function CC(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Cm(o,e)}function Cm(o,e){return Cm=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Cm(o,e)}function Rm(o){var e=Ms();return function(){var r=xd(o),n;if(e){var i=xd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return RC(this,n)}}function RC(o,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ps(o)}function Ps(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function Ms(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function xd(o){return xd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xd(o)}function Fi(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var ga=Ao(oc=(jm=Dm=function(o){CC(t,o);var e=Rm(t);function t(){var r;return xs(this,t),r=e.call(this),Fi(Ps(r),"ref",Object(Se.f)()),Fi(Ps(r),"__prevText",{type:"",text:"",id:""}),Fi(Ps(r),"keyupHandler",function(n){var i=r.props.graphModel.textEditElement;n.key==="Enter"&&n.altKey&&i.setElementState(0)}),Fi(Ps(r),"inputHandler",function(n){var i=n.target,a=i.innerText,l=r.props.graphModel.textEditElement;r.__prevText={type:l.type,text:a.replace(/(\r\n)+$|(\n)+$/,""),id:l.id}}),Fi(Ps(r),"keydownHandler",function(n){n.stopPropagation()}),r.state={style:{left:0,top:0}},r}return oE(t,[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var n=this.props.graphModel,i=n.eventCenter,a=n.editConfigModel,l=a.edgeTextEdit,d=a.nodeTextEdit;(l||d)&&i.on("".concat(Mt.GRAPH_TRANSFORM,",").concat(Mt.NODE_CLICK,",").concat(Mt.BLANK_CLICK," "),function(){n.textEditElement&&n.textEditElement.setElementState(Kt.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var n=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var i=this.__prevText,a=i.text,l=i.id;n.updateText(l,a),n.eventCenter.emit(Mt.TEXT_UPDATE,Ml({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(n){if(window.getSelection!==void 0&&document.createRange!==void 0){var i=document.createRange();i.selectNodeContents(n),i.collapse(!1);var a=window.getSelection();a.removeAllRanges(),a.addRange(i)}}},{key:"render",value:function(){var n,i=this.props.graphModel.textEditElement,a=this.state.style;return i?Object(Se.g)("div",{contentEditable:!0,className:"lf-text-input",style:a,ref:this.ref,key:i.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onInput:this.inputHandler},(n=i.text)===null||n===void 0?void 0:n.value):null}}],[{key:"getDerivedStateFromProps",value:function(n){var i=n.graphModel,a=i.transformModel,l=i.theme,d=i.textEditElement,p;if(d){var O;if(!((O=d.text)!==null&&O!==void 0&&O.value))if(d.BaseType===Or.EDGE){d=d;var N=d.text,B=d.textPosition,$=B.x,J=B.y;N.x=$,N.y=J,d.setText(N)}else d=d;var fe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(d.BaseType===Or.EDGE){var pe=l.edgeText,he=pe.overflowMode,Ne=pe.lineHeight,Fe=pe.wrapPadding,Le=pe.textWidth;Le&&he==="autoWrap"&&(p=Ml(Ml({},fe),{},{width:Le,minWidth:Le,lineHeight:Ne,padding:Fe}))}else if(d.BaseType===Or.NODE){var ke=l.nodeText,rt=ke.overflowMode,lt=ke.lineHeight,Pt=ke.wrapPadding,Ot=ke.textWidth,St=d,Vt=St.width,Cr=St.modelType;(Cr!==zt.TEXT_NODE&&rt==="autoWrap"||Cr===zt.TEXT_NODE&&Ot)&&(p=Ml(Ml({},fe),{},{width:Ot||Vt,minWidth:Ot||Vt,lineHeight:lt,padding:Pt}))}var tn=d.text,Sn=tn.x,kn=tn.y,$o=a.CanvasPointToHtmlPoint([Sn,kn]),No=_O($o,2),Do=No[0],Ga=No[1];return{style:Ml({left:Do,top:Ga},p)}}}}]),t}(Se.a),Fi(Dm,"toolName","textEdit"),jm))||oc,Im=function(e){var t=e.x,r=e.y,n=e.width,i=e.height;return{x:t-n/2,y:r-i/2,x1:t+n/2,y1:r+i/2}},IC=function(e){var t=e.startPoint,r=e.endPoint,n=(t.x+r.x)/2,i=(t.y+r.y)/2,a=Math.abs(t.x-r.x)+10,l=Math.abs(t.y-r.y)+10;return{x:n-a/2,y:i-l/2,x1:n+a/2,y1:i+l/2}},BC=function(e){var t=e.points,r=ii(t),n=sa(r,8),i=n.x,a=n.y,l=n.width,d=n.height;return{x:i-l/2,y:a-d/2,x1:i+l/2,y1:a+d/2}},LC=function(e){var t=e.path,r=Iu(t),n=sa(r,8),i=n.x,a=n.y,l=n.width,d=n.height;return{x:i-l/2,y:a-d/2,x1:i+l/2,y1:a+d/2}},zC=function(e){if(e.modelType===zt.LINE_EDGE)return IC(e);if(e.modelType===zt.POLYLINE_EDGE)return BC(e);if(e.modelType===zt.BEZIER_EDGE)return LC(e)};function Pd(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pd=function(t){return typeof t}:Pd=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(o)}var ic,Bm,Lm;function zm(o,e){return HC(o)||FC(o,e)||aE(o,e)||iE()}function iE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FC(o,e){var t=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var r=[],n=!0,i=!1,a,l;try{for(t=t.call(o);!(n=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,l=d}finally{try{!n&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function HC(o){if(Array.isArray(o))return o}function GC(o){return $C(o)||uE(o)||aE(o)||UC()}function UC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aE(o,e){if(!!o){if(typeof o=="string")return Fm(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fm(o,e)}}function uE(o){if(typeof Symbol!="undefined"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function $C(o){if(Array.isArray(o))return Fm(o)}function Fm(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=o[t];return r}function Hm(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function lE(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function sE(o,e,t){return e&&lE(o.prototype,e),t&&lE(o,t),o}function kC(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Gm(o,e)}function Gm(o,e){return Gm=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Gm(o,e)}function Um(o){var e=uc();return function(){var r=Md(o),n;if(e){var i=Md(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return XC(this,n)}}function XC(o,e){if(e&&(Pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ac(o)}function ac(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function uc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function Md(o){return Md=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Md(o)}function Ha(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var Tl=Ao(ic=(Lm=Bm=function(o){kC(t,o);var e=Um(t);function t(r){var n;Hm(this,t),n=e.call(this),Ha(ac(n),"stepDrag",void 0),Ha(ac(n),"handleMouseDown",function(d){n.stepDrag.handleMouseDown(d)}),Ha(ac(n),"onDraging",function(d){var p=d.deltaX,O=d.deltaY,N=n.props.graphModel,B=N.getSelectElements(!0);N.moveNodes(B.nodes.map(function($){return $.id}),p,O)}),Ha(ac(n),"handleContextMenu",function(d){d.preventDefault();var p=n.props,O=p.graphModel,N=p.graphModel,B=N.eventCenter,$=N.selectElements,J=O.getPointByClient({x:d.clientX,y:d.clientY}),fe={nodes:[],edges:[]},pe=GC($.values());pe.forEach(function(he){he.BaseType===Or.NODE&&fe.nodes.push(he.getData()),he.BaseType===Or.EDGE&&fe.edges.push(he.getData())}),B.emit(Mt.SELECTION_CONTEXTMENU,{data:fe,e:d,position:J})});var i=r.graphModel,a=i.gridSize,l=i.eventCenter;return n.stepDrag=new So({onDraging:n.onDraging,step:a,eventType:"SELECTION",eventCenter:l}),n}return sE(t,[{key:"render",value:function(){var n=this.props.graphModel,i=n.selectElements,a=n.transformModel;if(!(i.size<=1)){var l=Number.MAX_SAFE_INTEGER,d=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER,O=Number.MIN_SAFE_INTEGER;i.forEach(function(pe){var he={x:0,y:0,x1:0,y1:0};pe.BaseType===Or.NODE&&(he=Im(pe)),pe.BaseType===Or.EDGE&&(he=zC(pe)),l=Math.min(l,he.x),d=Math.min(d,he.y),p=Math.max(p,he.x1),O=Math.max(O,he.y1)});var N=a.CanvasPointToHtmlPoint([l,d]),B=zm(N,2);l=B[0],d=B[1];var $=a.CanvasPointToHtmlPoint([p,O]),J=zm($,2);p=J[0],O=J[1];var fe={left:"".concat(l-10,"px"),top:"".concat(d-10,"px"),width:"".concat(p-l+20,"px"),height:"".concat(O-d+20,"px")};return Object(Se.g)("div",{className:"lf-multiple-select",style:fe,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),t}(Se.a),Ha(Bm,"toolName","multipleSelect"),Lm))||ic;function $m(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function fE(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function cE(o,e,t){return e&&fE(o.prototype,e),t&&fE(o,t),o}function Td(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var wd=function(){function o(e){$m(this,o),Td(this,"tools",void 0),Td(this,"components",void 0),Td(this,"toolMap",new Map),Td(this,"instance",void 0),this.instance=e,this.isDisabledTool(ga.toolName)||this.registerTool(ga.toolName,ga),this.isDisabledTool(Tl.toolName)||this.registerTool(Tl.toolName,Tl)}return cE(o,[{key:"isDisabledTool",value:function(t){return this.instance.options.disabledTools.indexOf(t)!==-1}},{key:"registerTool",value:function(t,r){this.toolMap.set(t,r)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),o}(),YC=u(167),WC=u.n(YC);function KC(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function dE(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function pE(o,e,t){return e&&dE(o.prototype,e),t&&dE(o,t),o}function km(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var Ad=function(){function o(e){KC(this,o),km(this,"mousetrap",void 0),km(this,"options",void 0),km(this,"target",void 0),e.keyboard||(e.keyboard={enabled:!1}),this.options=e;var t=e.lf;this.target=t.container,this.mousetrap=new WC.a(this.target),e.keyboard.enabled&&this.enable(!0)}return pE(o,[{key:"initShortcuts",value:function(){var t=this,r=this.options.keyboard.shortcuts;if(r)if(Ir(r))r.forEach(function(l){var d=l.keys,p=l.callback,O=l.action;return t.on(d,p,O)});else{var n=r.keys,i=r.callback,a=r.action;this.on(n,i,a)}}},{key:"on",value:function(t,r,n){this.mousetrap.bind(this.getKeys(t),r,n)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(t,r){this.mousetrap.unbind(this.getKeys(t),r)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var r=this;return(Array.isArray(t)?t:[t]).map(function(n){return r.formatkey(n)})}},{key:"formatkey",value:function(t){var r=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command");return r}}]),o}(),vE=Ad,Hi=null;function gi(o,e){return o.x+=e,o.y+=e,o.text&&(o.text.x+=e,o.text.y+=e),o}function Xm(o,e){return o.startPoint&&(o.startPoint.x+=e,o.startPoint.y+=e),o.endPoint&&(o.endPoint.x+=e,o.endPoint.y+=e),o.pointsList&&o.pointsList.length>0&&o.pointsList.forEach(function(t){t.x+=e,t.y+=e}),o.text&&(o.text.x+=e,o.text.y+=e),o}var lc=40;function Nd(o,e){var t=o.keyboard,r=t.options.keyboard;t.on(["cmd + c","ctrl + c"],function(){if(!!r.enabled&&!e.textEditElement){var n=o.options.guards,i=e.getSelectElements(!1),a=n&&n.beforeClone?n.beforeClone(i):!0;return a?(Hi=i,Hi.nodes.forEach(function(l){return gi(l,lc)}),Hi.edges.forEach(function(l){return Xm(l,lc)}),!1):(Hi=null,!1)}}),t.on(["cmd + v","ctrl + v"],function(){if(!!r.enabled&&!e.textEditElement){if(Hi&&(Hi.nodes||Hi.edges)){o.clearSelectElements();var n=o.addElements(Hi);if(!n)return;n.nodes.forEach(function(i){return o.selectElementById(i.id,!0)}),n.edges.forEach(function(i){return o.selectElementById(i.id,!0)}),Hi.nodes.forEach(function(i){return gi(i,lc)}),Hi.edges.forEach(function(i){return Xm(i,lc)})}return!1}}),t.on(["cmd + z","ctrl + z"],function(){if(!!r.enabled&&!e.textEditElement)return o.undo(),!1}),t.on(["cmd + y","ctrl + y"],function(){if(!!r.enabled&&!e.textEditElement)return o.redo(),!1}),t.on(["backspace"],function(){if(!!r.enabled&&!e.textEditElement){var n=e.getSelectElements(!0);return o.clearSelectElements(),n.edges.forEach(function(i){return o.deleteEdge(i.id)}),n.nodes.forEach(function(i){return o.deleteNode(i.id)}),!1}})}function VC(o,e){o.on("node:mousemove",function(t){var r=t.data;e.setNodeSnapLine(r)}),o.on("node:mouseup",function(){e.clearSnapline()})}function Dd(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dd=function(t){return typeof t}:Dd=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(o)}function sc(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,r)}return t}function jd(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sc(Object(t),!0).forEach(function(r){ln(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):sc(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function Ym(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function hE(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function yE(o,e,t){return e&&hE(o.prototype,e),t&&hE(o,t),o}function ln(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var _r=function(){function o(e){var t=this;Ym(this,o),ln(this,"container",void 0),ln(this,"width",void 0),ln(this,"height",void 0),ln(this,"graphModel",void 0),ln(this,"history",void 0),ln(this,"viewMap",new Map),ln(this,"tool",void 0),ln(this,"keyboard",void 0),ln(this,"dnd",void 0),ln(this,"options",void 0),ln(this,"snaplineModel",void 0),ln(this,"components",[]),ln(this,"plugins",void 0),ln(this,"extension",{}),ln(this,"adapterIn",void 0),ln(this,"adapterOut",void 0),ln(this,"getView",function(r){return t.viewMap.get(r)}),e=sy(e),this.options=e,this.container=e.container,this.plugins=e.plugins,this.graphModel=new Q0(jd({},e)),this.tool=new wd(this),this.history=new AC(this.graphModel.eventCenter),this.dnd=new LN({lf:this}),this.keyboard=new vE({lf:this,keyboard:e.keyboard}),!e.isSilentMode&&e.snapline!==!1&&(this.snaplineModel=new bD(this.graphModel),VC(this.graphModel.eventCenter,this.snaplineModel)),Nd(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(e.disabledPlugins)}return yE(o,[{key:"register",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(typeof t!="string"){this.registerElement(t);return}var i={BaseEdge:ro,BaseEdgeModel:pf,BaseNode:qr,BaseNodeModel:Da,RectNode:Zl,RectNodeModel:bg,CircleNode:ql,CircleNodeModel:Hy,PolygonNode:ts,PolygonNodeModel:dg,TextNode:ss,TextNodeModel:Yf,LineEdge:ms,LineEdgeModel:aa,DiamondNode:os,DiamondNodeModel:Vy,PolylineEdge:Uo,PolylineEdgeModel:Mu,BezierEdge:Es,BezierEdgeModel:Gf,EllipseNode:us,EllipseNodeModel:og,HtmlNode:ds,HtmlNodeModel:zc,h:Se.g,type:t};this.viewMap.forEach(function(O){var N=O.extendKey;N&&(i[N]=O)}),this.graphModel.modelMap.forEach(function(O){var N=O.extendKey;N&&(i[N]=O)});var a=r(i),l=a.view,d=a.model,p=l;n&&!p.isObervered&&(p.isObervered=!0,p=ot(p)),this.setView(t,p),this.graphModel.setModel(t,d)}},{key:"registerElement",value:function(t){var r=t.view;t.isObserverView!==!1&&!r.isObervered&&(r.isObervered=!0,r=ot(r)),this.setView(t.type,r),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];r.forEach(function(n){t.registerElement(n)})}},{key:"defaultRegister",value:function(){this.registerElement({view:Zl,model:bg,type:"rect"}),this.registerElement({type:"circle",view:ql,model:Hy}),this.registerElement({type:"polygon",view:ts,model:dg}),this.registerElement({type:"line",view:ms,model:aa}),this.registerElement({type:"polyline",view:Uo,model:Mu}),this.registerElement({type:"bezier",view:Es,model:Gf}),this.registerElement({type:"text",view:ss,model:Yf}),this.registerElement({type:"ellipse",view:us,model:og}),this.registerElement({type:"diamond",view:os,model:Vy}),this.registerElement({type:"html",view:ds,model:zc})}},{key:"selectElementById",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.graphModel.selectElementById(t,r),r||this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var r=this.graphModel.transformModel,n=t.coordinate,i=t.id;if(!n){var a=this.getNodeModelById(i);a&&(n=a.getData());var l=this.getEdgeModelById(i);l&&(n=l.textPosition)}var d=n,p=d.x,O=d.y;r.focusOn(p,O,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,r){this.graphModel.resize(t,r),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,r){this.graphModel.updateText(t,r)}},{key:"deleteElement",value:function(t){var r,n,i,a=this.getModelById(t);if(!a)return!1;var l=(r={},ln(r,Or.NODE,this.deleteNode),ln(r,Or.EDGE,this.deleteEdge),r),d=a.BaseType;return(n=(i=l[d])===null||i===void 0?void 0:i.call(this,t))!==null&&n!==void 0?n:!1}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){return this.graphModel.getElement(t).getData()}},{key:"changeNodeType",value:function(t,r){this.graphModel.changeNodeType(t,r)}},{key:"changeEdgeType",value:function(t,r){this.graphModel.changeEdgeType(t,r)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){return this.graphModel.addNode(t)}},{key:"deleteNode",value:function(t){var r=this.graphModel.getNodeModelById(t);if(!r)return!1;var n=r.getData(),i=this.options.guards,a=i&&i.beforeDelete?i.beforeDelete(n):!0;return a&&this.graphModel.deleteNode(t),a}},{key:"cloneNode",value:function(t){var r=this.graphModel.getNodeModelById(t),n=r.getData(),i=this.options.guards,a=i&&i.beforeClone?i.beforeClone(n):!0;if(a)return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,r){return this.graphModel.changeNodeId(t,r)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var r=this.options.guards,n=this.graphModel.edgesMap[t];if(!n)return!1;var i=n.model.getData(),a=r&&r.beforeDelete?r.beforeDelete(i):!0;return a&&this.graphModel.deleteEdgeById(t),a}},{key:"deleteEdgeByNodeId",value:function(t){var r=t.sourceNodeId,n=t.targetNodeId;r&&n?this.graphModel.deleteEdgeBySourceAndTarget(r,n):r?this.graphModel.deleteEdgeBySource(r):n&&this.graphModel.deleteEdgeByTarget(n)}},{key:"changeEdgeId",value:function(t,r){return this.graphModel.changeEdgeId(t,r)}},{key:"getEdgeModelById",value:function(t){var r,n=this.graphModel.edgesMap;return(r=n[t])===null||r===void 0?void 0:r.model}},{key:"getEdgeModels",value:function(t){var r=this.graphModel.edges,n=t.sourceNodeId,i=t.targetNodeId;if(n&&i){var a=[];return r.forEach(function(p){p.sourceNodeId===n&&p.targetNodeId===i&&a.push(p)}),a}if(n){var l=[];return r.forEach(function(p){p.sourceNodeId===n&&l.push(p)}),l}if(i){var d=[];return r.forEach(function(p){p.targetNodeId===i&&d.push(p)}),d}return[]}},{key:"getEdgeDataById",value:function(t){var r;return(r=this.getEdgeModelById(t))===null||r===void 0?void 0:r.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,r){var n;(n=this.graphModel.getElement(t))===null||n===void 0||n.setProperties(Nr(r))}},{key:"getProperties",value:function(t){var r;return(r=this.graphModel.getElement(t))===null||r===void 0?void 0:r.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,r){return this.graphModel.setElementZIndex(t,r)}},{key:"addElements",value:function(t){for(var r=this,n=t.nodes,i=t.edges,a={},l={nodes:[],edges:[]},d=0;d<n.length;d++){var p=n[d],O=p.id,N=this.addNode(p);if(!N)return;O&&(a[O]=N.id),l.nodes.push(N)}return i.forEach(function(B){var $=B.sourceNodeId,J=B.targetNodeId;a[$]&&(B.sourceNodeId=a[$]),a[J]&&(B.targetNodeId=a[J]);var fe=r.graphModel.addEdge(B);l.edges.push(fe)}),l}},{key:"getAreaElement",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return this.graphModel.getAreaElement(t,r,n,i,a).map(function(l){return l.getData()})}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.graphModel.getSelectElements(t)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,r){return this.graphModel.getPointByClient({x:t,y:r})}},{key:"undo",value:function(){if(!!this.history.undoAble()){var t=Nr(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(!!this.history.redoAble()){var t=Nr(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,r){var n=this.graphModel.transformModel;return n.zoom(t,r)}},{key:"resetZoom",value:function(){var t=this.graphModel.transformModel;t.resetZoom()}},{key:"setZoomMiniSize",value:function(t){var r=this.graphModel.transformModel;r.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){var r=this.graphModel.transformModel;r.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel,r=t.SCALE_X,n=t.SCALE_Y,i=t.TRANSLATE_X,a=t.TRANSLATE_Y;return{SCALE_X:r,SCALE_Y:n,TRANSLATE_X:i,TRANSLATE_Y:a}}},{key:"translate",value:function(t,r){var n=this.graphModel.transformModel;n.translate(t,r)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,r=t.TRANSLATE_X,n=t.TRANSLATE_Y;this.translate(-r,-n)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,r){r===void 0&&(r=t),this.graphModel.fitView(t,r)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,r){this.graphModel.eventCenter.on(t,r)}},{key:"off",value:function(t,r){this.graphModel.eventCenter.off(t,r)}},{key:"once",value:function(t,r){this.graphModel.eventCenter.once(t,r)}},{key:"emit",value:function(t,r){this.graphModel.eventCenter.emit(t,r)}},{key:"installPlugins",value:function(){var t,r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=(t=this.plugins)!==null&&t!==void 0?t:o.extensions;i.forEach(function(a){var l=a.pluginName||a.name;n.indexOf(l)===-1&&r.installPlugin(a)})}},{key:"installPlugin",value:function(t){if(Dd(t)==="object"){var r=t.install,n=t.render;r&&r.call(t,this,o),n&&this.components.push(n.bind(t)),this.extension[t.pluginName]=t;return}var i=t,a=new i({lf:this,LogicFlow:o});a.render&&this.components.push(a.render.bind(a)),this.extension[i.pluginName]=a}},{key:"updateAttributes",value:function(t,r){this.graphModel.updateAttributes(t,r)}},{key:"createFakerNode",value:function(t){var r=this.graphModel.modelMap.get(t.type);if(!r){console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(t.type,"\u7C7B\u578B\u7684\u8282\u70B9"));return}var n=new r(jd(jd({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(n),n}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,r){this.viewMap.set(t,r)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(Nr(t)),!this.options.isSilentMode&&this.options.history!==!1&&this.history.watch(this.graphModel),Object(Se.j)(Object(Se.g)(RN,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(Mt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],[{key:"use",value:function(t){var r=t.pluginName;r||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(t.name||t.constructor.name,"\u6307\u5B9ApluginName!")),r=t.name);var n=this.extensions.get(r);n&&n.destroy&&n.destroy(),this.extensions.set(r,t)}}]),o}();ln(_r,"extensions",new Map);function Ao(o){return ot(o)}var Gi=A.default=_r}])})},4150:function(){},57719:function(){},13277:function(){},38272:function(Tn,rr,x){"use strict";x.d(rr,{ZM:function(){return ve},ZP:function(){return Q}});var A=x(85061),u=x(22122),v=x(96156),c=x(28481),b=x(90484),M=x(36228),w=x.n(M),C=x(67294),j=x(53124),L=x(88258),F=x(92820),Y=x(25378),U=x(93286),W=x(11382),ee=x(24308),ae=x(21584),q=x(96159),Me=function(oe,se){var ce={};for(var re in oe)Object.prototype.hasOwnProperty.call(oe,re)&&se.indexOf(re)<0&&(ce[re]=oe[re]);if(oe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var de=0,re=Object.getOwnPropertySymbols(oe);de<re.length;de++)se.indexOf(re[de])<0&&Object.prototype.propertyIsEnumerable.call(oe,re[de])&&(ce[re[de]]=oe[re[de]]);return ce},ye=function(se){var ce=se.prefixCls,re=se.className,de=se.avatar,Ce=se.title,Re=se.description,He=Me(se,["prefixCls","className","avatar","title","description"]),Ve=(0,C.useContext)(j.E_),it=Ve.getPrefixCls,yt=it("list",ce),ht=w()("".concat(yt,"-item-meta"),re),Be=C.createElement("div",{className:"".concat(yt,"-item-meta-content")},Ce&&C.createElement("h4",{className:"".concat(yt,"-item-meta-title")},Ce),Re&&C.createElement("div",{className:"".concat(yt,"-item-meta-description")},Re));return C.createElement("div",(0,u.Z)({},He,{className:ht}),de&&C.createElement("div",{className:"".concat(yt,"-item-meta-avatar")},de),(Ce||Re)&&Be)},me=function(se,ce){var re=se.prefixCls,de=se.children,Ce=se.actions,Re=se.extra,He=se.className,Ve=se.colStyle,it=Me(se,["prefixCls","children","actions","extra","className","colStyle"]),yt=(0,C.useContext)(ve),ht=yt.grid,Be=yt.itemLayout,et=(0,C.useContext)(j.E_),tt=et.getPrefixCls,Ue=function(){var pt;return C.Children.forEach(de,function(st){typeof st=="string"&&(pt=!0)}),pt&&C.Children.count(de)>1},V=function(){return Be==="vertical"?!!Re:!Ue()},Z=tt("list",re),ne=Ce&&Ce.length>0&&C.createElement("ul",{className:"".concat(Z,"-item-action"),key:"actions"},Ce.map(function(Pe,pt){return C.createElement("li",{key:"".concat(Z,"-item-action-").concat(pt)},Pe,pt!==Ce.length-1&&C.createElement("em",{className:"".concat(Z,"-item-action-split")}))})),we=ht?"div":"li",Ge=C.createElement(we,(0,u.Z)({},it,ht?{}:{ref:ce},{className:w()("".concat(Z,"-item"),(0,v.Z)({},"".concat(Z,"-item-no-flex"),!V()),He)}),Be==="vertical"&&Re?[C.createElement("div",{className:"".concat(Z,"-item-main"),key:"content"},de,ne),C.createElement("div",{className:"".concat(Z,"-item-extra"),key:"extra"},Re)]:[de,ne,(0,q.Tm)(Re,{key:"extra"})]);return ht?C.createElement(ae.Z,{ref:ce,flex:1,style:Ve},Ge):Ge},le=(0,C.forwardRef)(me);le.Meta=ye;var Oe=le,ue=function(oe,se){var ce={};for(var re in oe)Object.prototype.hasOwnProperty.call(oe,re)&&se.indexOf(re)<0&&(ce[re]=oe[re]);if(oe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var de=0,re=Object.getOwnPropertySymbols(oe);de<re.length;de++)se.indexOf(re[de])<0&&Object.prototype.propertyIsEnumerable.call(oe,re[de])&&(ce[re[de]]=oe[re[de]]);return ce},ve=C.createContext({}),te=ve.Consumer;function z(oe){var se,ce=oe.pagination,re=ce===void 0?!1:ce,de=oe.prefixCls,Ce=oe.bordered,Re=Ce===void 0?!1:Ce,He=oe.split,Ve=He===void 0?!0:He,it=oe.className,yt=oe.children,ht=oe.itemLayout,Be=oe.loadMore,et=oe.grid,tt=oe.dataSource,Ue=tt===void 0?[]:tt,V=oe.size,Z=oe.header,ne=oe.footer,we=oe.loading,Ge=we===void 0?!1:we,Pe=oe.rowKey,pt=oe.renderItem,st=oe.locale,ft=ue(oe,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),mt=re&&(0,b.Z)(re)==="object"?re:{},De=C.useState(mt.defaultCurrent||1),jt=(0,c.Z)(De,2),at=jt[0],ut=jt[1],vt=C.useState(mt.defaultPageSize||10),Ut=(0,c.Z)(vt,2),Bt=Ut[0],At=Ut[1],It=C.useContext(j.E_),Qt=It.getPrefixCls,Gt=It.renderEmpty,or=It.direction,gr={current:1,total:0},pr={},sr=function(Rr){return function(Ur,sn){ut(Ur),At(sn),re&&re[Rr]&&re[Rr](Ur,sn)}},Ft=sr("onChange"),kt=sr("onShowSizeChange"),nr=function(Rr,Ur){if(!pt)return null;var sn;return typeof Pe=="function"?sn=Pe(Rr):Pe?sn=Rr[Pe]:sn=Rr.key,sn||(sn="list-item-".concat(Ur)),pr[Ur]=sn,pt(Rr,Ur)},We=function(){return!!(Be||re||ne)},ot=function(Rr,Ur){return C.createElement("div",{className:"".concat(Rr,"-empty-text")},st&&st.emptyText||Ur("List"))},$e=Qt("list",de),ct=Ge;typeof ct=="boolean"&&(ct={spinning:ct});var xt=ct&&ct.spinning,Dt="";switch(V){case"large":Dt="lg";break;case"small":Dt="sm";break;default:break}var k=w()($e,(se={},(0,v.Z)(se,"".concat($e,"-vertical"),ht==="vertical"),(0,v.Z)(se,"".concat($e,"-").concat(Dt),Dt),(0,v.Z)(se,"".concat($e,"-split"),Ve),(0,v.Z)(se,"".concat($e,"-bordered"),Re),(0,v.Z)(se,"".concat($e,"-loading"),xt),(0,v.Z)(se,"".concat($e,"-grid"),!!et),(0,v.Z)(se,"".concat($e,"-something-after-last-item"),We()),(0,v.Z)(se,"".concat($e,"-rtl"),or==="rtl"),se),it),G=(0,u.Z)((0,u.Z)((0,u.Z)({},gr),{total:Ue.length,current:at,pageSize:Bt}),re||{}),g=Math.ceil(G.total/G.pageSize);G.current>g&&(G.current=g);var P=re?C.createElement("div",{className:"".concat($e,"-pagination")},C.createElement(U.Z,(0,u.Z)({},G,{onChange:Ft,onShowSizeChange:kt}))):null,R=(0,A.Z)(Ue);re&&Ue.length>(G.current-1)*G.pageSize&&(R=(0,A.Z)(Ue).splice((G.current-1)*G.pageSize,G.pageSize));var X=Object.keys(et||{}).some(function(ir){return["xs","sm","md","lg","xl","xxl"].includes(ir)}),je=(0,Y.Z)(X),Ae=C.useMemo(function(){for(var ir=0;ir<ee.c4.length;ir+=1){var Rr=ee.c4[ir];if(je[Rr])return Rr}},[je]),Ke=C.useMemo(function(){if(!!et){var ir=Ae&&et[Ae]?et[Ae]:et.column;if(ir)return{width:"".concat(100/ir,"%"),maxWidth:"".concat(100/ir,"%")}}},[et==null?void 0:et.column,Ae]),Xe=xt&&C.createElement("div",{style:{minHeight:53}});if(R.length>0){var nt=R.map(function(ir,Rr){return nr(ir,Rr)}),Nt=C.Children.map(nt,function(ir,Rr){return C.createElement("div",{key:pr[Rr],style:Ke},ir)});Xe=et?C.createElement(F.Z,{gutter:et.gutter},Nt):C.createElement("ul",{className:"".concat($e,"-items")},nt)}else!yt&&!xt&&(Xe=ot($e,Gt||L.Z));var bt=G.position||"bottom",cr=C.useMemo(function(){return{grid:et,itemLayout:ht}},[JSON.stringify(et),ht]);return C.createElement(ve.Provider,{value:cr},C.createElement("div",(0,u.Z)({className:k},ft),(bt==="top"||bt==="both")&&P,Z&&C.createElement("div",{className:"".concat($e,"-header")},Z),C.createElement(W.Z,(0,u.Z)({},ct),Xe,yt),ne&&C.createElement("div",{className:"".concat($e,"-footer")},ne),Be||(bt==="bottom"||bt==="both")&&P))}z.Item=Oe;var Q=z},54421:function(Tn,rr,x){"use strict";var A=x(38663),u=x.n(A),v=x(57719),c=x.n(v),b=x(13254),M=x(6999),w=x(14781),C=x(20228)},60331:function(Tn,rr,x){"use strict";x.d(rr,{Z:function(){return me}});var A=x(96156),u=x(22122),v=x(28481),c=x(54549),b=x(36228),M=x.n(b),w=x(98423),C=x(67294),j=x(53124),L=x(98787),F=x(21790),Y=function(le,Oe){var ue={};for(var ve in le)Object.prototype.hasOwnProperty.call(le,ve)&&Oe.indexOf(ve)<0&&(ue[ve]=le[ve]);if(le!=null&&typeof Object.getOwnPropertySymbols=="function")for(var te=0,ve=Object.getOwnPropertySymbols(le);te<ve.length;te++)Oe.indexOf(ve[te])<0&&Object.prototype.propertyIsEnumerable.call(le,ve[te])&&(ue[ve[te]]=le[ve[te]]);return ue},U=function(Oe){var ue,ve=Oe.prefixCls,te=Oe.className,z=Oe.checked,Q=Oe.onChange,oe=Oe.onClick,se=Y(Oe,["prefixCls","className","checked","onChange","onClick"]),ce=C.useContext(j.E_),re=ce.getPrefixCls,de=function(Ve){Q==null||Q(!z),oe==null||oe(Ve)},Ce=re("tag",ve),Re=M()(Ce,(ue={},(0,A.Z)(ue,"".concat(Ce,"-checkable"),!0),(0,A.Z)(ue,"".concat(Ce,"-checkable-checked"),z),ue),te);return C.createElement("span",(0,u.Z)({},se,{className:Re,onClick:de}))},W=U,ee=function(le,Oe){var ue={};for(var ve in le)Object.prototype.hasOwnProperty.call(le,ve)&&Oe.indexOf(ve)<0&&(ue[ve]=le[ve]);if(le!=null&&typeof Object.getOwnPropertySymbols=="function")for(var te=0,ve=Object.getOwnPropertySymbols(le);te<ve.length;te++)Oe.indexOf(ve[te])<0&&Object.prototype.propertyIsEnumerable.call(le,ve[te])&&(ue[ve[te]]=le[ve[te]]);return ue},ae=new RegExp("^(".concat(L.Y.join("|"),")(-inverse)?$")),q=new RegExp("^(".concat(L.E.join("|"),")$")),Me=function(Oe,ue){var ve,te=Oe.prefixCls,z=Oe.className,Q=Oe.style,oe=Oe.children,se=Oe.icon,ce=Oe.color,re=Oe.onClose,de=Oe.closeIcon,Ce=Oe.closable,Re=Ce===void 0?!1:Ce,He=ee(Oe,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),Ve=C.useContext(j.E_),it=Ve.getPrefixCls,yt=Ve.direction,ht=C.useState(!0),Be=(0,v.Z)(ht,2),et=Be[0],tt=Be[1];C.useEffect(function(){"visible"in He&&tt(He.visible)},[He.visible]);var Ue=function(){return ce?ae.test(ce)||q.test(ce):!1},V=(0,u.Z)({backgroundColor:ce&&!Ue()?ce:void 0},Q),Z=Ue(),ne=it("tag",te),we=M()(ne,(ve={},(0,A.Z)(ve,"".concat(ne,"-").concat(ce),Z),(0,A.Z)(ve,"".concat(ne,"-has-color"),ce&&!Z),(0,A.Z)(ve,"".concat(ne,"-hidden"),!et),(0,A.Z)(ve,"".concat(ne,"-rtl"),yt==="rtl"),ve),z),Ge=function(at){at.stopPropagation(),re==null||re(at),!at.defaultPrevented&&("visible"in He||tt(!1))},Pe=function(){return Re?de?C.createElement("span",{className:"".concat(ne,"-close-icon"),onClick:Ge},de):C.createElement(c.Z,{className:"".concat(ne,"-close-icon"),onClick:Ge}):null},pt="onClick"in He||oe&&oe.type==="a",st=(0,w.Z)(He,["visible"]),ft=se||null,mt=ft?C.createElement(C.Fragment,null,ft,C.createElement("span",null,oe)):oe,De=C.createElement("span",(0,u.Z)({},st,{ref:ue,className:we,style:V}),mt,Pe());return pt?C.createElement(F.Z,null,De):De},ye=C.forwardRef(Me);ye.CheckableTag=W;var me=ye},71153:function(Tn,rr,x){"use strict";var A=x(38663),u=x.n(A),v=x(13277),c=x.n(v)},29589:function(Tn,rr,x){(function(A){A(x(4631))})(function(A){"use strict";var u={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},v={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};A.defineMode("xml",function(c,b){var M=c.indentUnit,w={},C=b.htmlMode?u:v;for(var j in C)w[j]=C[j];for(var j in b)w[j]=b[j];var L,F;function Y(ce,re){function de(He){return re.tokenize=He,He(ce,re)}var Ce=ce.next();if(Ce=="<")return ce.eat("!")?ce.eat("[")?ce.match("CDATA[")?de(ee("atom","]]>")):null:ce.match("--")?de(ee("comment","-->")):ce.match("DOCTYPE",!0,!0)?(ce.eatWhile(/[\w\._\-]/),de(ae(1))):null:ce.eat("?")?(ce.eatWhile(/[\w\._\-]/),re.tokenize=ee("meta","?>"),"meta"):(L=ce.eat("/")?"closeTag":"openTag",re.tokenize=U,"tag bracket");if(Ce=="&"){var Re;return ce.eat("#")?ce.eat("x")?Re=ce.eatWhile(/[a-fA-F\d]/)&&ce.eat(";"):Re=ce.eatWhile(/[\d]/)&&ce.eat(";"):Re=ce.eatWhile(/[\w\.\-:]/)&&ce.eat(";"),Re?"atom":"error"}else return ce.eatWhile(/[^&<]/),null}Y.isInText=!0;function U(ce,re){var de=ce.next();if(de==">"||de=="/"&&ce.eat(">"))return re.tokenize=Y,L=de==">"?"endTag":"selfcloseTag","tag bracket";if(de=="=")return L="equals",null;if(de=="<"){re.tokenize=Y,re.state=le,re.tagName=re.tagStart=null;var Ce=re.tokenize(ce,re);return Ce?Ce+" tag error":"tag error"}else return/[\'\"]/.test(de)?(re.tokenize=W(de),re.stringStartCol=ce.column(),re.tokenize(ce,re)):(ce.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function W(ce){var re=function(de,Ce){for(;!de.eol();)if(de.next()==ce){Ce.tokenize=U;break}return"string"};return re.isInAttribute=!0,re}function ee(ce,re){return function(de,Ce){for(;!de.eol();){if(de.match(re)){Ce.tokenize=Y;break}de.next()}return ce}}function ae(ce){return function(re,de){for(var Ce;(Ce=re.next())!=null;){if(Ce=="<")return de.tokenize=ae(ce+1),de.tokenize(re,de);if(Ce==">")if(ce==1){de.tokenize=Y;break}else return de.tokenize=ae(ce-1),de.tokenize(re,de)}return"meta"}}function q(ce){return ce&&ce.toLowerCase()}function Me(ce,re,de){this.prev=ce.context,this.tagName=re||"",this.indent=ce.indented,this.startOfLine=de,(w.doNotIndent.hasOwnProperty(re)||ce.context&&ce.context.noIndent)&&(this.noIndent=!0)}function ye(ce){ce.context&&(ce.context=ce.context.prev)}function me(ce,re){for(var de;;){if(!ce.context||(de=ce.context.tagName,!w.contextGrabbers.hasOwnProperty(q(de))||!w.contextGrabbers[q(de)].hasOwnProperty(q(re))))return;ye(ce)}}function le(ce,re,de){return ce=="openTag"?(de.tagStart=re.column(),Oe):ce=="closeTag"?ue:le}function Oe(ce,re,de){return ce=="word"?(de.tagName=re.current(),F="tag",z):w.allowMissingTagName&&ce=="endTag"?(F="tag bracket",z(ce,re,de)):(F="error",Oe)}function ue(ce,re,de){if(ce=="word"){var Ce=re.current();return de.context&&de.context.tagName!=Ce&&w.implicitlyClosed.hasOwnProperty(q(de.context.tagName))&&ye(de),de.context&&de.context.tagName==Ce||w.matchClosing===!1?(F="tag",ve):(F="tag error",te)}else return w.allowMissingTagName&&ce=="endTag"?(F="tag bracket",ve(ce,re,de)):(F="error",te)}function ve(ce,re,de){return ce!="endTag"?(F="error",ve):(ye(de),le)}function te(ce,re,de){return F="error",ve(ce,re,de)}function z(ce,re,de){if(ce=="word")return F="attribute",Q;if(ce=="endTag"||ce=="selfcloseTag"){var Ce=de.tagName,Re=de.tagStart;return de.tagName=de.tagStart=null,ce=="selfcloseTag"||w.autoSelfClosers.hasOwnProperty(q(Ce))?me(de,Ce):(me(de,Ce),de.context=new Me(de,Ce,Re==de.indented)),le}return F="error",z}function Q(ce,re,de){return ce=="equals"?oe:(w.allowMissing||(F="error"),z(ce,re,de))}function oe(ce,re,de){return ce=="string"?se:ce=="word"&&w.allowUnquoted?(F="string",z):(F="error",z(ce,re,de))}function se(ce,re,de){return ce=="string"?se:z(ce,re,de)}return{startState:function(ce){var re={tokenize:Y,state:le,indented:ce||0,tagName:null,tagStart:null,context:null};return ce!=null&&(re.baseIndent=ce),re},token:function(ce,re){if(!re.tagName&&ce.sol()&&(re.indented=ce.indentation()),ce.eatSpace())return null;L=null;var de=re.tokenize(ce,re);return(de||L)&&de!="comment"&&(F=null,re.state=re.state(L||de,ce,re),F&&(de=F=="error"?de+" error":F)),de},indent:function(ce,re,de){var Ce=ce.context;if(ce.tokenize.isInAttribute)return ce.tagStart==ce.indented?ce.stringStartCol+1:ce.indented+M;if(Ce&&Ce.noIndent)return A.Pass;if(ce.tokenize!=U&&ce.tokenize!=Y)return de?de.match(/^(\s*)/)[0].length:0;if(ce.tagName)return w.multilineTagIndentPastTag!==!1?ce.tagStart+ce.tagName.length+2:ce.tagStart+M*(w.multilineTagIndentFactor||1);if(w.alignCDATA&&/<!\[CDATA\[/.test(re))return 0;var Re=re&&/^<(\/)?([\w_:\.-]*)/.exec(re);if(Re&&Re[1])for(;Ce;)if(Ce.tagName==Re[2]){Ce=Ce.prev;break}else if(w.implicitlyClosed.hasOwnProperty(q(Ce.tagName)))Ce=Ce.prev;else break;else if(Re)for(;Ce;){var He=w.contextGrabbers[q(Ce.tagName)];if(He&&He.hasOwnProperty(q(Re[2])))Ce=Ce.prev;else break}for(;Ce&&Ce.prev&&!Ce.startOfLine;)Ce=Ce.prev;return Ce?Ce.indent+M:ce.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:w.htmlMode?"html":"xml",helperType:w.htmlMode?"html":"xml",skipAttribute:function(ce){ce.state==oe&&(ce.state=z)},xmlCurrentTag:function(ce){return ce.tagName?{name:ce.tagName,close:ce.type=="closeTag"}:null},xmlCurrentContext:function(ce){for(var re=[],de=ce.context;de;de=de.prev)re.push(de.tagName);return re.reverse()}}}),A.defineMIME("text/xml","xml"),A.defineMIME("application/xml","xml"),A.mimeModes.hasOwnProperty("text/html")||A.defineMIME("text/html",{name:"xml",htmlMode:!0})})}}]);
